import{a as B}from"./chunk-NBCQ4A3G.js";import{a as U}from"./chunk-7WMUUMW3.js";import{g as V,n as O}from"./chunk-7SZ33JPZ.js";import"./chunk-SQRP6PMK.js";import"./chunk-T4EISGAZ.js";import{a as I}from"./chunk-7YVPWAOW.js";import"./chunk-RWKAEW2Z.js";import"./chunk-WIB4C2YZ.js";import{A as D,B as q,C as G,c as N,e as h,g as P,h as j,m as A,q as T,t as L}from"./chunk-ZDPQXU7Z.js";import{u as w,v as M,w as k}from"./chunk-KB4EY57F.js";import{$b as S,Db as _,Fb as p,Hb as u,Qb as i,Rb as o,Sb as v,Zb as F,kb as l,kc as n,kd as b,la as g,lb as c,md as E,va as C,wa as f,wc as x,wd as R}from"./chunk-YECJCXI6.js";import"./chunk-CWTPBX7D.js";var z=t=>({"is-invalid":t});function Q(t,y){t&1&&(i(0,"div"),n(1,"Password is required."),o())}function W(t,y){if(t&1&&(i(0,"div"),n(1," Password must meet the following criteria: "),i(2,"ul")(3,"li"),n(4,"At least 8 characters"),o(),i(5,"li"),n(6,"At least one uppercase letter"),o(),i(7,"li"),n(8,"At least one lowercase letter"),o(),i(9,"li"),n(10,"At least one digit"),o(),i(11,"li"),n(12,"At least one special character"),o()()()),t&2){let s,e,r,a,d,m=S(2);l(3),u("text-success",(s=m.registrationForm.get("pass_key"))==null||s.errors==null?null:s.errors.hasMinLength),l(2),u("text-success",(e=m.registrationForm.get("pass_key"))==null||e.errors==null?null:e.errors.hasUpperCase),l(2),u("text-success",(r=m.registrationForm.get("pass_key"))==null||r.errors==null?null:r.errors.hasLowerCase),l(2),u("text-success",(a=m.registrationForm.get("pass_key"))==null||a.errors==null?null:a.errors.hasDigit),l(2),u("text-success",(d=m.registrationForm.get("pass_key"))==null||d.errors==null?null:d.errors.hasSpecialChar)}}function X(t,y){if(t&1&&(i(0,"div",13),_(1,Q,2,0,"div",14)(2,W,13,10,"div",14),o()),t&2){let s,e,r=S();l(),p("ngIf",(s=r.registrationForm.get("pass_key"))==null||s.errors==null?null:s.errors.required),l(),p("ngIf",(e=r.registrationForm.get("pass_key"))==null||e.errors==null?null:e.errors.passwordStrength)}}function Y(t,y){t&1&&(i(0,"div",15)(1,"div",16)(2,"h4",17),n(3,"Registration Error"),o(),i(4,"p"),n(5,"The email address you provided is already registered with us."),o(),v(6,"hr"),i(7,"p",18),n(8," Please "),i(9,"a",19),n(10,"log in"),o(),n(11," instead, or use a different email address. "),o()()())}var J=(()=>{class t{constructor(s,e,r,a){this.fb=s,this.registerService=e,this.authCookie=r,this.router=a,this.loading=!1,this.errorMessage=""}ngOnInit(){this.registrationForm=this.fb.group({email:["hirensojitra007@gmail.com",[h.required,h.email]],pass_key:["S@jitra95",[h.required,B]]})}register(){if(this.registrationForm.invalid)return;let s=this.registrationForm.value;this.loading=!0,console.log(s),this.registerService.register(s).subscribe({next:e=>{console.log(e),this.loading=!1,this.authCookie.setToken(e.token),e.is_email_verified?this.router.navigate(["/latest"]):(e.email_otp_token&&e.otp_expires_at&&this.authCookie.setOtpToken(e.email_otp_token,e.otp_expires_at),this.router.navigate(["/authentication/verify-email"],{queryParams:{user_id:e.user_id}}))},error:e=>{this.loading=!1,this.errorMessage=e.message||"Registration failed"}})}static{this.\u0275fac=function(e){return new(e||t)(c(D),c(U),c(I),c(w))}}static{this.\u0275cmp=C({type:t,selectors:[["app-register"]],decls:23,vars:11,consts:[[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"form-group","mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control",3,"ngClass"],[1,"form-group","mb-4"],["for","pass_key",1,"form-label"],["type","password","id","pass_key","formControlName","pass_key","placeholder","Enter password",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","submit",1,"btn","btn-dark","w-100","mb-3",3,"disabled"],["class","my-3",4,"ngIf"],[1,"text-center"],[1,"text-decoration-none",3,"routerLink"],[1,"invalid-feedback"],[4,"ngIf"],[1,"my-3"],["role","alert",1,"alert","alert-danger"],[1,"alert-heading"],[1,"mb-0"],["routerLink","/login"]],template:function(e,r){if(e&1&&(i(0,"div",0)(1,"h4"),n(2,"Create an account"),o(),i(3,"p"),n(4,"Please enter your email and password to sign up."),o()(),i(5,"form",1),F("ngSubmit",function(){return r.register()}),i(6,"div",2)(7,"label",3),n(8,"E-Mail Address"),o(),v(9,"input",4),o(),i(10,"div",5)(11,"label",6),n(12,"Password"),o(),v(13,"input",7),_(14,X,3,2,"div",8),o(),i(15,"button",9),n(16," Sign Up "),o()(),_(17,Y,12,0,"div",10),i(18,"div",11)(19,"p"),n(20,"Already have an account? "),i(21,"a",12),n(22,"Sign In"),o()()()),e&2){let a,d,m;l(5),p("formGroup",r.registrationForm),l(4),p("ngClass",x(7,z,((a=r.registrationForm.get("email"))==null?null:a.invalid)&&((a=r.registrationForm.get("email"))==null?null:a.touched))),l(4),p("ngClass",x(9,z,((d=r.registrationForm.get("pass_key"))==null?null:d.invalid)&&((d=r.registrationForm.get("pass_key"))==null?null:d.touched))),l(),p("ngIf",((m=r.registrationForm.get("pass_key"))==null?null:m.invalid)&&((m=r.registrationForm.get("pass_key"))==null?null:m.touched)),l(),p("disabled",r.registrationForm.invalid||r.loading),l(2),p("ngIf",r.errorMessage),l(4),p("routerLink","/authentication/login")}},dependencies:[b,E,A,N,P,j,T,L,M,V]})}}return t})();var Z=[{path:"",component:J,data:{title:"PostNew | Register",description:"Login or register to PostNew portal for accessing services",keywords:"PostNew, login, register, portal",robots:"index, follow",image:"https://test-ssr-hiren.netlify.app/assets/images/jpg/register.jpg"}}],K=(()=>{class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275mod=f({type:t})}static{this.\u0275inj=g({imports:[k.forChild(Z),k]})}}return t})();var ve=(()=>{class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275mod=f({type:t})}static{this.\u0275inj=g({imports:[R,q,G,K,O]})}}return t})();export{ve as RegisterModule};
