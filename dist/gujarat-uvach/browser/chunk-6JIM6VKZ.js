import{a as _}from"./chunk-HFH4GCBB.js";import{d as q,r as T}from"./chunk-6NDYNFBK.js";import{c as C,d as g,f as M,g as k,k as E,o as R,r as x,w as N,x as j,y as I}from"./chunk-GT4UHHBC.js";import{a as S}from"./chunk-KSMABEJH.js";import"./chunk-UAFIQC2Y.js";import"./chunk-Y3GEKSN5.js";import"./chunk-77ITHIYP.js";import{Aa as w,F as u,Ia as s,K as h,Kb as y,L as c,Lb as P,Mb as f,Sa as v,ba as m,ca as l,fb as F,oa as d,ob as b,ua as r,va as a,wa as p}from"./chunk-6ARKFSPH.js";import"./chunk-CWTPBX7D.js";var L=e=>({"is-invalid":e}),D=(()=>{class e{constructor(o,t,i,n){this.fb=o,this.authService=t,this.toast=i,this.router=n,this.forgotPasswordForm=this.fb.group({email:["",[g.required,g.email]]})}ngOnInit(){}submitRequest(){if(this.forgotPasswordForm.valid){let o=this.forgotPasswordForm.get("email")?.value;this.authService.requestPasswordReset(o).subscribe(t=>{t.success?(this.toast.show("Password reset link sent to your email.",{class:"bg-success"}),this.router.navigate(["/auth/login"])):this.toast.show(t.error,{class:"bg-danger"})},t=>{console.error("Error requesting password reset:",t),this.toast.show("Error occurred while processing your request.",{class:"bg-danger"})})}else this.markFormGroupTouched(this.forgotPasswordForm)}markFormGroupTouched(o){Object.keys(o.controls).forEach(t=>{o.controls[t].markAsTouched()})}static{this.\u0275fac=function(t){return new(t||e)(l(N),l(S),l(_),l(y))}}static{this.\u0275cmp=h({type:e,selectors:[["app-forgot-password"]],decls:20,vars:6,consts:[[1,"text-center","mb-4"],["src","assets/images/svg/logo.svg","alt","logo",2,"width","60px"],[1,"mt-3"],[3,"ngSubmit","formGroup"],[1,"form-group","mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],["type","submit",1,"btn","btn-dark","w-100",3,"disabled"],[1,"text-center","mt-3"],[1,"text-decoration-none",3,"routerLink"]],template:function(t,i){if(t&1&&(r(0,"div",0),p(1,"img",1),r(2,"h4",2),s(3,"Forgot Password"),a(),r(4,"p"),s(5,"Enter your registered email address to reset your password."),a()(),r(6,"form",3),w("ngSubmit",function(){return i.submitRequest()}),r(7,"div",4)(8,"label",5),s(9,"E-Mail Address"),a(),p(10,"input",6),r(11,"div",7),s(12,"Please enter a valid email."),a()(),r(13,"button",8),s(14,"Send Reset Link"),a()(),r(15,"div",9)(16,"p"),s(17,"Remember your password? "),r(18,"a",10),s(19,"Sign In"),a()()()),t&2){let n;m(6),d("formGroup",i.forgotPasswordForm),m(4),d("ngClass",v(4,L,((n=i.forgotPasswordForm.get("email"))==null?null:n.invalid)&&((n=i.forgotPasswordForm.get("email"))==null?null:n.touched))),m(3),d("disabled",i.forgotPasswordForm.invalid),m(5),d("routerLink","/auth/login")}},dependencies:[F,P,E,C,M,k,R,x,q]})}}return e})();var V=[{path:"",component:D,data:{title:"Forgot Password",description:"Reset your password using email",keywords:"Forgot password, reset password",robots:"noindex, nofollow"}}],G=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275mod=c({type:e})}static{this.\u0275inj=u({imports:[f.forChild(V),f]})}}return e})();var it=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275mod=c({type:e})}static{this.\u0275inj=u({imports:[b,G,j,I,T]})}}return e})();export{it as ForgotPasswordModule};
