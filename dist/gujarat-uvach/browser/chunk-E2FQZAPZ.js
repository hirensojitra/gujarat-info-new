import{a as Ya}from"./chunk-4MZXJKM5.js";import{b as nn,c as gi,d as mi,e as Ht,f as $e}from"./chunk-UYJ7RUDE.js";import{C as ui,E as rn,G as pi,H as Yt,I as fi,J as sn,L as on,N as _i,O as $t,b as oi,c as P,e as et,f as Nt,g as it,h as Gt,i as Xa,k as ci,l as hi,m as Za,q as Ja,u as en,v as tn,w as te,x as be,y as pt,z as an}from"./chunk-KCML6F43.js";import{a as ja}from"./chunk-E6K6YWIC.js";import{a as za,b as Wa}from"./chunk-2WFSZC7Y.js";import{c as tt,d as Ye,f as pe,g as li,h as di,i as Te,j as Va,k as Pa,l as Ba}from"./chunk-OK5S6IU3.js";import{a as $a}from"./chunk-EQFIAJPX.js";import{a as wa,b as Na,c as Ga,d as Ha,e as Ua,f as Qa,g as Ka,r as qa}from"./chunk-CQN4QDIB.js";import{a as jt}from"./chunk-32SRTGJU.js";import{a as ba}from"./chunk-5Q7Z4NCA.js";import{c as Da,d as Oe,f as Ca,g as Aa,i as Sa,k as Ia,o as Ma,r as ka,s as Ea,t as Fa,u as Ra,x as Oa,y as Ta,z as La}from"./chunk-VHQPGRHI.js";import{c as Bt,k as fa,l as _a,o as ya,s as va,v as xa,x as si}from"./chunk-ZHFQYQGD.js";import{$a as Ct,$b as u,Aa as I,Ab as oe,Ba as Ke,Ca as Dt,Cb as It,Da as gt,Dc as Ae,Ea as ai,Eb as Xe,Ec as ha,Fa as ni,Fb as Mt,Fc as ua,Gb as kt,Ha as G,Hb as Et,Ia as O,Ib as l,J as Fe,Jb as d,Jc as Pt,K as je,Kb as x,Lb as Ne,Mb as Ge,Na as xe,Nb as J,Oa as na,Ob as oa,Pb as C,Q as ut,Qb as la,Rb as v,Rc as q,Sb as Ze,Tb as Je,Ub as ae,Vb as Ft,Wb as Rt,Wc as ga,Xb as ee,Yb as $,Yc as Se,Zb as z,Zc as ma,_ as wt,_c as pa,a as Ce,aa as ii,ac as B,ba as ea,bc as le,d as Xi,dc as Ot,ea as ta,eb as h,ec as Tt,fa as R,fb as _,fc as Lt,g as Q,ga as E,gb as ra,gc as Vt,h as Zi,hc as de,hd as Re,ia as re,jb as sa,jc as ri,jd as ce,ka as y,kd as He,la as ve,lb as At,ma as ia,na as aa,nb as Z,pa as se,qa as X,ra as F,rb as qe,sa as K,sb as mt,t as ht,wb as L,x as Ji,xb as ie,xc as da,ya as me,yb as g,yc as ca,za as S,zb as St}from"./chunk-KKPMMK4Z.js";import{a as N,b as Ee,f as M}from"./chunk-CWTPBX7D.js";function vi(a){for(let r in a){let e=a[r]??"";switch(r){case"display":e==="flex"?a.display=["-webkit-flex","flex"]:e==="inline-flex"?a.display=["-webkit-inline-flex","inline-flex"]:a.display=e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":a["-webkit-"+r]=e;break;case"flex-direction":a["-webkit-flex-direction"]=e,a["flex-direction"]=e;break;case"order":a.order=a["-webkit-"+r]=isNaN(+e)?"0":e;break}}return a}var yi="inline",ln=["row","column","row-reverse","column-reverse"];function dn(a){let[r,e,t]=rr(a);return or(r,e,t)}function rr(a){a=a?.toLowerCase()??"";let[r,e,t]=a.split(" ");return ln.find(i=>i===r)||(r=ln[0]),e===yi&&(e=t!==yi?t:"",t=yi),[r,sr(e),!!t]}function sr(a){if(a)switch(a.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":a="wrap-reverse";break;case"no":case"none":case"nowrap":a="nowrap";break;default:a="wrap";break}return a}function or(a,r=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":a,"flex-wrap":r||null}}function cn(a,...r){if(a==null)throw TypeError("Cannot convert undefined or null to object");for(let e of r)if(e!=null)for(let t in e)e.hasOwnProperty(t)&&(a[t]=e[t]);return a}function lr(a,r){return()=>{if(ce(r)){let e=Array.from(a.querySelectorAll(`[class*=${hn}]`)),t=/\bflex-layout-.+?\b/g;e.forEach(i=>{i.classList.contains(`${hn}ssr`)&&i.parentNode?i.parentNode.removeChild(i):i.className.replace(t,"")})}}}var dr={provide:da,useFactory:lr,deps:[q,xe],multi:!0},hn="flex-layout-";var rt=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=F({type:a}),a.\u0275inj=E({providers:[dr]}),a})(),ze=class a{constructor(r=!1,e="all",t="",i="",n=0){this.matches=r,this.mediaQuery=e,this.mqAlias=t,this.suffix=i,this.priority=n,this.property=""}clone(){return new a(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}};var cr=(()=>{class a{constructor(){this.stylesheet=new Map}addStyleToElement(e,t,i){let n=this.stylesheet.get(e);n?n.set(t,i):this.stylesheet.set(e,new Map([[t,i]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,t){let i=this.stylesheet.get(e),n="";if(i){let s=i.get(t);(typeof s=="number"||typeof s=="string")&&(n=s+"")}return n}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var zt={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Le=new re("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>zt});var _t=new re("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1});var Ut=new re("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function xn(a,r){return a=a?.clone()??new ze,r&&(a.mqAlias=r.alias,a.mediaQuery=r.mediaQuery,a.suffix=r.suffix,a.priority=r.priority),a}var nt=class{constructor(){this.shouldCache=!0}sideEffect(r,e,t){}};var bi=(()=>{class a{constructor(e,t,i,n){this._serverStylesheet=e,this._serverModuleLoaded=t,this._platformId=i,this.layoutConfig=n}applyStyleToElement(e,t,i=null){let n={};typeof t=="string"&&(n[t]=i,t=n),n=this.layoutConfig.disableVendorPrefixes?t:vi(t),this._applyMultiValueStyleToElement(n,e)}applyStyleToElements(e,t=[]){let i=this.layoutConfig.disableVendorPrefixes?e:vi(e);t.forEach(n=>{this._applyMultiValueStyleToElement(i,n)})}getFlowDirection(e){let t="flex-direction",i=this.lookupStyle(e,t),n=this.lookupInlineStyle(e,t)||He(this._platformId)&&this._serverModuleLoaded?i:"";return[i||"row",n]}hasWrap(e){return this.lookupStyle(e,"flex-wrap")==="wrap"}lookupAttributeValue(e,t){return e.getAttribute(t)??""}lookupInlineStyle(e,t){return ce(this._platformId)?e.style.getPropertyValue(t):hr(e,t)}lookupStyle(e,t,i=!1){let n="";return e&&((n=this.lookupInlineStyle(e,t))||(ce(this._platformId)?i||(n=getComputedStyle(e).getPropertyValue(t)):this._serverModuleLoaded&&(n=this._serverStylesheet.getStyleForElement(e,t)))),n?n.trim():""}_applyMultiValueStyleToElement(e,t){Object.keys(e).sort().forEach(i=>{let n=e[i],s=Array.isArray(n)?n:[n];s.sort();for(let o of s)o=o?o+"":"",ce(this._platformId)||!this._serverModuleLoaded?ce(this._platformId)?t.style.setProperty(i,o):ur(t,i,o):this._serverStylesheet.addStyleToElement(t,i,o)})}}return a.\u0275fac=function(e){return new(e||a)(y(cr),y(_t),y(xe),y(Le))},a.\u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function hr(a,r){return bn(a)[r]??""}function ur(a,r,e){r=r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();let t=bn(a);t[r]=e??"",gr(a,t)}function gr(a,r){let e="";for(let t in r)r[t]&&(e+=`${t}:${r[t]};`);a.setAttribute("style",e)}function bn(a){let r={},e=a.getAttribute("style");if(e){let t=e.split(/;+/g);for(let i=0;i<t.length;i++){let n=t[i].trim();if(n.length>0){let s=n.indexOf(":");if(s===-1)throw new Error(`Invalid CSS style: ${n}`);let o=n.substr(0,s).trim();r[o]=n.substr(s+1).trim()}}}return r}function ft(a,r){let e=a&&a.priority||0;return(r&&r.priority||0)-e}function mr(a,r){let e=a.priority||0,t=r.priority||0;return e-t}var pr=(()=>{class a{constructor(e,t,i){this._zone=e,this._platformId=t,this._document=i,this.source=new Zi(new ze(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){let e=[];return this.registry.forEach((t,i)=>{t.matches&&e.push(i)}),e}isActive(e){return this.registry.get(e)?.matches??this.registerQuery(e).some(i=>i.matches)}observe(e,t=!1){if(e&&e.length){let i=this._observable$.pipe(je(s=>t?e.indexOf(s.mediaQuery)>-1:!0)),n=new Xi(s=>{let o=this.registerQuery(e);if(o.length){let c=o.pop();o.forEach(p=>{s.next(p)}),this.source.next(c)}s.complete()});return Fe(n,i)}return this._observable$}registerQuery(e){let t=Array.isArray(e)?e:[e],i=[];return fr(t,this._document),t.forEach(n=>{let s=c=>{this._zone.run(()=>this.source.next(new ze(c.matches,n)))},o=this.registry.get(n);o||(o=this.buildMQL(n),o.addListener(s),this.pendingRemoveListenerFns.push(()=>o.removeListener(s)),this.registry.set(n,o)),o.matches&&i.push(new ze(!0,n))}),i}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return yr(e,ce(this._platformId))}}return a.\u0275fac=function(e){return new(e||a)(y(Z),y(xe),y(q))},a.\u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),un={};function fr(a,r){let e=a.filter(t=>!un[t]);if(e.length>0){let t=e.join(", ");try{let i=r.createElement("style");if(i.setAttribute("type","text/css"),!i.styleSheet){let n=`
/*
  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners
  see http://bit.ly/2sd4HMP
*/
@media ${t} {.fx-query-test{ }}
`;i.appendChild(r.createTextNode(n))}r.head.appendChild(i),e.forEach(n=>un[n]=i)}catch(i){console.error(i)}}}function _r(a){let r=new EventTarget;return r.matches=a==="all"||a==="",r.media=a,r.addListener=()=>{},r.removeListener=()=>{},r.addEventListener=()=>{},r.dispatchEvent=()=>!1,r.onchange=null,r}function yr(a,r){return r&&!!window.matchMedia("all").addListener?window.matchMedia(a):_r(a)}var vr=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}];var gn="(orientation: portrait) and (max-width: 599.98px)",mn="(orientation: landscape) and (max-width: 959.98px)",pn="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",fn="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",_n="(orientation: portrait) and (min-width: 840px)",yn="(orientation: landscape) and (min-width: 1280px)",Ie={HANDSET:`${gn}, ${mn}`,TABLET:`${pn} , ${fn}`,WEB:`${_n}, ${yn} `,HANDSET_PORTRAIT:`${gn}`,TABLET_PORTRAIT:`${pn} `,WEB_PORTRAIT:`${_n}`,HANDSET_LANDSCAPE:`${mn}`,TABLET_LANDSCAPE:`${fn}`,WEB_LANDSCAPE:`${yn}`},xr=[{alias:"handset",priority:2e3,mediaQuery:Ie.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:Ie.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:Ie.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:Ie.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:Ie.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:Ie.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:Ie.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:Ie.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:Ie.WEB_PORTRAIT,overlapping:!0}],br=/(\.|-|_)/g;function wr(a){let r=a.length>0?a.charAt(0):"",e=a.length>1?a.slice(1):"";return r.toUpperCase()+e}function Dr(a){return a.replace(br,"|").split("|").map(wr).join("")}function Cr(a){return a.forEach(r=>{r.suffix||(r.suffix=Dr(r.alias),r.overlapping=!!r.overlapping)}),a}function Ar(a,r=[]){let e={};return a.forEach(t=>{e[t.alias]=t}),r.forEach(t=>{e[t.alias]?cn(e[t.alias],t):e[t.alias]=t}),Cr(Object.keys(e).map(t=>e[t]))}var Sr=new re("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{let a=ve(Ut),r=ve(Le),e=[].concat.apply([],(a||[]).map(i=>Array.isArray(i)?i:[i])),t=(r.disableDefaultBps?[]:vr).concat(r.addOrientationBps?xr:[]);return Ar(t,e)}});var wn=(()=>{class a{constructor(e){this.findByMap=new Map,this.items=[...e].sort(mr)}findByAlias(e){return e?this.findWithPredicate(e,t=>t.alias===e):null}findByQuery(e){return this.findWithPredicate(e,t=>t.mediaQuery===e)}get overlappings(){return this.items.filter(e=>e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e?.suffix??"")}findWithPredicate(e,t){let i=this.findByMap.get(e);return i||(i=this.items.find(t)??null,this.findByMap.set(e,i)),i??null}}return a.\u0275fac=function(e){return new(e||a)(y(Sr))},a.\u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var at="print",Ir={alias:at,mediaQuery:at,priority:1e3},Mr=(()=>{class a{constructor(e,t,i){this.breakpoints=e,this.layoutConfig=t,this._document=i,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new xi,this.deactivations=[]}withPrintQuery(e){return[...e,at]}isPrintEvent(e){return e.mediaQuery.startsWith(at)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>e!==null)}getEventBreakpoints({mediaQuery:e}){let t=this.breakpoints.findByQuery(e);return(t?[...this.printBreakPoints,t]:this.printBreakPoints).sort(ft)}updateEvent(e){let t=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(t=this.getEventBreakpoints(e)[0],e.mediaQuery=t?.mediaQuery??""),xn(e,t)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;let t=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new ze(!0,at))),e.updateStyles())},i=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",t),this._document.defaultView.addEventListener("afterprint",i),this.beforePrintEventListeners.push(t),this.afterPrintEventListeners.push(i)}interceptEvents(e){return t=>{if(this.isPrintEvent(t)){t.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(t)),e.updateStyles()):!t.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles());return}this.collectActivations(e,t)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,t){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(t)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(e,t){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent){this.deactivations=[];return}if(!t.matches){let i=this.breakpoints.findByQuery(t.mediaQuery);if(i){let n=this.formerActivations&&this.formerActivations.includes(i),s=!this.formerActivations&&e.activatedBreakpoints.includes(i);(n||s)&&(this.deactivations.push(i),this.deactivations.sort(ft))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return a.\u0275fac=function(e){return new(e||a)(y(wn),y(Le),y(q))},a.\u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),xi=class{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(r){return r.push(Ir),r.sort(ft),r.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(r){r&&this.printBreakpoints.find(t=>t.mediaQuery===r.mediaQuery)===void 0&&(this.printBreakpoints=kr(r)?[r,...this.printBreakpoints]:[...this.printBreakpoints,r])}clear(){this.printBreakpoints=[]}};function kr(a){return a?.mediaQuery.startsWith(at)??!1}var wi=(()=>{class a{constructor(e,t,i){this.matchMedia=e,this.breakpoints=t,this.hook=i,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new Q,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(e){this._activatedBreakpoints=[...e]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(e){this._useFallbacks=e}onMediaChange(e){let t=this.findByQuery(e.mediaQuery);if(t){e=xn(e,t);let i=this.activatedBreakpoints.indexOf(t);e.matches&&i===-1?(this._activatedBreakpoints.push(t),this._activatedBreakpoints.sort(ft),this.updateStyles()):!e.matches&&i!==-1&&(this._activatedBreakpoints.splice(i,1),this._activatedBreakpoints.sort(ft),this.updateStyles())}}init(e,t,i,n,s=[]){vn(this.updateMap,e,t,i),vn(this.clearMap,e,t,n),this.buildElementKeyMap(e,t),this.watchExtraTriggers(e,t,s)}getValue(e,t,i){let n=this.elementMap.get(e);if(n){let s=i!==void 0?n.get(i):this.getActivatedValues(n,t);if(s)return s.get(t)}}hasValue(e,t){let i=this.elementMap.get(e);if(i){let n=this.getActivatedValues(i,t);if(n)return n.get(t)!==void 0||!1}return!1}setValue(e,t,i,n){let s=this.elementMap.get(e);if(!s)s=new Map().set(n,new Map().set(t,i)),this.elementMap.set(e,s);else{let c=(s.get(n)??new Map).set(t,i);s.set(n,c),this.elementMap.set(e,s)}let o=this.getValue(e,t);o!==void 0&&this.updateElement(e,t,o)}trackValue(e,t){return this.subject.asObservable().pipe(je(i=>i.element===e&&i.key===t))}updateStyles(){this.elementMap.forEach((e,t)=>{let i=new Set(this.elementKeyMap.get(t)),n=this.getActivatedValues(e);n&&n.forEach((s,o)=>{this.updateElement(t,o,s),i.delete(o)}),i.forEach(s=>{if(n=this.getActivatedValues(e,s),n){let o=n.get(s);this.updateElement(t,s,o)}else this.clearElement(t,s)})})}clearElement(e,t){let i=this.clearMap.get(e);if(i){let n=i.get(t);n&&(n(),this.subject.next({element:e,key:t,value:""}))}}updateElement(e,t,i){let n=this.updateMap.get(e);if(n){let s=n.get(t);s&&(s(i),this.subject.next({element:e,key:t,value:i}))}}releaseElement(e){let t=this.watcherMap.get(e);t&&(t.forEach(n=>n.unsubscribe()),this.watcherMap.delete(e));let i=this.elementMap.get(e);i&&(i.forEach((n,s)=>i.delete(s)),this.elementMap.delete(e))}triggerUpdate(e,t){let i=this.elementMap.get(e);if(i){let n=this.getActivatedValues(i,t);n&&(t?this.updateElement(e,t,n.get(t)):n.forEach((s,o)=>this.updateElement(e,o,s)))}}buildElementKeyMap(e,t){let i=this.elementKeyMap.get(e);i||(i=new Set,this.elementKeyMap.set(e,i)),i.add(t)}watchExtraTriggers(e,t,i){if(i&&i.length){let n=this.watcherMap.get(e);if(n||(n=new Map,this.watcherMap.set(e,n)),!n.get(t)){let o=Fe(...i).subscribe(()=>{let c=this.getValue(e,t);this.updateElement(e,t,c)});n.set(t,o)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,t){for(let n=0;n<this.activatedBreakpoints.length;n++){let s=this.activatedBreakpoints[n],o=e.get(s.alias);if(o&&(t===void 0||o.has(t)&&o.get(t)!=null))return o}if(!this._useFallbacks)return;let i=e.get("");return t===void 0||i&&i.has(t)?i:void 0}observeActivations(){let e=this.breakpoints.items.map(t=>t.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe(ea(this.hook.interceptEvents(this)),je(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return a.\u0275fac=function(e){return new(e||a)(y(pr),y(wn),y(Mr))},a.\u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function vn(a,r,e,t){if(t!==void 0){let i=a.get(r)??new Map;i.set(e,t),a.set(r,i)}}var Wt=(()=>{class a{constructor(e,t,i,n){this.elementRef=e,this.styleBuilder=t,this.styler=i,this.marshal=n,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new Q,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(t=>{if(this.inputs.indexOf(t)!==-1){let i=t.split(".").slice(1).join("."),n=e[t].currentValue;this.setValue(n,i)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,t){let i=this.styleBuilder,n=i.shouldCache,s=this.styleCache.get(e);(!s||!n)&&(s=i.buildStyles(e,t),n&&this.styleCache.set(e,s)),this.mru=N({},s),this.applyStyleToElement(s),i.sideEffect(e,s,t)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,t=!1){if(e){let[i,n]=this.styler.getFlowDirection(e);if(!n&&t){let s=dn(i),o=[e];this.styler.applyStyleToElements(s,o)}return i.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,t,i=this.nativeElement){this.styler.applyStyleToElement(i,e,t)}setValue(e,t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,t)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return a.\u0275fac=function(e){return new(e||a)(_(G),_(nt),_(bi),_(wi))},a.\u0275dir=K({type:a,features:[me]}),a})();var Rr=(()=>{class a extends Wt{constructor(e,t,i,n,s,o,c){super(e,null,t,i),this.ngClassInstance=c,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new Se(n,s,e,o)),this.init(),this.setValue("","")}set klass(e){this.ngClassInstance.klass=e,this.setValue(e,"")}updateWithValue(e){this.ngClassInstance.ngClass=e,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return a.\u0275fac=function(e){return new(e||a)(_(G),_(bi),_(wi),_(ha),_(ua),_(At),_(Se,10))},a.\u0275dir=K({type:a,inputs:{klass:[se.None,"class","klass"]},features:[qe]}),a})(),Or=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];var Cn=(()=>{class a extends Rr{constructor(){super(...arguments),this.inputs=Or}}return a.\u0275fac=(()=>{let r;return function(t){return(r||(r=gt(a)))(t||a)}})(),a.\u0275dir=K({type:a,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[qe]}),a})();var Di=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=F({type:a}),a.\u0275inj=E({imports:[rt]}),a})();var Ci=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=F({type:a}),a.\u0275inj=E({imports:[rt,Nt]}),a})();var Ai=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=F({type:a}),a.\u0275inj=E({imports:[rt]}),a})();var An=(()=>{class a{constructor(e,t){He(t)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,t=[]){return{ngModule:a,providers:e.serverLoaded?[{provide:Le,useValue:N(N({},zt),e)},{provide:Ut,useValue:t,multi:!0},{provide:_t,useValue:!0}]:[{provide:Le,useValue:N(N({},zt),e)},{provide:Ut,useValue:t,multi:!0}]}}}return a.\u0275fac=function(e){return new(e||a)(y(_t),y(xe))},a.\u0275mod=F({type:a}),a.\u0275inj=E({imports:[Ci,Di,Ai,Ci,Di,Ai]}),a})();var Sn=(()=>{class a{constructor(e,t){this.document=e,this.platformId=t,this.baseUrl=""}getBaseUrl(){if(ce(this.platformId)){let e=this.document.baseURI;e.startsWith("https://")||(e="https://"+e.substring(e.indexOf("://")+3)),this.baseUrl=e}else this.baseUrl="https://postnew.in/";return this.baseUrl}static{this.\u0275fac=function(t){return new(t||a)(y(q),y(xe))}}static{this.\u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var In=(()=>{class a{constructor(e){this.http=e,this.apiUrl=jt.MasterApi+"/track"}saveData(e,t){let i={formData:e,imgParam:t};return console.log(i),this.http.post(this.apiUrl+"/saveData",i)}static{this.\u0275fac=function(t){return new(t||a)(y(Bt))}}static{this.\u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var Br=["imageDraw"],jr=["textInput"],Nr=["imageInput"],Gr=a=>({"d-none":a}),Hr=a=>({"d-none d-md-block":a});function Yr(a,r){a&1&&(l(0,"div",52)(1,"a",53),x(2,"img",54),d()()),a&2&&(h(),g("routerLink","/latest"),h(),g("maxWPX",200))}function $r(a,r){a&1&&(l(0,"div",55),x(1,"img",56),l(2,"button",57),x(3,"i",58),u(4,"Home"),d()()),a&2&&(g("@fadeIn",void 0),h(2),g("routerLink","/latest"))}function zr(a,r){if(a&1&&(l(0,"h1",75),u(1),d()),a&2){let e=v(3);h(),B(e.postDetails.title)}}function Ur(a,r){if(a&1&&(l(0,"h2",76),u(1),d()),a&2){let e=v(3);h(),B(e.postDetails.info)}}function Wr(a,r){if(a&1&&(l(0,"div",71),L(1,zr,2,1,"h1",72)(2,Ur,2,1,"h2",73),l(3,"h5",74),u(4,"Downloads "),l(5,"b"),u(6),d()()()),a&2){let e=v(2);h(),g("ngIf",e.postDetails.title),h(),g("ngIf",e.postDetails.info),h(4),B(e.postDetails.download_counter)}}function Qr(a,r){if(a&1&&x(0,"img",77),a&2){let e=v(2);g("src",e.imgUrl+e.postDetails.id,Ct)("alt",e.postDetails.title)}}function Kr(a,r){if(a&1){let e=J();l(0,"div",59),L(1,Wr,7,3,"div",60)(2,Qr,1,2,"img",61),l(3,"button",62),C("click",function(){S(e);let i=v();return I(i.openInBrowser())}),x(4,"i",63),u(5," DOWNLOAD POSTER "),d(),l(6,"div",64)(7,"h3",65),x(8,"i",66),u(9," You're using an in-app browser! "),d(),l(10,"p",67),u(11,"For the best experience, please open this page in your default browser."),d(),l(12,"h5",68),u(13,"\u{1F4CC} How to Open in Browser:"),d(),l(14,"ul",69)(15,"li",70)(16,"strong"),u(17,"Facebook:"),d(),u(18," Tap "),l(19,"b"),u(20,"\u2022\u2022\u2022 (three dots)"),d(),u(21," in the top-right & select "),l(22,"b"),u(23,'"Open in Browser"'),d(),u(24,"."),d(),l(25,"li",70)(26,"strong"),u(27,"Instagram:"),d(),u(28," Tap "),l(29,"b"),u(30,"\u2022\u2022\u2022 (three dots)"),d(),u(31," in the top-right & select "),l(32,"b"),u(33,'"Open in Browser"'),d(),u(34,"."),d(),l(35,"li",70)(36,"strong"),u(37,"Twitter:"),d(),u(38," Tap the "),l(39,"b"),u(40,"share icon"),d(),u(41," & choose "),l(42,"b"),u(43,'"Open in Browser"'),d(),u(44,". "),d()()()()}if(a&2){let e=v();h(),g("ngIf",e.postDetails),h(),g("ngIf",e.postDetails)}}function qr(a,r){if(a&1&&(l(0,"h1",93),u(1),d()),a&2){let e=v(2);g("@fadeIn",void 0),h(),le(" ",e.postDetails.title," ")}}function Xr(a,r){if(a&1&&(l(0,"p",94),u(1),d()),a&2){let e=v(2);g("@fadeIn",void 0),h(),le(" ",e.postDetails.info," ")}}function Zr(a,r){if(a&1&&(l(0,"h5",95),u(1,"Downloads "),l(2,"b"),u(3),d()()),a&2){let e=v(2);g("@fadeIn",void 0),h(3),B(e.postDetails.download_counter)}}function Jr(a,r){if(a&1){let e=J();l(0,"div",96)(1,"img",97),C("load",function(i){S(e);let n=v(2);return I(n.onImgLoad(n.imgUrl+n.postDetailsDefault.id+"?quality=100",i))}),d()()}if(a&2){let e=v(2);g("@fadeIn",void 0),h(),g("src",e.imgUrl+e.postDetailsDefault.id+"?quality=100",Ct)("alt",e.postDetailsDefault.title)}}function es(a,r){if(a&1){let e=J();Ne(0),l(1,"div",98)(2,"button",99),C("click",function(){S(e);let i=v(2);return I(i.checkDownload("download"))}),x(3,"i",63),u(4,"Download "),d(),l(5,"button",100),C("click",function(){S(e);let i=v(2);return I(i.resetForm())}),x(6,"i",101),u(7,"Reset"),d(),l(8,"button",102),C("click",function(){S(e);let i=v(2);return I(i.checkDownload("whatsapp"))}),x(9,"i",103),l(10,"span",104),u(11,"WhatsApp"),d()(),l(12,"button",105),C("click",function(){S(e);let i=v(2);return I(i.checkDownload("facebook"))}),x(13,"i",47),u(14,"Facebook "),d()(),Ge()}a&2&&(h(),g("@fadeIn",void 0))}function ts(a,r){if(a&1&&(l(0,"h1",111),u(1),d()),a&2){let e=v(3);g("@fadeIn",void 0),h(),le(" ",e.postDetails.title,"")}}function is(a,r){if(a&1&&(l(0,"h2",112),u(1),d()),a&2){let e=v(3);g("@fadeIn",void 0),h(),le(" ",e.postDetails.info,"")}}function as(a,r){if(a&1&&(l(0,"h5",113),u(1,"Downloads "),l(2,"b"),u(3),d()()),a&2){let e=v(3);g("@fadeIn",void 0),h(3),B(e.postDetails.download_counter)}}function ns(a,r){if(a&1&&(Ne(0),l(1,"label",127),u(2),d(),x(3,"input",128),Ge()),a&2){let e=v().$implicit;h(),ae("for",e.id),h(),B(e.title),h(),ae("id",e.id),ae("name",e.id),ae("formControlName",e.id),g("placeholder",e.title)}}function rs(a,r){if(a&1&&(Ne(0),l(1,"label",127),u(2),d(),x(3,"input",129),Ge()),a&2){let e=v().$implicit;h(),ae("for",e.id),h(),B(e.title),h(),ae("id",e.id),ae("name",e.id),ae("formControlName",e.id)}}function ss(a,r){if(a&1){let e=J();Ne(0),l(1,"label",130),u(2),d(),x(3,"input",131),l(4,"input",132),C("change",function(i){S(e);let n=v().$implicit,s=v(4);return I(s.onFileChange(i,n.id,n.index))}),d(),Ge()}if(a&2){let e=v().$implicit;h(2),B(e.title),h(),ae("id",e.id),ae("name",e.id),ae("formControlName",e.id),h(),Ft("id","",e.id,"-file"),Ft("name","",e.id,"-file"),Ft("formControlName","",e.id,"-file")}}function os(a,r){if(a&1&&(l(0,"option",137),u(1),d()),a&2){let e=r.$implicit,t=v(2).$implicit;g("value",e.id),h(),B(t.lang=="gu"?e.gu_name:e.name)}}function ls(a,r){if(a&1&&(Ne(0),l(1,"label",133),u(2),d(),l(3,"select",134)(4,"option",135),u(5),d(),L(6,os,2,2,"option",136),d(),Ge()),a&2){let e=v().$implicit,t=v(4);h(2),B(e.title),h(),ae("formControlName",e.id),h(2),le("-- Select ",e.title," --"),h(),g("ngForOf",t.apiData[e.controlName])}}function ds(a,r){if(a&1&&(l(0,"div",126),L(1,ns,4,6,"ng-container",90)(2,rs,4,5,"ng-container",90)(3,ss,5,10,"ng-container",90)(4,ls,7,4,"ng-container",90),d()),a&2){let e=r.$implicit;g("@fadeIn",void 0),h(),g("ngIf",e.type==="text"),h(),g("ngIf",e.type==="date"),h(),g("ngIf",e.type==="image"),h(),g("ngIf",e.type==="select"&&e.controlName)}}function cs(a,r){a&1&&(l(0,"div",126)(1,"label",43),u(2,"Mobile Number"),d(),x(3,"input",138),d()),a&2&&g("@fadeIn",void 0)}function hs(a,r){a&1&&(l(0,"div",139)(1,"a",140),x(2,"i",103),u(3,"Join PostNew Channel"),d(),l(4,"a",141),x(5,"i",47),u(6,"Join PostNew "),d()()),a&2&&g("@fadeIn",void 0)}function us(a,r){if(a&1){let e=J();l(0,"form",114),C("ngSubmit",function(){S(e);let i=v(3);return I(i.onSubmitFormData())}),L(1,ds,5,5,"div",115)(2,cs,4,1,"div",116),l(3,"div",117),x(4,"hr",118),d(),l(5,"div",119)(6,"button",120),x(7,"i",121),u(8,"Generate Poster"),d(),l(9,"button",122),C("click",function(){S(e);let i=v(3);return I(i.resetForm())}),x(10,"i",101),u(11,"Reset"),d()(),l(12,"div",117),x(13,"hr",118),d(),l(14,"div",123)(15,"button",124),C("click",function(){S(e);let i=v(3);return I(i.checkDownload("whatsapp"))}),x(16,"i",103),l(17,"span",104),u(18,"WhatsApp"),d()()(),l(19,"div",123),L(20,hs,7,1,"div",125),d()()}if(a&2){let e=v(3);g("formGroup",e.formData)("@fadeInList",void 0),h(),g("ngForOf",e.dataset),h(),g("ngIf",e.postDetails==null?null:e.postDetails.track),h(),g("@fadeIn",void 0),h(2),g("@fadeIn",void 0),h(7),g("@fadeIn",void 0),h(2),g("@fadeIn",void 0),h(5),g("@fadeIn",void 0),h(),g("ngIf",e.postDetails==null?null:e.postDetails.info_show)}}function gs(a,r){if(a&1&&(l(0,"div",106),L(1,ts,2,2,"h1",107)(2,is,2,2,"h2",108)(3,as,4,2,"h5",109)(4,us,21,10,"form",110),d()),a&2){let e=v(2);g("ngClass",ri(6,Hr,e.canDownload))("@fadeIn",void 0),h(),g("ngIf",e.postDetails.title),h(),g("ngIf",e.postDetails.info),h(),g("ngIf",e.postDetails.title),h(),g("ngIf",!e.canDownload&&e.dataset.length)}}function ms(a,r){a&1&&(Ne(0),l(1,"h5",142)(2,"b"),u(3,"No any post available for this link."),d()(),Ge()),a&2&&g("@fadeIn",void 0)}function ps(a,r){if(a&1&&(l(0,"div",78)(1,"div",79)(2,"div",80)(3,"div",81),L(4,qr,2,2,"h1",82)(5,Xr,2,2,"p",83)(6,Zr,4,2,"h5",84),d(),l(7,"div",85)(8,"div",86)(9,"div",87),L(10,Jr,2,3,"div",88),Ke(),x(11,"svg",89,2),d()(),L(13,es,15,1,"ng-container",90),d()(),Dt(),l(14,"div",91),L(15,gs,5,8,"div",92)(16,ms,4,1,"ng-container",90),d()()()),a&2){let e=v();h(4),g("ngIf",e.postDetails.title),h(),g("ngIf",e.postDetails.info),h(),g("ngIf",e.postDetails.info),h(4),g("ngIf",e.postStatus=="This image is not published"||e.postStatus=="This image has been deleted"&&e.postDetailsDefault||e.postStatus==="loading"&&e.postDetails),h(),g("ngClass",ri(9,Gr,e.postStatus=="loading"||e.isDeleted||!e.dataProccessed))("@fadeIn",void 0),h(2),g("ngIf",e.canDownload),h(2),g("ngIf",e.postDetails),h(),g("ngIf",!e.postStatus)}}function fs(a,r){if(a&1){let e=J();l(0,"div",143)(1,"div",144),u(2," Created by "),l(3,"a",145),C("click",function(){return S(e),v().myInfo.show(),I(!1)}),u(4,"Hiren Sojitra"),d(),l(5,"a",146),u(6,"More Info"),d()()()}a&2&&(g("@fadeIn",void 0),h(5),g("routerLink","/about-us"))}var Mn=(()=>{class a{constructor(e,t,i,n,s,o,c,p,m,f,b,D,w,k,T,V,fe,j,Y,H,ue,we){this.route=e,this.titleService=t,this.metaService=i,this.PS=n,this.renderer=s,this.Rect=o,this.Circle=c,this.Ellipse=p,this.commonService=m,this.fb=f,this.platformService=b,this.http=D,this.toastService=w,this.loaderService=k,this.fontService=T,this.elementRef=V,this.baseUrlService=fe,this.seoService=j,this.platformId=Y,this.transferState=H,this.trackService=ue,this.colorService=we,this.postStatus="loading",this.dataset=[],this.apiData={},this.selectData={},this.selectedIndex=null,this.selectedID=null,this.downloaded=!1,this.canDownload=!1,this.textModalTitle="",this.encodedText=encodeURIComponent(`Hello, Hiren!
I'm interested to create Poster Generate Link`),this.selectedImage="",this.pageLink="",this.imgUrl=jt.MasterApi+"/thumb-images/",this.imgModalTitle="",this.cropperModalTitle="",this.facebookAccessToken=null,this.isInAppBrowser=!1,this.POST_DETAILS_KEY="postDetails",this.inputTextForm=this.fb.group({text:["",Oe.required]}),this.inputImageForm=this.fb.group({image:[""]}),this.formData=this.fb.group({}),this.baseUrl=this.baseUrlService.getBaseUrl(),this.isBrowser=ce(this.platformId)}ngOnInit(){return M(this,null,function*(){ce(this.platformId)&&(this.detectInAppBrowser(),this.myInfo=new bootstrap.Modal(document.getElementById("myInfo"),{focus:!1,keyboard:!1,static:!1}),yield this.seoService.initSEO(),this.transferState.hasKey(this.POST_DETAILS_KEY)&&(this.postDetailsDefault=this.transferState.get(this.POST_DETAILS_KEY,null),this.transferState.remove(this.POST_DETAILS_KEY),this.dataProccessed=!0,yield this.changeMetadataDynamically()),yield this.route.paramMap.subscribe(e=>M(this,null,function*(){if(this.imgParam=e.get("img"),this.imgParam)try{this.postStatus="loading",this.postDetails=void 0,this.postDetailsDefault&&!this.postDetailsDefault.deleted&&this.postDetailsDefault.published?(!this.isInAppBrowser&&(yield this.getPostById()),this.pageLink=window.location.href):(this.postDetails=this.postDetailsDefault,this.isDeleted=this.postDetailsDefault?.deleted,this.postStatus=this.postDetailsDefault?.deleted?"This image has been deleted":"This image is not published")}catch(t){console.error("Error fetching post:",t),this.postStatus="Error loading image",this.postDetails=void 0,this.dataProccessed=!0}}))),He(this.platformId)&&(yield this.seoService.initSEO(),this.route.data.subscribe(e=>M(this,null,function*(){this.titleService.setTitle(e.title||"Poster Download"),this.metaService.updateTag({name:"description",content:e.description||"Discover our web application for generating election campaign posters, festival posts, and other promotional activities. Customize posters with photos, names, addresses, designations, and contact details for efficient and personalized promotional material."}),this.metaService.updateTag({name:"keywords",content:e.keywords||"poster generation, campaign posters, election posters, festival posts, promotional activities, customization, PostNew, web application"}),this.metaService.updateTag({name:"robots",content:e.robots||"index, follow"}),this.metaService.updateTag({property:"og:title",content:e["og:title"]||"Default OG title"}),this.metaService.updateTag({property:"og:description",content:e["og:description"]||"Default OG description"}),this.metaService.updateTag({property:"og:image",content:e["og:image"]||"https://api.postnew.in/api/v1/img/uploads/wLmyK?quality=30"})})),yield this.route.paramMap.subscribe(e=>M(this,null,function*(){if(this.imgParam=e.get("img"),this.imgParam)try{this.postDetailsDefault=yield this.PS.getPostById(this.imgParam.toString()).toPromise(),this.postDetailsDefault&&(yield this.changeMetadataDynamically(),this.transferState.set(this.POST_DETAILS_KEY,this.postDetailsDefault))}catch{this.dataProccessed=!0}}))),yield new Promise(e=>setTimeout(e,1500))})}detectInAppBrowser(){let e=navigator.userAgent||navigator.vendor;/FBAN|FBAV|Instagram|Twitter|Snapchat|WhatsApp|Messenger|Line/i.test(e)&&(this.isInAppBrowser=!0)}openInBrowser(){let t=`intent://${window.location.href.replace(/^https?:\/\//,"")}#Intent;scheme=https;package=com.android.chrome;end;`;window.location.href=t}changeMetadataDynamically(){return M(this,null,function*(){let{title:e="Default Title",info:t="Default Description",backgroundurl:i="https://api.postnew.in/api/v1/img/uploads/defaultImage",id:n="defaultID"}=this.postDetailsDefault||{},s="Hiren Sojitra",o="PostNew",c="@Sojitra_Hiren",p=`${this.imgUrl}${n}`,m=`https://www.postnew.in/poster/${n}`,f="en_US";this.titleService.setTitle(e),this.metaService.updateTag({name:"description",content:t}),this.metaService.updateTag({property:"og:title",content:e}),this.metaService.updateTag({property:"og:description",content:t}),this.metaService.updateTag({property:"og:image",content:p}),this.metaService.updateTag({property:"og:url",content:m}),this.metaService.updateTag({property:"og:type",content:"poster"}),this.metaService.updateTag({property:"og:site_name",content:o}),this.metaService.updateTag({property:"og:locale",content:f}),this.metaService.updateTag({property:"article:author",content:s}),this.metaService.updateTag({property:"twitter:card",content:"summary_large_image"}),this.metaService.updateTag({property:"twitter:url",content:m}),this.metaService.updateTag({property:"twitter:title",content:e}),this.metaService.updateTag({property:"twitter:description",content:t}),this.metaService.updateTag({property:"twitter:image",content:p}),this.metaService.updateTag({property:"twitter:site",content:c}),this.metaService.updateTag({property:"twitter:creator",content:c}),this.metaService.updateTag({rel:"canonical",href:m})})}getPostById(){return M(this,null,function*(){let e=this.postDetailsDefault;if(e){try{this.postDetails=e;let t=JSON.parse(JSON.stringify(e));if(this.isDeleted=e.deleted,e.deleted)e.deleted&&e.msg&&(this.postStatus=e.msg);else{this.postStatus="loading";try{let i=yield this.getImageDataUrl(e.backgroundurl);e.backgroundurl=i}catch(i){console.error("Error fetching background image URL:",i)}for(let i of e.data)if(i.image&&i.image.imageUrl)try{i.image.imageUrl=yield this.getImageDataUrl(i.image.imageUrl)}catch(n){console.error("Error fetching image URL:",n)}this.postDetails.download_counter?this.postStatus="Total Download: "+this.postDetails.download_counter:this.postStatus="No download counter available",yield this.initialize()}this.dataProccessed=!0}catch(t){console.error("Error in getPostById:",t),this.postStatus="Error loading post"}this.textModal=new bootstrap.Modal(document.getElementById("textModal"),{focus:!1,keyboard:!1,static:!1}),this.textModal._element.addEventListener("hide.bs.modal",()=>{this.inputTextForm.reset()}),this.textModal._element.addEventListener("show.bs.modal",()=>{}),this.textModal._element.addEventListener("shown.bs.modal",()=>{this.textInput.nativeElement.focus()}),this.cropperModal=new bootstrap.Modal(document.getElementById("cropperModal"),{focus:!1,keyboard:!1,static:!1}),this.cropperModal._element.addEventListener("hide.bs.modal",()=>{this.cropper&&this.cropper.destroy()}),this.cropperModal._element.addEventListener("show.bs.modal",()=>{}),this.imageCropper=new bootstrap.Modal(document.getElementById("imageCropper"),{focus:!1,keyboard:!1,static:!1}),this.imageCropper._element.addEventListener("hide.bs.modal",()=>{this.cropper&&this.cropper.destroy()}),this.imageCropper._element.addEventListener("show.bs.modal",()=>{})}})}getImageDataUrl(e){return M(this,null,function*(){try{let i=yield(yield fetch(e)).blob();return new Promise((n,s)=>{let o=new FileReader;o.onloadend=()=>n(o.result),o.onerror=s,o.readAsDataURL(i)})}catch(t){throw console.error("Error fetching or converting image:",t),t}})}initialize(){return M(this,null,function*(){try{yield Promise.all([this.drawSVG(),this.buildForm()])}catch(e){console.error("An error occurred during initialization:",e)}})}drawSVG(){return M(this,null,function*(){if(this.postDetails){let e=this.postDetails.backgroundurl,t=this.imageDraw.nativeElement,i=document.createElementNS("http://www.w3.org/2000/svg","defs");for(;t.firstChild;)t.removeChild(t.firstChild);let n=document.createElementNS("http://www.w3.org/2000/svg","link");n.setAttribute("rel","stylesheet"),n.setAttribute("href","https://fonts.googleapis.com/css2?family=Anek+Gujarati:wght@100..800&family=Baloo+Bhai+2:wght@400..800&family=Farsan&family=Hind+Vadodara:wght@300;400;500;600;700&family=Kumar+One&family=Kumar+One+Outline&family=Mogra&family=Mukta+Vaani:wght@200;300;400;500;600;700;800&family=Noto+Sans+Gujarati:wght@100..900&family=Noto+Serif+Gujarati:wght@100..900&family=Rasa:ital,wght@0,300..700;1,300..700&family=Shrikhand&display=swap"),i.appendChild(n),t.appendChild(i),this.renderer.setAttribute(t,"viewBox","0 0 "+(this.postDetails.w||0)+" "+(this.postDetails.h||0));let s=this.renderer.createElement("image","http://www.w3.org/2000/svg");this.renderer.setAttribute(s,"x","0"),this.renderer.setAttribute(s,"y","0"),this.renderer.setAttribute(s,"width","100%"),this.renderer.setAttribute(s,"height","100%"),this.renderer.setAttribute(s,"preserveAspectRatio","xMidYMid slice"),this.renderer.setAttribute(s,"href",e),this.renderer.appendChild(t,i),this.renderer.appendChild(t,s);let o=0;this.postDetails?.data.forEach((c,p)=>M(this,null,function*(){let m=c.editable&&this.dataset[o]?.id||Math.random().toString(36).substr(2,9);switch(!0){case!!c.text:if(c.text){let f=this.renderer.createElement("text","http://www.w3.org/2000/svg"),{x:b,y:D,fs:w,fw:k,text:T,type:V,controlName:fe,api:j,lang:Y,dependency:H,color:ue,fontStyle:we,rotate:A,fontFamily:Pe,textShadow:W,backgroundColor:De,textEffects:ke,textAnchor:We,alignmentBaseline:ei,letterSpacing:bt,lineHeight:dt,textTransformation:tr,originX:ir,originY:ar,opacity:Ki}=c.text;if(T){let ge=this.textFormat(T);if(c.editable&&this.renderer.setStyle(f,"pointer-events","none"),ge.length===1){let _e=this.renderer.createText(T);fe&&Y&&V&&V=="select"&&(this.selectData[fe]={lang:Y,value:T,api:j,dependency:H||"none",text:_e}),this.renderer.appendChild(f,_e)}else{let _e=w*dt||0,Qe=0;switch(We){case"middle":Qe=ge.reduce((Be,ye)=>Be+this.getTextWidth(ye,w,Pe),0)/2;break;case"end":Qe=ge.reduce((Be,ye)=>{let qi=this.getTextWidth(ye,w,Pe);return qi>Be?qi:Be},0);break}ge.forEach((ct,Be)=>{let ye=this.renderer.createElement("tspan","http://www.w3.org/2000/svg");switch(this.renderer.appendChild(ye,this.renderer.createText(ct)),(Be>0||Be===0&&ct.trim()==="")&&this.renderer.setAttribute(ye,"dy",`${_e}px`),this.renderer.setAttribute(ye,"x",b.toString()),We){case"middle":this.renderer.setAttribute(ye,"dx",`-${Qe}px`);break;case"end":this.renderer.setAttribute(ye,"dx",`-${Qe}px`);break}this.renderer.appendChild(f,ye)})}}let ti={"data-type":"text",x:b.toString(),y:D.toString(),"font-size":w.toString(),fill:ue||"#000000","text-anchor":We||"start","alignment-baseline":ei||"middle","dominant-baseline":"reset-size","font-family":Pe?"'"+Pe+"', sans-serif":"'Hind Vadodara', sans-serif","font-weight":k||"normal","text-decoration":we.underline?"underline":"none","font-style":we.italic?"italic":"normal",opacity:Ki?Ki.toString():"100"};De&&(ti["background-color"]=De);let nr={"-webkit-user-select":"none","letter-spacing":bt?`${bt}px`:"normal","line-height":dt?`${dt}`:"normal","text-transform":tr||"none"};if(W.enable&&(ti.filter=`drop-shadow(${W.offsetX}px ${W.offsetY}px ${W.blur}px ${W.color})`||"none"),Object.entries(ti).forEach(([ge,_e])=>this.renderer.setAttribute(f,ge,_e)),Object.entries(nr).forEach(([ge,_e])=>this.renderer.setStyle(f,ge,_e)),this.renderer.setAttribute(f,"data-id",m),A||ir!==void 0&&ar!==void 0){let ge=f.getBBox(),_e=ge.width,Qe=ge.height,ct=`rotate(${A||0} ${b+_e/2} ${D+Qe/2})`;this.renderer.setAttribute(f,"transform",ct)}this.dataset[o]==null&&c.editable&&this.dataset.push({id:m,lang:Y||"en",value:T||"Select "+c.title,index:p.toString(),type:V,title:c.title,controlName:fe,api:j,dependency:H}),this.renderer.appendChild(t,f),this.renderer.addClass(f,"pointer-events-none"),c.editable&&this.renderer.listen(f,"click",()=>{this.selectedIndex=p,this.selectedID=m,this.setText()}),c.editable&&o++}break;case!!c.rect:if(c.rect){let f=this.Rect.createRect(c.rect);return this.renderer.appendChild(t,f),f}break;case!!c.circle:if(c.circle){let f=this.Circle.createCircle(c.circle);return this.renderer.appendChild(t,f),f}break;case!!c.ellipse:if(c.ellipse){let f=this.Ellipse.createEllipse(c.ellipse);return this.renderer.appendChild(t,f),f}break;case!!c.image:if(c.image){let{x:f,y:b,r:D,imageUrl:w,borderColor:k,borderWidth:T,shape:V,origin:fe,placeholder:j,svgProperties:Y,rotate:H}=c.image,{w:ue,h:we}=this.commonService.calculateWH(c.image),A;switch(V){case"circle":A=this.renderer.createElement("circle","http://www.w3.org/2000/svg"),this.renderer.setAttribute(A,"cx",String(f)),this.renderer.setAttribute(A,"cy",String(b)),this.renderer.setAttribute(A,"r",String(D)),this.renderer.setAttribute(A,"data-type","circle");break;case"ellipse":A=this.renderer.createElement("ellipse","http://www.w3.org/2000/svg"),this.renderer.setAttribute(A,"cx",String(f)),this.renderer.setAttribute(A,"cy",String(b)),this.renderer.setAttribute(A,"rx",String(D)),this.renderer.setAttribute(A,"ry",String(D)),this.renderer.setAttribute(A,"data-type","ellipse");break;case"rect":case"rect_3_2":case"rect_4_3":case"rect_16_9":case"rect_1_1":case"rect_5_4":case"rect_3_1":case"rect_7_5":case"rect_2_3":case"rect_3_4":case"rect_9_16":case"rect_4_5":case"rect_5_7":A=this.renderer.createElement("rect","http://www.w3.org/2000/svg"),this.renderer.setAttribute(A,"x",String(f)),this.renderer.setAttribute(A,"y",String(b)),this.renderer.setAttribute(A,"width",String(ue)),this.renderer.setAttribute(A,"height",String(we)),this.renderer.setAttribute(A,"data-type","rect"),this.renderer.setAttribute(A,"fill","#FFF");break;default:return console.error("Invalid shape"),null}if(A!==null){let Pe=m;this.renderer.addClass(A,"pointer-events-none"),this.renderer.setAttribute(A,"fill","url(#"+Pe+")"),c.editable&&this.renderer.setStyle(A,"pointer-events","none"),this.renderer.setStyle(A,"filter","url(#shadow)");let W=this.renderer.createElement("pattern","http://www.w3.org/2000/svg");this.renderer.setAttribute(W,"id",Pe),this.renderer.setAttribute(W,"x","0"),this.renderer.setAttribute(W,"y","0"),this.renderer.setAttribute(W,"height","100%"),this.renderer.setAttribute(W,"width","100%"),this.renderer.setAttribute(W,"viewBox","0 0 "+String(ue)+" "+String(we)),this.renderer.setAttribute(A,"data-id",m),this.dataset[o]==null&&c.editable&&this.dataset.push({id:m,value:"",index:p.toString(),type:"image",title:c.title}),c.editable&&this.renderer.listen(A,"click",()=>{this.selectedIndex=p,this.selectedID=m,this.setImage()});let De=this.renderer.createElement("image","http://www.w3.org/2000/svg");this.renderer.setAttribute(De,"x","0"),this.renderer.setAttribute(De,"y","0"),this.renderer.setAttribute(De,"width",String(ue)),this.renderer.setAttribute(De,"height",String(we)),this.renderer.setAttribute(De,"href",w);let ke=this.renderer.createElement("rect","http://www.w3.org/2000/svg");if(this.renderer.setAttribute(ke,"x","0"),this.renderer.setAttribute(ke,"y","0"),this.renderer.setAttribute(ke,"width",String(ue)),this.renderer.setAttribute(ke,"height",String(we)),this.renderer.setAttribute(ke,"fill","#FFFFFF"),c.editable&&this.renderer.appendChild(W,ke),this.renderer.appendChild(W,De),this.renderer.appendChild(t,W),T&&k&&(this.renderer.setAttribute(A,"stroke",k),this.renderer.setAttribute(A,"stroke-width",String(T))),this.renderer.appendChild(t,A),H||f!==void 0&&b!==void 0){let We=A.getBBox(),ei=We.width,bt=We.height,dt=`rotate(${H||0} ${f+ei/2} ${b+bt/2})`;this.renderer.setAttribute(A,"transform",dt)}return c.editable&&o++,A}}break;default:console.log("Element data not found");break}}))}this.downloaded=!1,this.canDownload=!1,this.formData.reset({},{emitEvent:!1});for(let e in this.selectData){let t=this.selectData[e];t.dependency==="none"?yield this.loadData(e,t.api):yield this.setupDependency(e,t);let i=this.apiData[e].filter(n=>n.id==t.value);i.length&&this.renderer.setValue(t.text,i[0][t.lang=="gu"?"gu_name":"name"])}})}buildForm(){return M(this,null,function*(){Object.keys(this.formData.controls).forEach(t=>{this.formData.get(t)&&this.formData.removeControl(t)});let e={};this.dataset.forEach(t=>{let i=parseInt(t.index,10);if(!isNaN(i)&&this.postDetails?.data){if(t.type==="text"||t.type==="date"){let n=this.postDetails.data.filter((s,o)=>o===i)[0]?.text;n&&(this.formData.addControl(t.id,this.fb.control("",Oe.required)),this.formData.get(t.id)?.valueChanges.subscribe(s=>{n.text=s,t.value=s}))}else if(t.type==="select"){let n=this.postDetails.data.filter((s,o)=>o===i)[0]?.text;if(n){let s=this.formData.addControl(t.id,this.fb.control(t.value,Oe.required));this.formData.get(t.id)?.valueChanges.subscribe(o=>{n.text=o,t.value=o}),t.dependency&&t.controlName&&t.api&&(e[t.controlName]={title:t.title,control:this.formData.get(t.id),api:t.api,dependency:t.dependency})}}else if(t.type==="image"){let n=this.postDetails.data.filter((s,o)=>o===i)[0]?.image;n&&(this.formData.addControl(t.id,this.fb.control("",Oe.required)),this.formData.addControl(t.id+"-file",this.fb.control("",Oe.required)),this.formData.get(t.id)?.valueChanges.subscribe(s=>{n.imageUrl=s,t.value=s}))}}});for(let t in e){let i=e[t];e[t].dependency!=="none"&&e[t].dependency in e&&e[e[t].dependency].control?e[e[t].dependency].control.valueChanges.subscribe(n=>M(this,null,function*(){if(n){let s=`${i.api}${n}`;yield this.fetchDataFromAPI(s,t)}})):console.warn(`Dependency "${e[t].dependency}" for "${t}" is invalid or not found.`)}this.postDetails&&this.postDetails.track&&this.formData.addControl("mobile",new Sa("",[Oe.required,Oe.pattern(/^\+?[0-9]{10,15}$/)]))})}textFormat(e){let i=e.replace(/\n/g,`
`).replace(/\n(?!\*{3})/g,`***
`).split(`
`);for(let n=0;n<i.length;n++)i[n]=i[n].replace(/\*\*\*/g,"\xA0");return i}getTextWidth(e,t,i){let n=document.createElementNS("http://www.w3.org/2000/svg","text");n.setAttribute("font-size",`${t}px`),n.setAttribute("font-family","fontFamily"),n.textContent=e,document.body.appendChild(n);let s=n.getBBox().width;return document.body.removeChild(n),s}setText(){this.inputTextForm.reset();let e=this.selectedIndex;if(e!==null){let t=this.postDetails?.data[e].text?.text,i=this.postDetailsDefault?.data[e].text?.text,n=t==i?"":t;this.inputTextForm.get("text")?.setValue(n),this.textInput.nativeElement.placeholder=i,this.textModalTitle=this.postDetails?.data[e].title||void 0,this.textModal.show()}}setImage(){this.inputImageForm.reset();let e=this.selectedIndex;if(e!==null){let t=this.postDetails?.data[e].image?.imageUrl,i=this.postDetailsDefault?.data[e].image?.imageUrl,n=t==i?i:t;this.inputImageForm.get("image")?.setValue(n),this.cropperModalTitle=this.postDetails?.data[e].title||void 0,this.cropperModal.show()}}loadData(e,t){return M(this,null,function*(){this.apiData[e]||(yield this.fetchDataFromAPI(t,e))})}setupDependency(e,t){return M(this,null,function*(){t.api.endsWith("/")||(t.api+="/");let i=t.dependency,n=this.selectData[i].value,s=`${t.api}${n}`;yield this.fetchDataFromAPI(s,e)})}fetchDataFromAPI(e,t){return M(this,null,function*(){try{let i=this.getIdByControlName(t),n=yield this.http.get(e).toPromise();t&&n?this.apiData[t]=n:this.apiData[t]=[]}catch(i){console.error("Error fetching data from API:",i)}})}onSubmitFormData(){return M(this,null,function*(){if(this.commonService.markFormGroupTouched(this.formData),this.formData.valid){this.dataset.forEach(t=>{let i=parseInt(t.index,10);if(!isNaN(i)&&this.postDetails?.data){if(t.type==="text"){let n=this.postDetails.data.filter((s,o)=>o===i)[0]?.text;n&&(n.text=t.value,this.canDownload=!1)}else if(t.type==="image"){let n=this.postDetails.data.filter((s,o)=>o===i)[0]?.image;n&&(n.imageUrl=t.value,this.canDownload=!1)}}});let e=N({},this.formData.value);this.dataset.forEach(t=>{delete e[t.id],delete e[t.id+"-file"],t.type==="image"||t.id&&t.id.endsWith("-file")||(e[t.title]=t.value)}),console.log(e),yield Ji(this.trackService.saveData(e,this.imgParam)),yield this.drawSVG(),this.canDownload=!0,this.formData.reset({},{emitEvent:!1})}})}onFileChange(e,t,i){let n=parseInt(i,10);if(e.target.files.length>0){let s=e.target.files[0],o=s.type;if(o.startsWith("image/"))if(o==="image/jpeg"||o==="image/png"||o==="image/gif"||o==="image/bmp"||o==="image/webp"||o==="image/svg+xml"||o==="image/tiff"){let c=new FileReader;c.onload=p=>{let m=p.target?.result;this.imageCropper.show();let f=this.postDetails?.data[n].image,b=320,D=320,w=320,k=320;if(this.postDetails?.data[n].image){let V=this.commonService.calculateWH(f);D=V.w,b=V.h}let T=document.getElementById("imageToCropped");this.cropper=new Cropper(T,{scalable:!0,viewMode:3,crop:V=>{},autoCropArea:1,dragMode:"move",responsive:!0,cropBoxResizable:!1,minCropBoxWidth:k,minCropBoxHeight:w,minContainerWidth:320,minContainerHeight:320,aspectRatio:D/b}),this.cropper.replace(m),this.selectedImage=t},c.readAsDataURL(s)}else this.toastService.show("Please select image type.",{class:"bg-danger",title:"Invalid Image Type"});else this.toastService.show("Please select valid file format.",{class:"bg-danger",title:"Invalid File Format"})}}resetForm(){this.canDownload=!1,this.formData.reset({},{emitEvent:!1})}checkDownload(e){return M(this,null,function*(){let t=`${this.baseUrl}poster/${this.postDetails?.id}`,i=this.postDetails?.title.trim(),n=this.postDetails?.info.trim();switch(e){case"download":this.capturePhoto();break;case"whatsapp":let s=`*${t}*

*${i}*
*_${n}_*

\u0AAA\u0ACB\u0AB8\u0ACD\u0A9F\u0AB0 \u0AAC\u0AA8\u0ABE\u0AB5\u0AB5\u0ABE \u0A89\u0AAA\u0AB0\u0AA8\u0AC0 \u0AB2\u0ABF\u0A82\u0A95 \u0A95\u0ACD\u0AB2\u0ABF\u0A95 \u0A95\u0AB0\u0ACB
\u0A85\u0AA8\u0ACD\u0AAF \u0AB8\u0AAC\u0A82\u0AA7\u0ABF\u0AA4 \u0AB5\u0ACD\u0AAF\u0A95\u0ACD\u0AA4\u0ABF \u0AA8\u0AC7 \u0AAA\u0AA3 \u0AB6\u0AC7\u0AB0 \u0A95\u0AB0\u0ACB.`;window.location.href=`whatsapp://send?text=${encodeURIComponent(s)}`;break;case"facebook":let o=this.postDetails?.title+" "+this.postDetails?.info,c=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(t)}&quote=${encodeURIComponent(o)}`;window.open(c,"_blank");break;default:this.capturePhoto();break}return!0})}capturePhoto(e){return M(this,null,function*(){this.loaderService.show(0);let t=this.imageDraw.nativeElement,n=(t.getAttribute("viewBox")||"").split(" ").map(Number),s=n[2],o=n[3],c=document.createElement("canvas"),p=c.getContext("2d");c.width=s,c.height=o;let m=new Image,f=new XMLSerializer,b=this.getFontStylesFromSVG(t);yield this.loadFonts(b);let D=f.serializeToString(t);m.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(D))),m.onload=()=>M(this,null,function*(){p?.drawImage(m,0,0);let w=c.toDataURL("image/png"),T=`IMG-${new Date().toISOString().replace(/:/g,"-")}.png`,V=document.createElement("a");V.href=w,this.finalImage=w,V.download=T,V.target="_top";let fe=t.querySelectorAll("text");p&&fe.forEach(j=>{let Y=j.getAttribute("font-family")||"Arial",H=parseFloat(j.getAttribute("font-size")||"16");p.font=`${H}px ${Y}`}),this.downloaded=!0,V.target="_blank",document.body.appendChild(V),V.click(),yield this.PS.updateDownloadCounter(this.imgParam).subscribe(j=>{if(j){let Y=JSON.parse(JSON.stringify(j));this.postStatus="Total Download: "+j.download_counter,this.resetForm()}document.body.removeChild(V)},j=>{document.body.removeChild(V),this.postStatus=void 0,console.error("Error fetching post:",j)}),this.loaderService.hide()})})}facebookPhoto(){return M(this,null,function*(){if(!this.facebookAccessToken){this.loginWithFacebook();return}this.loaderService.show(0);let e=this.imageDraw.nativeElement,i=(e.getAttribute("viewBox")||"").split(" ").map(Number),n=i[2],s=i[3],o=document.createElement("canvas"),c=o.getContext("2d");o.width=n,o.height=s;let p=new Image,m=new XMLSerializer,f=this.getFontStylesFromSVG(e);yield this.loadFonts(f);let b=m.serializeToString(e);p.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(b))),p.onload=()=>M(this,null,function*(){c?.drawImage(p,0,0);let D=o.toDataURL("image/png"),k=`IMG-${new Date().toISOString().replace(/:/g,"-")}.png`,T=document.createElement("a");T.href=D,this.finalImage=D,T.download=k;let V=e.querySelectorAll("text");c&&V.forEach(Y=>{let H=Y.getAttribute("font-family")||"Arial",ue=parseFloat(Y.getAttribute("font-size")||"16");c.font=`${ue}px ${H}`}),this.downloaded=!0;let fe=this.dataURLtoBlob(this.finalImage),j=new FormData;j.append("access_token",this.facebookAccessToken),j.append("message",this.postDetails.info),j.append("source",fe,"image.png"),yield this.http.post("https://graph.facebook.com/v14.0/me/photos",j).subscribe(Y=>M(this,null,function*(){yield this.PS.updateDownloadCounter(this.imgParam).subscribe(H=>{if(H){let ue=JSON.parse(JSON.stringify(H));this.postStatus="Total Download: "+H.download_counter,this.resetForm(),this.facebookAccessToken=null}},H=>{this.postStatus=void 0,console.error("Error fetching post:",H)}),console.log("Successfully posted to Facebook:",Y),this.postStatus="Image posted successfully to Facebook!"}),Y=>{console.error("Error posting to Facebook:",Y),this.postStatus="Failed to post image to Facebook."}),this.loaderService.hide()})})}loginWithFacebook(){FB.login(e=>{e.authResponse?(this.facebookAccessToken=e.authResponse.accessToken,console.log("Facebook Access Token:",this.facebookAccessToken)):console.error("User cancelled login or did not fully authorize.")},{scope:"public_profile,email"})}dataURLtoBlob(e){let[t,i]=e.split(","),n=t.match(/:(.*?);/)[1],s=atob(i),o=[];for(let c=0;c<s.length;c++)o.push(s.charCodeAt(c));return new Blob([new Uint8Array(o)],{type:n})}getFontStylesFromSVG(e){let t=e.querySelectorAll("text"),i={};return t.forEach(n=>{let s=n.getAttribute("font-family"),o=n.getAttribute("font-weight")||"normal";if(s){let c=s.split(",")[0].replace(/['"]/g,"").trim();i[c]||(i[c]=new Set),i[c].add(o)}}),i}loadFonts(e){return M(this,null,function*(){let t=this.imageDraw.nativeElement,i=t.querySelector("defs")||t.appendChild(document.createElementNS("http://www.w3.org/2000/svg","defs")),n=i.querySelector("style");n||(n=document.createElementNS("http://www.w3.org/2000/svg","style"),i.appendChild(n));let s=new Set;for(let[o,c]of Object.entries(e))for(let p of c){let m=this.fontService.getFontPath(o,p),f=yield this.loadFontAsBase64(`assets/fonts/${m}.ttf`),b=`@font-face {
          font-family: '${o}';
          font-style: normal;
          font-weight: ${p};
          font-stretch: 100%;
          font-display: swap;
          src: url(data:font/truetype;base64,${f}) format('truetype');
        }`;s.has(b)||(n.textContent+=b,s.add(b))}})}loadFontAsBase64(e){return M(this,null,function*(){let i=yield(yield fetch(e)).arrayBuffer();return btoa(new Uint8Array(i).reduce((n,s)=>n+String.fromCharCode(s),""))})}shareOnFacebook(){return M(this,null,function*(){this.loaderService.show(0);let e=this.imageDraw.nativeElement,i=(e.getAttribute("viewBox")||"").split(" ").map(Number),n=i[2],s=i[3],o=document.createElement("canvas"),c=o.getContext("2d");o.width=n,o.height=s;let p=new Image,m=new XMLSerializer,f=this.getFontStylesFromSVG(e);yield this.loadFonts(f);let b=m.serializeToString(e);p.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(b))),p.onload=()=>M(this,null,function*(){c?.drawImage(p,0,0);let D=o.toDataURL("image/png");this.finalImage=D,this.PS.updateDownloadCounter(this.imgParam).subscribe(w=>{w&&(this.postStatus="Total Download: "+w.download_counter,this.resetForm())},w=>{this.postStatus=void 0,console.error("Error fetching post:",w)}),this.loaderService.hide(),window.FB.ui({method:"feed",link:this.pageLink,picture:this.finalImage,name:"Check out my Poster",caption:"My Poster Creation",description:"I created this poster with awesome features. Take a look!"},w=>{w&&!w.error_message?console.log("Posted successfully."):console.error("Error while posting:",w.error_message)})})})}onTextSubmit(){return M(this,null,function*(){this.selectedIndex!==null&&this.postDetails?.data&&(this.postDetails.data=this.postDetails.data.map((e,t)=>{if(t===this.selectedIndex&&e.text){let i=this.inputTextForm.get("text")?.value;if(this.selectedID&&this.elementRef.nativeElement.querySelector(`[data-id="${this.selectedID}"]`)){let s=this.dataset.filter(o=>o.id===this.selectedID);s[0]&&(s[0].value=i||e.text.text)}return Ee(N({},e),{text:Ee(N({},e.text),{text:i})})}return e})),yield this.drawSVG(),this.textModal.hide()})}handleImageInputChange(e){let i=e.target.files?.[0];if(i){let n=i.type;if(n.startsWith("image/"))if(n==="image/jpeg"||n==="image/png"||n==="image/gif"||n==="image/bmp"||n==="image/webp"||n==="image/svg+xml"||n==="image/tiff"){let s=new FileReader;s.onload=o=>{let c=o.target?.result,p=this.dataset.find(k=>k.id===this.selectedImage),m=320,f=320,b=320,D=320;if(p){let k=parseInt(p.index,10);if(this.postDetails?.data[k].image){let T=this.commonService.calculateWH(this.postDetails?.data[k].image);m=T.w,f=T.h}}this.cropperModal.show();let w=document.getElementById("cropper");this.cropper=new Cropper(w,{scalable:!0,viewMode:3,crop:k=>{},autoCropArea:1,dragMode:"move",responsive:!0,cropBoxResizable:!1,minCropBoxWidth:b,minCropBoxHeight:D,minContainerWidth:320,minContainerHeight:320,aspectRatio:m/f}),this.cropper.replace(c)},s.readAsDataURL(i)}else this.toastService.show("Please select image type.",{class:"bg-danger",title:"Invalid Image Type"});else this.toastService.show("Please select valid file format.",{class:"bg-danger",title:"Invalid File Format"})}i&&(i.type==="image/jpeg"||i.type)}onImageSubmit(){return M(this,null,function*(){this.handleCropEvent(),this.selectedIndex!==null&&this.postDetails?.data&&(this.postDetails.data=this.postDetails.data.map((e,t)=>{if(t===this.selectedIndex&&e.image){let i=this.inputImageForm.get("image")?.value;if(this.selectedID&&this.elementRef.nativeElement.querySelector(`[data-id="${this.selectedID}"]`)){let s=this.dataset.filter(o=>o.id===this.selectedID);s[0]&&(s[0].value=i||e.image.imageUrl)}return Ee(N({},e),{image:Ee(N({},e.image),{imageUrl:i})})}return e})),yield this.drawSVG(),this.cropperModal.hide()})}handleCropEvent(){if(this.cropper){let e=this.dataset.find(p=>p.id===this.selectedImage),t=800,i=800;if(e){let p=parseInt(e.index,10);if(this.postDetails?.data[p].image){let m=this.commonService.calculateWH(this.postDetails?.data[p].image);t=m.w,i=m.h}}let n=this.cropper.getCroppedCanvas(),s=document.createElement("canvas"),o=s.getContext("2d");s.width=t,s.height=i,o.drawImage(n,0,0,t,i);let c=s.toDataURL("image/png");this.inputImageForm.get("image")?.setValue(c)}}openImageCropperDialog(){let e=this.imageInput.nativeElement;e&&(e.click(),e.value=null),this.cropperModal.hide()}handleSelectedEvent(){if(this.cropper){let e=this.dataset.find(p=>p.id===this.selectedImage),t=800,i=800;if(e){let p=parseInt(e.index,10);if(this.postDetails?.data[p].image){let m=this.commonService.calculateWH(this.postDetails?.data[p].image);t=m.w,i=m.h}}let n=this.cropper.getCroppedCanvas(),s=document.createElement("canvas"),o=s.getContext("2d");s.width=t,s.height=i,o.drawImage(n,0,0,t,i);let c=s.toDataURL("image/png");if(e){let p=parseInt(e.index,10);!isNaN(p)&&this.postDetails?.data&&(this.formData.get(this.selectedImage)?.setValue(c),this.imageCropper.hide())}}}getIdByControlName(e){let t=this.dataset.find(i=>i.controlName===e);return t?t.id:null}getLuminance({r:e,g:t,b:i}){let n=[e,t,i].map(s=>(s/=255,s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)));return .2126*n[0]+.7152*n[1]+.0722*n[2]}hexToRGB(e){let t=parseInt(e.slice(1,3),16),i=parseInt(e.slice(3,5),16),n=parseInt(e.slice(5,7),16);return{r:t,g:i,b:n}}onImgLoad(e,t){if(!this.isBrowser)return;let n=t.target.closest(".poster-container");console.log(n,e),n&&e&&this.colorService.getColors(e,10).then(s=>{if(!(!s||s.length===0)&&s.length>=3){let c=s.slice(2).map(f=>{let b=this.hexToRGB(f),D=this.getLuminance(b);return{hex:f,luminance:D}});c.sort((f,b)=>f.luminance-b.luminance);let p=c[1].hex,m=c[c.length-1].hex;n.style.backgroundColor=p||"",n.style.color=m,n.querySelectorAll("img").forEach(f=>(f.style.boxShadow=`0 0.5rem 1rem ${m}`,"important"))}}).catch(console.error)}getColors(e,t){return M(this,null,function*(){try{return yield this.colorService.getColors(e,t)}catch{return[]}})}static{this.\u0275fac=function(t){return new(t||a)(_(va),_(_a),_(fa),_(ja),_(At),_(Na),_(Ga),_(Ha),_(Ya),_(Oa),_(ba),_(Bt),_($a),_(za),_(Ua),_(G),_(Sn),_(Wa),_(xe),_(ya),_(In),_(Qa))}}static{this.\u0275cmp=X({type:a,selectors:[["app-poster"]],viewQuery:function(t,i){if(t&1&&(ee(Br,5),ee(jr,5),ee(Nr,5)),t&2){let n;$(n=z())&&(i.imageDraw=n.first),$(n=z())&&(i.textInput=n.first),$(n=z())&&(i.imageInput=n.first)}},decls:92,vars:12,consts:[["textInput",""],["imageInput",""],["imageDraw",""],[1,"h-100-vh","d-flex","flex-column"],["class","d-flex align-items-center justify-content-center shadow-sm bg-dark position-sticky top-0 z-2",4,"ngIf"],[1,"flex-grow-1","d-flex","flex-column","justify-content-center","align-items-center"],["class","flex-grow-1 overflow-auto align-items-center d-flex flex-column justify-content-center",4,"ngIf"],["class","container mt-4",4,"ngIf"],["class","flex-grow-1 container-fluid",4,"ngIf"],["class","bg-dark border-top p-1 text-light position-sticky bottom-0 z-2",4,"ngIf"],["id","textModal","tabindex","-1","aria-labelledby","textModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header"],["id","textModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","bg-dark"],[3,"ngSubmit","formGroup"],["type","text","formControlName","text",1,"form-control","form-control-lg","fw-bold"],[1,"d-flex","mt-4"],["type","submit",1,"btn","btn-primary","mx-auto",3,"disabled"],[1,"fa","fa-save"],["id","cropperModal","tabindex","-1","aria-labelledby","cropperModalLabel","aria-hidden","true",1,"modal","fade"],["id","cropperModalLabel",1,"modal-title"],[1,"modal-body"],["id","cropper","alt","Crop",1,"w-100",3,"src"],["type","file",2,"display","none",3,"change"],["type","hidden","formControlName","image"],["type","button",1,"btn","btn-success","mx-auto",3,"click"],[1,"fa","fa-refresh"],[1,"btn","btn-primary","mx-auto",3,"disabled"],["id","imageCropper","tabindex","-1","aria-labelledby","imageCropperLabel","aria-hidden","true",1,"modal","fade"],["id","imageCropperLabel",1,"modal-title"],["id","imageToCropped","alt","Crop",1,"w-100",3,"src"],[1,"modal-footer"],[1,"btn","btn-danger","ms-3",3,"click"],[1,"fa","fa-close"],["type","button",1,"btn","btn-success","ms-3",3,"click"],["id","myInfo","tabindex","-1","aria-labelledby","myInfoLabel","aria-hidden","true",1,"modal","fade"],["id","myInfoLabel",1,"modal-title"],[1,"mb-3"],["for","email",1,"form-label"],["href","mailto:hirensojitra007@gmail.com",1,"form-control","text-decoration-none","fw-bold"],["for","mobile",1,"form-label"],["href","tel:+919429558759",1,"form-control","text-decoration-none","fw-bold"],["for","social",1,"form-label"],["href","http://www.facebook.com/SOJITRAHIREN","target","_blank",1,"btn","btn-primary","m-2","text-decoration-none"],[1,"fa","fa-facebook","me-2"],["href","http://www.instagram.com/HIREN_SOJITRA","target","_blank",1,"btn","btn-danger","m-2","text-decoration-none"],[1,"fa","fa-instagram","me-2"],["href","http://www.twitter.com/SOJITRA_HIREN","target","_blank",1,"btn","btn-dark","m-2","text-decoration-none"],[1,"fa","fa-twitter","me-2"],[1,"d-flex","align-items-center","justify-content-center","shadow-sm","bg-dark","position-sticky","top-0","z-2"],[1,"max-w-100","my-3",3,"routerLink"],["src","assets/images/svg/logo-large.svg","alt","PostNew.in","remSize","",1,"w-100",3,"maxWPX"],[1,"flex-grow-1","overflow-auto","align-items-center","d-flex","flex-column","justify-content-center"],["src","./assets/images/svg/no-post.svg",1,"max-w-100","max-h-100","rounded-4"],[1,"btn","btn-danger","m-3",3,"routerLink"],[1,"fa","fa-home","me-3"],[1,"container","mt-4"],["class","px-3",4,"ngIf"],["class","w-100",3,"src","alt",4,"ngIf"],[1,"btn","btn-success","btn-lg","mt-3","mx-auto","d-block",3,"click"],[1,"fa","fa-download","me-2"],[1,"alert","alert-secondary","text-center","p-4","my-4"],[1,"text-danger"],[1,"bi","bi-exclamation-triangle"],[1,"mt-2"],[1,"mt-3"],[1,"list-group","list-group-flush","text-start","mx-auto","w-75"],[1,"list-group-item"],[1,"px-3"],["class","text-center my-4 fw-b h5",4,"ngIf"],["class","text-center mb-4 lh-base h6",4,"ngIf"],[1,"text-center","mb-4"],[1,"text-center","my-4","fw-b","h5"],[1,"text-center","mb-4","lh-base","h6"],[1,"w-100",3,"src","alt"],[1,"flex-grow-1","container-fluid"],[1,"row","h-100"],[1,"col-lg-6","col-md-7","p-0","position-relative","d-flex","flex-column","justify-content-center","poster-container"],[1,"px-3","bg-light","bg-opacity-10","d-block","d-md-none","text-center"],["class","mt-4 fw-b h5",4,"ngIf"],["class","mb-4 lh-base",4,"ngIf"],["class","mb-4",4,"ngIf"],[1,"d-flex","flex-column","flex-grow-1","w-100","position-relative"],[1,"position-relative","d-flex","flex-column","flex-grow-1","min-h-300-px"],[1,"position-absolute","w-100","h-100","d-flex","align-items-center","justify-content-center","p-3"],["class","m-3 h-100 w-100 d-flex align-items-center justify-content-center",4,"ngIf"],[1,"max-w-100","max-h-100","m-3","shadow","rounded-4",3,"ngClass"],[4,"ngIf"],[1,"col-lg-6","col-md-5","d-flex","flex-column","justify-content-center"],["class","p-3 m-4 border border-light rounded-4 shadow-sm bg-white",3,"ngClass",4,"ngIf"],[1,"mt-4","fw-b","h5"],[1,"mb-4","lh-base"],[1,"mb-4"],[1,"m-3","h-100","w-100","d-flex","align-items-center","justify-content-center"],[1,"max-w-100","max-h-100","shadow","rounded-4","img-fluid","opacity-75",3,"load","src","alt"],[1,"d-flex","flex-column","gap-2","p-3","bg-light","bg-opacity-10"],[1,"btn","btn-lg","btn-primary","text-white",3,"click"],[1,"btn","btn-lg","btn-danger","text-nowrap",3,"click"],[1,"fa","fa-refresh","me-2"],["type","button",1,"btn","btn-success","btn-md","text-nowrap",3,"click"],[1,"fa","fa-whatsapp","me-2"],[1,"d-none-sm"],["type","button",1,"btn","btn-primary","btn-md","text-nowrap",3,"click"],[1,"p-3","m-4","border","border-light","rounded-4","shadow-sm","bg-white",3,"ngClass"],["class","d-none d-md-block text-center my-4 fw-b h5",4,"ngIf"],["class","d-none d-md-block text-center mb-4 lh-base h6",4,"ngIf"],["class","d-none d-md-block text-center mb-4",4,"ngIf"],["class","row g-3",3,"formGroup","ngSubmit",4,"ngIf"],[1,"d-none","d-md-block","text-center","my-4","fw-b","h5"],[1,"d-none","d-md-block","text-center","mb-4","lh-base","h6"],[1,"d-none","d-md-block","text-center","mb-4"],[1,"row","g-3",3,"ngSubmit","formGroup"],["class","form-group col-12 col-md-6 offset-0 offset-md-3 position-relative",4,"ngFor","ngForOf"],["class","form-group col-12 col-md-6 offset-0 offset-md-3 position-relative",4,"ngIf"],[1,"col-12","col-md-6","offset-0","offset-md-3"],[1,"my-2"],[1,"col-12","col-md-6","offset-0","offset-md-3","d-flex","flex-column","gap-3"],["type","submit",1,"btn","btn-primary","btn-lg","text-nowrap"],[1,"fa","fa-edit","me-2"],["type","button",1,"btn","btn-danger","btn-lg","text-nowrap",3,"click"],[1,"col-12","col-md-6","offset-0","offset-md-3","d-flex","justify-content-center","pb-3"],["type","button",1,"btn","btn-success","btn-md","text-nowrap","me-1",3,"click"],["class","d-flex justify-content-center pb-3",4,"ngIf"],[1,"form-group","col-12","col-md-6","offset-0","offset-md-3","position-relative"],[1,"form-label",3,"for"],["type","text",1,"form-control",3,"id","name","formControlName","placeholder"],["type","date",1,"form-control",3,"id","name","formControlName"],[1,"form-label"],["type","hidden",1,"form-control",3,"id","name","formControlName"],["type","file","accept","image/*",1,"form-control",3,"change","id","name","formControlName"],["for","text",1,"form-label"],["id","type",1,"form-select",3,"formControlName"],["value","null","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","tel","id","mobile","formControlName","mobile","placeholder","Enter your mobile number",1,"form-control"],[1,"d-flex","justify-content-center","pb-3"],["href","https://whatsapp.com/channel/0029VaePspU1iUxd0HOsMA1d","target","_blank",1,"btn","btn-success","btn-md","mx-2"],["href","https://www.facebook.com/postnew","target","_blank",1,"btn","btn-primary","btn-md","mx-2"],[1,"text-center","my-2","text-danger"],[1,"bg-dark","border-top","p-1","text-light","position-sticky","bottom-0","z-2"],[1,"w-100","mx-auto","d-flex","align-items-center","justify-content-center"],["href","https://www.facebook.com/SOJITRAHIREN","target","_blank",1,"fw-bold","btn","btn-danger","ms-3",3,"click"],[1,"text-danger","fw-bold","text-decoration-none","mx-3","my-1",3,"routerLink"]],template:function(t,i){if(t&1){let n=J();l(0,"div",3),L(1,Yr,3,2,"div",4),l(2,"div",5),L(3,$r,5,2,"div",6)(4,Kr,45,2,"div",7)(5,ps,17,11,"div",8),d(),L(6,fs,7,2,"div",9),d(),l(7,"div",10)(8,"div",11)(9,"div",12)(10,"div",13)(11,"h5",14),u(12),d(),x(13,"button",15),d(),l(14,"div",16)(15,"form",17),C("ngSubmit",function(){return S(n),I(i.onTextSubmit())}),x(16,"input",18,0),l(18,"div",19)(19,"button",20),x(20,"i",21),u(21," Save"),d()()()()()()(),l(22,"div",22)(23,"div",11)(24,"div",12)(25,"div",13)(26,"h5",23),u(27),d(),x(28,"button",15),d(),l(29,"div",24),x(30,"img",25),l(31,"input",26,1),C("change",function(o){return S(n),I(i.handleImageInputChange(o))}),d(),l(33,"form",17),C("ngSubmit",function(){return S(n),I(i.onImageSubmit())}),x(34,"input",27),l(35,"div",19)(36,"button",28),C("click",function(){return S(n),I(i.openImageCropperDialog())}),x(37,"i",29),u(38," Change Photo"),d(),l(39,"button",30),x(40,"i",21),u(41," Save"),d()()()()()()(),l(42,"div",31)(43,"div",11)(44,"div",12)(45,"div",13)(46,"h5",32),u(47,"Crop Photo"),d(),x(48,"button",15),d(),l(49,"div",24),x(50,"img",33),d(),l(51,"div",34)(52,"div",19)(53,"button",35),C("click",function(){let o;return S(n),i.imageCropper.hide(),I((o=i.formData.get(i.selectedImage+"-file"))==null?null:o.reset())}),x(54,"i",36),u(55," Cancel"),d(),l(56,"button",37),C("click",function(){return S(n),I(i.handleSelectedEvent())}),x(57,"i",21),u(58," Save"),d()()()()()(),l(59,"div",38)(60,"div",11)(61,"div",12)(62,"div",13)(63,"h5",39),u(64,"Contact Information"),d(),x(65,"button",15),d(),l(66,"div",24)(67,"h5"),u(68,"Hiren Sojitra"),d(),l(69,"div",40)(70,"label",41),u(71,"Email:"),d(),l(72,"a",42),u(73,"hirensojitra007@gmail.com"),d()(),l(74,"div",40)(75,"label",43),u(76,"Mobile:"),d(),l(77,"a",44),u(78,"+919429558759"),d()(),l(79,"div",40)(80,"label",45),u(81,"Social Links:"),d(),x(82,"br"),l(83,"a",46),x(84,"i",47),u(85,"Facebook"),d(),l(86,"a",48),x(87,"i",49),u(88,"Instagram"),d(),l(89,"a",50),x(90,"i",51),u(91,"Twitter"),d()()()()()()}if(t&2){let n;h(),g("ngIf",i.postDetails==null?null:i.postDetails.info_show),h(2),g("ngIf",!i.postDetailsDefault),h(),g("ngIf",i.isInAppBrowser),h(),g("ngIf",!i.isInAppBrowser&&i.postDetails),h(),g("ngIf",i.postDetails==null?null:i.postDetails.info_show),h(6),B(i.textModalTitle),h(3),g("formGroup",i.inputTextForm),h(4),g("disabled",i.inputTextForm.invalid),h(8),B(i.cropperModalTitle),h(3),g("src",(n=i.inputImageForm.get("image"))==null?null:n.value,Ct),h(3),g("formGroup",i.inputImageForm),h(6),g("disabled",i.inputImageForm.invalid)}},dependencies:[Se,ma,pa,Cn,xa,Ka,wa,Ia,Fa,Ra,Da,Ea,Ca,Aa,Ma,ka],data:{animation:[tt("fadeInList",[Te("* => *",[Pa("@fadeIn",Ba(200,Va()),{optional:!0})])]),tt("fadeIn",[Te(":enter",[pe({opacity:0,transform:"translateY(10px)"}),Ye("200ms ease-out",pe({opacity:1,transform:"translateY(0)"}))])])]}})}}return a})();var _s=[{path:"",component:Mn,data:{title:"Proposal for Web Application Poster Generation Service | PostNew",description:"Discover our web application for generating election campaign posters, festival posts, and other promotional activities. Customize posters with photos, names, addresses, designations, and contact details for efficient and personalized promotional material.",keywords:"poster generation, campaign posters, election posters, festival posts, promotional activities, customization, PostNew, web application",robots:"index, follow","og:image":"https://api.postnew.in/api/v1/img/uploads/wLmyK?quality=30","og:image:alt":"PostNew Logo","og:image:type":"image/svg+xml","og:image:width":"1200","og:image:height":"630","og:title":"Web Application Poster Generation Service | PostNew","og:description":"Generate personalized posters for campaigns and festivals with Gujarat Info\u2019s web application. Easily customize with your photos, names, and contact details."}}],kn=(()=>{class a{static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275mod=F({type:a})}static{this.\u0275inj=E({imports:[si.forChild(_s),si]})}}return a})();var En=(()=>{class a{static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275mod=F({type:a})}static{this.\u0275inj=E({imports:[te,te]})}}return a})();var Fn=(()=>{class a{static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275mod=F({type:a})}static{this.\u0275inj=E({imports:[te,Re,te]})}}return a})();var Rn=(()=>{class a{static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275mod=F({type:a})}static{this.\u0275inj=E({})}}return a})();var Tn=(()=>{class a{static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275mod=F({type:a})}static{this.\u0275inj=E({imports:[te,$e,$e,Rn,te]})}}return a})();var Ln=Xa(),Si=class{constructor(r,e){this._viewportRuler=r,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let r=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=r.style.left||"",this._previousHTMLStyles.top=r.style.top||"",r.style.left=P(-this._previousScrollPosition.left),r.style.top=P(-this._previousScrollPosition.top),r.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let r=this._document.documentElement,e=this._document.body,t=r.style,i=e.style,n=t.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,r.classList.remove("cdk-global-scrollblock"),Ln&&(t.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Ln&&(t.scrollBehavior=n,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}};var Ii=class{constructor(r,e,t,i){this._scrollDispatcher=r,this._ngZone=e,this._viewportRuler=t,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(r){this._overlayRef,this._overlayRef=r}enable(){if(this._scrollSubscription)return;let r=this._scrollDispatcher.scrolled(0).pipe(je(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=r.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=r.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Qt=class{enable(){}disable(){}attach(){}};function Mi(a,r){return r.some(e=>{let t=a.bottom<e.top,i=a.top>e.bottom,n=a.right<e.left,s=a.left>e.right;return t||i||n||s})}function Vn(a,r){return r.some(e=>{let t=a.top<e.top,i=a.bottom>e.bottom,n=a.left<e.left,s=a.right>e.right;return t||i||n||s})}var ki=class{constructor(r,e,t,i){this._scrollDispatcher=r,this._viewportRuler=e,this._ngZone=t,this._config=i,this._scrollSubscription=null}attach(r){this._overlayRef,this._overlayRef=r}enable(){if(!this._scrollSubscription){let r=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(r).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:i}=this._viewportRuler.getViewportSize();Mi(e,[{width:t,height:i,bottom:i,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},As=(()=>{class a{constructor(e,t,i,n){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this.noop=()=>new Qt,this.close=s=>new Ii(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new Si(this._viewportRuler,this._document),this.reposition=s=>new ki(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=n}static{this.\u0275fac=function(t){return new(t||a)(y(rn),y(pi),y(Z),y(q))}}static{this.\u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})(),Kt=class{constructor(r){if(this.scrollStrategy=new Qt,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,r){let e=Object.keys(r);for(let t of e)r[t]!==void 0&&(this[t]=r[t])}}};var Ei=class{constructor(r,e){this.connectionPair=r,this.scrollableViewProperties=e}};var Gn=(()=>{class a{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),this._attachedOverlays.length===0&&this.detach()}static{this.\u0275fac=function(t){return new(t||a)(y(q))}}static{this.\u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})(),Ss=(()=>{class a extends Gn{constructor(e,t){super(e),this._ngZone=t,this._keydownListener=i=>{let n=this._attachedOverlays;for(let s=n.length-1;s>-1;s--)if(n[s]._keydownEvents.observers.length>0){let o=n[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>o.next(i)):o.next(i);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(t){return new(t||a)(y(q),y(Z,8))}}static{this.\u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})(),Is=(()=>{class a extends Gn{constructor(e,t,i){super(e),this._platform=t,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=n=>{this._pointerDownEventTarget=ci(n)},this._clickListener=n=>{let s=ci(n),o=n.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;let c=this._attachedOverlays.slice();for(let p=c.length-1;p>-1;p--){let m=c[p];if(m._outsidePointerEvents.observers.length<1||!m.hasAttached())continue;if(m.overlayElement.contains(s)||m.overlayElement.contains(o))break;let f=m._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>f.next(n)):f.next(n)}}}add(e){if(super.add(e),!this._isAttached){let t=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(t)):this._addEventListeners(t),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=t.style.cursor,t.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(t){return new(t||a)(y(q),y(it),y(Z,8))}}static{this.\u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})(),Hn=(()=>{class a{constructor(e,t){this._platform=t,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||hi()){let i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let n=0;n<i.length;n++)i[n].remove()}let t=this._document.createElement("div");t.classList.add(e),hi()?t.setAttribute("platform","test"):this._platform.isBrowser||t.setAttribute("platform","server"),this._document.body.appendChild(t),this._containerElement=t}static{this.\u0275fac=function(t){return new(t||a)(y(q),y(it))}}static{this.\u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})(),Fi=class{constructor(r,e,t,i,n,s,o,c,p,m=!1){this._portalOutlet=r,this._host=e,this._pane=t,this._config=i,this._ngZone=n,this._keyboardDispatcher=s,this._document=o,this._location=c,this._outsideClickDispatcher=p,this._animationsDisabled=m,this._backdropElement=null,this._backdropClick=new Q,this._attachments=new Q,this._detachments=new Q,this._locationChanges=Ce.EMPTY,this._backdropClickHandler=f=>this._backdropClick.next(f),this._backdropTransitionendHandler=f=>{this._disposeBackdrop(f.target)},this._keydownEvents=new Q,this._outsidePointerEvents=new Q,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(r){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(r);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ut(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let r=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),r}dispose(){let r=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,r&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(r){r!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=r,this.hasAttached()&&(r.attach(this),this.updatePosition()))}updateSize(r){this._config=N(N({},this._config),r),this._updateElementSize()}setDirection(r){this._config=Ee(N({},this._config),{direction:r}),this._updateElementDirection()}addPanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!0)}removePanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!1)}getDirection(){let r=this._config.direction;return r?typeof r=="string"?r:r.value:"ltr"}updateScrollStrategy(r){r!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=r,this.hasAttached()&&(r.attach(this),r.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let r=this._pane.style;r.width=P(this._config.width),r.height=P(this._config.height),r.minWidth=P(this._config.minWidth),r.minHeight=P(this._config.minHeight),r.maxWidth=P(this._config.maxWidth),r.maxHeight=P(this._config.maxHeight)}_togglePointerEvents(r){this._pane.style.pointerEvents=r?"":"none"}_attachBackdrop(){let r="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(r)})}):this._backdropElement.classList.add(r)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let r=this._backdropElement;if(r){if(this._animationsDisabled){this._disposeBackdrop(r);return}r.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{r.addEventListener("transitionend",this._backdropTransitionendHandler)}),r.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(r)},500))}}_toggleClasses(r,e,t){let i=oi(e||[]).filter(n=>!!n);i.length&&(t?r.classList.add(...i):r.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let r=this._ngZone.onStable.pipe(ii(Fe(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),r.unsubscribe())})})}_disposeScrollStrategy(){let r=this._scrollStrategy;r&&(r.disable(),r.detach&&r.detach())}_disposeBackdrop(r){r&&(r.removeEventListener("click",this._backdropClickHandler),r.removeEventListener("transitionend",this._backdropTransitionendHandler),r.remove(),this._backdropElement===r&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},Pn="cdk-overlay-connected-position-bounding-box",Ms=/([A-Za-z%]+)$/,qt=class{get positions(){return this._preferredPositions}constructor(r,e,t,i,n){this._viewportRuler=e,this._document=t,this._platform=i,this._overlayContainer=n,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Q,this._resizeSubscription=Ce.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(r)}attach(r){this._overlayRef&&this._overlayRef,this._validatePositions(),r.hostElement.classList.add(Pn),this._overlayRef=r,this._boundingBox=r.hostElement,this._pane=r.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let r=this._originRect,e=this._overlayRect,t=this._viewportRect,i=this._containerRect,n=[],s;for(let o of this._preferredPositions){let c=this._getOriginPoint(r,i,o),p=this._getOverlayPoint(c,e,o),m=this._getOverlayFit(p,e,t,o);if(m.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(o,c);return}if(this._canFitWithFlexibleDimensions(m,p,t)){n.push({position:o,origin:c,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(c,o)});continue}(!s||s.overlayFit.visibleArea<m.visibleArea)&&(s={overlayFit:m,overlayPoint:p,originPoint:c,position:o,overlayRect:e})}if(n.length){let o=null,c=-1;for(let p of n){let m=p.boundingBoxRect.width*p.boundingBoxRect.height*(p.position.weight||1);m>c&&(c=m,o=p)}this._isPushed=!1,this._applyPosition(o.position,o.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ue(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Pn),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let r=this._lastPosition;if(r){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,r);this._applyPosition(r,e)}else this.apply()}withScrollableContainers(r){return this._scrollables=r,this}withPositions(r){return this._preferredPositions=r,r.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(r){return this._viewportMargin=r,this}withFlexibleDimensions(r=!0){return this._hasFlexibleDimensions=r,this}withGrowAfterOpen(r=!0){return this._growAfterOpen=r,this}withPush(r=!0){return this._canPush=r,this}withLockedPosition(r=!0){return this._positionLocked=r,this}setOrigin(r){return this._origin=r,this}withDefaultOffsetX(r){return this._offsetX=r,this}withDefaultOffsetY(r){return this._offsetY=r,this}withTransformOriginOn(r){return this._transformOriginSelector=r,this}_getOriginPoint(r,e,t){let i;if(t.originX=="center")i=r.left+r.width/2;else{let s=this._isRtl()?r.right:r.left,o=this._isRtl()?r.left:r.right;i=t.originX=="start"?s:o}e.left<0&&(i-=e.left);let n;return t.originY=="center"?n=r.top+r.height/2:n=t.originY=="top"?r.top:r.bottom,e.top<0&&(n-=e.top),{x:i,y:n}}_getOverlayPoint(r,e,t){let i;t.overlayX=="center"?i=-e.width/2:t.overlayX==="start"?i=this._isRtl()?-e.width:0:i=this._isRtl()?0:-e.width;let n;return t.overlayY=="center"?n=-e.height/2:n=t.overlayY=="top"?0:-e.height,{x:r.x+i,y:r.y+n}}_getOverlayFit(r,e,t,i){let n=jn(e),{x:s,y:o}=r,c=this._getOffset(i,"x"),p=this._getOffset(i,"y");c&&(s+=c),p&&(o+=p);let m=0-s,f=s+n.width-t.width,b=0-o,D=o+n.height-t.height,w=this._subtractOverflows(n.width,m,f),k=this._subtractOverflows(n.height,b,D),T=w*k;return{visibleArea:T,isCompletelyWithinViewport:n.width*n.height===T,fitsInViewportVertically:k===n.height,fitsInViewportHorizontally:w==n.width}}_canFitWithFlexibleDimensions(r,e,t){if(this._hasFlexibleDimensions){let i=t.bottom-e.y,n=t.right-e.x,s=Bn(this._overlayRef.getConfig().minHeight),o=Bn(this._overlayRef.getConfig().minWidth),c=r.fitsInViewportVertically||s!=null&&s<=i,p=r.fitsInViewportHorizontally||o!=null&&o<=n;return c&&p}return!1}_pushOverlayOnScreen(r,e,t){if(this._previousPushAmount&&this._positionLocked)return{x:r.x+this._previousPushAmount.x,y:r.y+this._previousPushAmount.y};let i=jn(e),n=this._viewportRect,s=Math.max(r.x+i.width-n.width,0),o=Math.max(r.y+i.height-n.height,0),c=Math.max(n.top-t.top-r.y,0),p=Math.max(n.left-t.left-r.x,0),m=0,f=0;return i.width<=n.width?m=p||-s:m=r.x<this._viewportMargin?n.left-t.left-r.x:0,i.height<=n.height?f=c||-o:f=r.y<this._viewportMargin?n.top-t.top-r.y:0,this._previousPushAmount={x:m,y:f},{x:r.x+m,y:r.y+f}}_applyPosition(r,e){if(this._setTransformOrigin(r),this._setOverlayElementStyles(e,r),this._setBoundingBoxStyles(e,r),r.panelClass&&this._addPanelClasses(r.panelClass),this._positionChanges.observers.length){let t=this._getScrollVisibility();if(r!==this._lastPosition||!this._lastScrollVisibility||!ks(this._lastScrollVisibility,t)){let i=new Ei(r,t);this._positionChanges.next(i)}this._lastScrollVisibility=t}this._lastPosition=r,this._isInitialRender=!1}_setTransformOrigin(r){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),t,i=r.overlayY;r.overlayX==="center"?t="center":this._isRtl()?t=r.overlayX==="start"?"right":"left":t=r.overlayX==="start"?"left":"right";for(let n=0;n<e.length;n++)e[n].style.transformOrigin=`${t} ${i}`}_calculateBoundingBoxRect(r,e){let t=this._viewportRect,i=this._isRtl(),n,s,o;if(e.overlayY==="top")s=r.y,n=t.height-s+this._viewportMargin;else if(e.overlayY==="bottom")o=t.height-r.y+this._viewportMargin*2,n=t.height-o+this._viewportMargin;else{let D=Math.min(t.bottom-r.y+t.top,r.y),w=this._lastBoundingBoxSize.height;n=D*2,s=r.y-D,n>w&&!this._isInitialRender&&!this._growAfterOpen&&(s=r.y-w/2)}let c=e.overlayX==="start"&&!i||e.overlayX==="end"&&i,p=e.overlayX==="end"&&!i||e.overlayX==="start"&&i,m,f,b;if(p)b=t.width-r.x+this._viewportMargin*2,m=r.x-this._viewportMargin;else if(c)f=r.x,m=t.right-r.x;else{let D=Math.min(t.right-r.x+t.left,r.x),w=this._lastBoundingBoxSize.width;m=D*2,f=r.x-D,m>w&&!this._isInitialRender&&!this._growAfterOpen&&(f=r.x-w/2)}return{top:s,left:f,bottom:o,right:b,width:m,height:n}}_setBoundingBoxStyles(r,e){let t=this._calculateBoundingBoxRect(r,e);!this._isInitialRender&&!this._growAfterOpen&&(t.height=Math.min(t.height,this._lastBoundingBoxSize.height),t.width=Math.min(t.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let n=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=P(t.height),i.top=P(t.top),i.bottom=P(t.bottom),i.width=P(t.width),i.left=P(t.left),i.right=P(t.right),e.overlayX==="center"?i.alignItems="center":i.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?i.justifyContent="center":i.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",n&&(i.maxHeight=P(n)),s&&(i.maxWidth=P(s))}this._lastBoundingBoxSize=t,Ue(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Ue(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ue(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(r,e){let t={},i=this._hasExactPosition(),n=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){let m=this._viewportRuler.getViewportScrollPosition();Ue(t,this._getExactOverlayY(e,r,m)),Ue(t,this._getExactOverlayX(e,r,m))}else t.position="static";let o="",c=this._getOffset(e,"x"),p=this._getOffset(e,"y");c&&(o+=`translateX(${c}px) `),p&&(o+=`translateY(${p}px)`),t.transform=o.trim(),s.maxHeight&&(i?t.maxHeight=P(s.maxHeight):n&&(t.maxHeight="")),s.maxWidth&&(i?t.maxWidth=P(s.maxWidth):n&&(t.maxWidth="")),Ue(this._pane.style,t)}_getExactOverlayY(r,e,t){let i={top:"",bottom:""},n=this._getOverlayPoint(e,this._overlayRect,r);if(this._isPushed&&(n=this._pushOverlayOnScreen(n,this._overlayRect,t)),r.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;i.bottom=`${s-(n.y+this._overlayRect.height)}px`}else i.top=P(n.y);return i}_getExactOverlayX(r,e,t){let i={left:"",right:""},n=this._getOverlayPoint(e,this._overlayRect,r);this._isPushed&&(n=this._pushOverlayOnScreen(n,this._overlayRect,t));let s;if(this._isRtl()?s=r.overlayX==="end"?"left":"right":s=r.overlayX==="end"?"right":"left",s==="right"){let o=this._document.documentElement.clientWidth;i.right=`${o-(n.x+this._overlayRect.width)}px`}else i.left=P(n.x);return i}_getScrollVisibility(){let r=this._getOriginRect(),e=this._pane.getBoundingClientRect(),t=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Vn(r,t),isOriginOutsideView:Mi(r,t),isOverlayClipped:Vn(e,t),isOverlayOutsideView:Mi(e,t)}}_subtractOverflows(r,...e){return e.reduce((t,i)=>t-Math.max(i,0),r)}_getNarrowedViewportRect(){let r=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,t=this._viewportRuler.getViewportScrollPosition();return{top:t.top+this._viewportMargin,left:t.left+this._viewportMargin,right:t.left+r-this._viewportMargin,bottom:t.top+e-this._viewportMargin,width:r-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(r,e){return e==="x"?r.offsetX==null?this._offsetX:r.offsetX:r.offsetY==null?this._offsetY:r.offsetY}_validatePositions(){}_addPanelClasses(r){this._pane&&oi(r).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(r=>{this._pane.classList.remove(r)}),this._appliedPanelClasses=[])}_getOriginRect(){let r=this._origin;if(r instanceof G)return r.nativeElement.getBoundingClientRect();if(r instanceof Element)return r.getBoundingClientRect();let e=r.width||0,t=r.height||0;return{top:r.y,bottom:r.y+t,left:r.x,right:r.x+e,height:t,width:e}}};function Ue(a,r){for(let e in r)r.hasOwnProperty(e)&&(a[e]=r[e]);return a}function Bn(a){if(typeof a!="number"&&a!=null){let[r,e]=a.split(Ms);return!e||e==="px"?parseFloat(r):null}return a||null}function jn(a){return{top:Math.floor(a.top),right:Math.floor(a.right),bottom:Math.floor(a.bottom),left:Math.floor(a.left),width:Math.floor(a.width),height:Math.floor(a.height)}}function ks(a,r){return a===r?!0:a.isOriginClipped===r.isOriginClipped&&a.isOriginOutsideView===r.isOriginOutsideView&&a.isOverlayClipped===r.isOverlayClipped&&a.isOverlayOutsideView===r.isOverlayOutsideView}var Nn="cdk-global-overlay-wrapper",Ri=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(r){let e=r.getConfig();this._overlayRef=r,this._width&&!e.width&&r.updateSize({width:this._width}),this._height&&!e.height&&r.updateSize({height:this._height}),r.hostElement.classList.add(Nn),this._isDisposed=!1}top(r=""){return this._bottomOffset="",this._topOffset=r,this._alignItems="flex-start",this}left(r=""){return this._xOffset=r,this._xPosition="left",this}bottom(r=""){return this._topOffset="",this._bottomOffset=r,this._alignItems="flex-end",this}right(r=""){return this._xOffset=r,this._xPosition="right",this}start(r=""){return this._xOffset=r,this._xPosition="start",this}end(r=""){return this._xOffset=r,this._xPosition="end",this}width(r=""){return this._overlayRef?this._overlayRef.updateSize({width:r}):this._width=r,this}height(r=""){return this._overlayRef?this._overlayRef.updateSize({height:r}):this._height=r,this}centerHorizontally(r=""){return this.left(r),this._xPosition="center",this}centerVertically(r=""){return this.top(r),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let r=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,t=this._overlayRef.getConfig(),{width:i,height:n,maxWidth:s,maxHeight:o}=t,c=(i==="100%"||i==="100vw")&&(!s||s==="100%"||s==="100vw"),p=(n==="100%"||n==="100vh")&&(!o||o==="100%"||o==="100vh"),m=this._xPosition,f=this._xOffset,b=this._overlayRef.getConfig().direction==="rtl",D="",w="",k="";c?k="flex-start":m==="center"?(k="center",b?w=f:D=f):b?m==="left"||m==="end"?(k="flex-end",D=f):(m==="right"||m==="start")&&(k="flex-start",w=f):m==="left"||m==="start"?(k="flex-start",D=f):(m==="right"||m==="end")&&(k="flex-end",w=f),r.position=this._cssPosition,r.marginLeft=c?"0":D,r.marginTop=p?"0":this._topOffset,r.marginBottom=this._bottomOffset,r.marginRight=c?"0":w,e.justifyContent=k,e.alignItems=p?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let r=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,t=e.style;e.classList.remove(Nn),t.justifyContent=t.alignItems=r.marginTop=r.marginBottom=r.marginLeft=r.marginRight=r.position="",this._overlayRef=null,this._isDisposed=!0}},Es=(()=>{class a{constructor(e,t,i,n){this._viewportRuler=e,this._document=t,this._platform=i,this._overlayContainer=n}global(){return new Ri}flexibleConnectedTo(e){return new qt(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(t){return new(t||a)(y(pi),y(q),y(it),y(Hn))}}static{this.\u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})(),Fs=0,Me=(()=>{class a{constructor(e,t,i,n,s,o,c,p,m,f,b,D){this.scrollStrategies=e,this._overlayContainer=t,this._componentFactoryResolver=i,this._positionBuilder=n,this._keyboardDispatcher=s,this._injector=o,this._ngZone=c,this._document=p,this._directionality=m,this._location=f,this._outsideClickDispatcher=b,this._animationsModuleType=D}create(e){let t=this._createHostElement(),i=this._createPaneElement(t),n=this._createPortalOutlet(i),s=new Kt(e);return s.direction=s.direction||this._directionality.value,new Fi(n,t,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(e){let t=this._document.createElement("div");return t.id=`cdk-overlay-${Fs++}`,t.classList.add("cdk-overlay-pane"),e.appendChild(t),t}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(ca)),new on(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(t){return new(t||a)(y(As),y(Hn),y(sa),y(Es),y(Ss),y(ni),y(Z),y(q),y(et),y(ga),y(Is),y(na,8))}}static{this.\u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var Rs=new re("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let a=ve(Me);return()=>a.scrollStrategies.reposition()}});function Os(a){return()=>a.scrollStrategies.reposition()}var Ts={provide:Rs,deps:[Me],useFactory:Os},Xt=(()=>{class a{static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275mod=F({type:a})}static{this.\u0275inj=E({providers:[Me,Ts],imports:[Nt,$t,fi,fi]})}}return a})();var Vs=["mat-calendar-body",""];function Ps(a,r){if(a&1&&(l(0,"tr",0)(1,"td",3),u(2),d()()),a&2){let e=v();h(),St("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),ie("colspan",e.numCols),h(),le(" ",e.label," ")}}function Bs(a,r){if(a&1&&(l(0,"td",3),u(1),d()),a&2){let e=v(2);St("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),ie("colspan",e._firstRowOffset),h(),le(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function js(a,r){if(a&1){let e=J();l(0,"td",6)(1,"button",7),C("click",function(i){let n=S(e).$implicit,s=v(2);return I(s._cellClicked(n,i))})("focus",function(i){let n=S(e).$implicit,s=v(2);return I(s._emitActiveDateChange(n,i))}),l(2,"span",8),u(3),d(),x(4,"span",9),d()()}if(a&2){let e=r.$implicit,t=r.$index,i=v().$index,n=v();St("width",n._cellWidth)("padding-top",n._cellPadding)("padding-bottom",n._cellPadding),ie("data-mat-row",i)("data-mat-col",t),h(),oe("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",n._isActiveCell(i,t))("mat-calendar-body-range-start",n._isRangeStart(e.compareValue))("mat-calendar-body-range-end",n._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",n._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",n._isComparisonBridgeStart(e.compareValue,i,t))("mat-calendar-body-comparison-bridge-end",n._isComparisonBridgeEnd(e.compareValue,i,t))("mat-calendar-body-comparison-start",n._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",n._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",n._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",n._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",n._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",n._isInPreview(e.compareValue)),g("ngClass",e.cssClasses)("tabindex",n._isActiveCell(i,t)?0:-1),ie("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",n._isSelected(e.compareValue))("aria-current",n.todayValue===e.compareValue?"date":null)("aria-describedby",n._getDescribedby(e.compareValue)),h(),oe("mat-calendar-body-selected",n._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",n._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",n.todayValue===e.compareValue),h(),le(" ",e.displayValue," ")}}function Ns(a,r){if(a&1&&(l(0,"tr",1),L(1,Bs,2,6,"td",4),kt(2,js,5,48,"td",5,Mt),d()),a&2){let e=r.$implicit,t=r.$index,i=v();h(),Xe(1,t===0&&i._firstRowOffset?1:-1),h(),Et(e)}}function Gs(a,r){if(a&1&&(l(0,"th",2)(1,"span",6),u(2),d(),l(3,"span",3),u(4),d()()),a&2){let e=r.$implicit;h(2),B(e.long),h(2),B(e.narrow)}}var Hs=["*"];function Ys(a,r){}function $s(a,r){if(a&1){let e=J();l(0,"mat-month-view",2),Lt("activeDateChange",function(i){S(e);let n=v();return Tt(n.activeDate,i)||(n.activeDate=i),I(i)}),C("_userSelection",function(i){S(e);let n=v();return I(n._dateSelected(i))})("dragStarted",function(i){S(e);let n=v();return I(n._dragStarted(i))})("dragEnded",function(i){S(e);let n=v();return I(n._dragEnded(i))}),d()}if(a&2){let e=v();Ot("activeDate",e.activeDate),g("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function zs(a,r){if(a&1){let e=J();l(0,"mat-year-view",3),Lt("activeDateChange",function(i){S(e);let n=v();return Tt(n.activeDate,i)||(n.activeDate=i),I(i)}),C("monthSelected",function(i){S(e);let n=v();return I(n._monthSelectedInYearView(i))})("selectedChange",function(i){S(e);let n=v();return I(n._goToDateInView(i,"month"))}),d()}if(a&2){let e=v();Ot("activeDate",e.activeDate),g("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Us(a,r){if(a&1){let e=J();l(0,"mat-multi-year-view",4),Lt("activeDateChange",function(i){S(e);let n=v();return Tt(n.activeDate,i)||(n.activeDate=i),I(i)}),C("yearSelected",function(i){S(e);let n=v();return I(n._yearSelectedInMultiYearView(i))})("selectedChange",function(i){S(e);let n=v();return I(n._goToDateInView(i,"year"))}),d()}if(a&2){let e=v();Ot("activeDate",e.activeDate),g("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Ws(a,r){}var Qs=["button"],Ks=[[["","matDatepickerToggleIcon",""]]],qs=["[matDatepickerToggleIcon]"];function Xs(a,r){a&1&&(Ke(),l(0,"svg",2),x(1,"path",3),d())}var xt=(()=>{class a{constructor(){this.changes=new Q,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,t){return`${e} \u2013 ${t}`}formatYearRangeLabel(e,t){return`${e} to ${t}`}static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275prov=R({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})(),vt=class{constructor(r,e,t,i,n={},s=r,o){this.value=r,this.displayValue=e,this.ariaLabel=t,this.enabled=i,this.cssClasses=n,this.compareValue=s,this.rawValue=o}},Zs=1,Yn=Gt({passive:!1,capture:!0}),Ve=Gt({passive:!0,capture:!0}),Zt=Gt({passive:!0}),lt=(()=>{class a{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(e,t){this._elementRef=e,this._ngZone=t,this._platform=ve(it),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new O,this.previewChange=new O,this.activeDateChange=new O,this.dragStarted=new O,this.dragEnded=new O,this._didDragSinceMouseDown=!1,this._enterHandler=i=>{if(this._skipNextFocus&&i.type==="focus"){this._skipNextFocus=!1;return}if(i.target&&this.isRange){let n=this._getCellFromElement(i.target);n&&this._ngZone.run(()=>this.previewChange.emit({value:n.enabled?n:null,event:i}))}},this._touchmoveHandler=i=>{if(!this.isRange)return;let n=$n(i),s=n?this._getCellFromElement(n):null;n!==i.target&&(this._didDragSinceMouseDown=!0),Ti(i.target)&&i.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:s?.enabled?s:null,event:i}))},this._leaveHandler=i=>{this.previewEnd!==null&&this.isRange&&(i.type!=="blur"&&(this._didDragSinceMouseDown=!0),i.target&&this._getCellFromElement(i.target)&&!(i.relatedTarget&&this._getCellFromElement(i.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:i})))},this._mousedownHandler=i=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let n=i.target&&this._getCellFromElement(i.target);!n||!this._isInRange(n.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:n.rawValue,event:i})})},this._mouseupHandler=i=>{if(!this.isRange)return;let n=Ti(i.target);if(!n){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:i})});return}n.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let s=this._getCellFromElement(n);this.dragEnded.emit({value:s?.rawValue??null,event:i})})},this._touchendHandler=i=>{let n=$n(i);n&&this._mouseupHandler({target:n})},this._id=`mat-calendar-body-${Zs++}`,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,t.runOutsideAngular(()=>{let i=e.nativeElement;i.addEventListener("touchmove",this._touchmoveHandler,Yn),i.addEventListener("mouseenter",this._enterHandler,Ve),i.addEventListener("focus",this._enterHandler,Ve),i.addEventListener("mouseleave",this._leaveHandler,Ve),i.addEventListener("blur",this._leaveHandler,Ve),i.addEventListener("mousedown",this._mousedownHandler,Zt),i.addEventListener("touchstart",this._mousedownHandler,Zt),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(e,t){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:t})}_emitActiveDateChange(e,t){e.enabled&&this.activeDateChange.emit({value:e.value,event:t})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){let t=e.numCols,{rows:i,numCols:n}=this;(e.rows||t)&&(this._firstRowOffset=i&&i.length&&i[0].length?n-i[0].length:0),(e.cellAspectRatio||t||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/n}%`),(t||!this._cellWidth)&&(this._cellWidth=`${100/n}%`)}ngOnDestroy(){let e=this._elementRef.nativeElement;e.removeEventListener("touchmove",this._touchmoveHandler,Yn),e.removeEventListener("mouseenter",this._enterHandler,Ve),e.removeEventListener("focus",this._enterHandler,Ve),e.removeEventListener("mouseleave",this._leaveHandler,Ve),e.removeEventListener("blur",this._leaveHandler,Ve),e.removeEventListener("mousedown",this._mousedownHandler,Zt),e.removeEventListener("touchstart",this._mousedownHandler,Zt),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(e,t){let i=e*this.numCols+t;return e&&(i-=this._firstRowOffset),i==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ut(1)).subscribe(()=>{setTimeout(()=>{let t=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");t&&(e||(this._skipNextFocus=!0),t.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return Li(e,this.startValue,this.endValue)}_isRangeEnd(e){return Vi(e,this.startValue,this.endValue)}_isInRange(e){return Pi(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return Li(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,t,i){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let n=this.rows[t][i-1];if(!n){let s=this.rows[t-1];n=s&&s[s.length-1]}return n&&!this._isRangeEnd(n.compareValue)}_isComparisonBridgeEnd(e,t,i){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let n=this.rows[t][i+1];if(!n){let s=this.rows[t+1];n=s&&s[0]}return n&&!this._isRangeStart(n.compareValue)}_isComparisonEnd(e){return Vi(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return Pi(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return Li(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return Vi(e,this.previewStart,this.previewEnd)}_isInPreview(e){return Pi(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){return this.isRange?this.startValue===e&&this.endValue===e?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===e?this._startDateLabelId:this.endValue===e?this._endDateLabelId:null:null}_getCellFromElement(e){let t=Ti(e);if(t){let i=t.getAttribute("data-mat-row"),n=t.getAttribute("data-mat-col");if(i&&n)return this.rows[parseInt(i)][parseInt(n)]}return null}static{this.\u0275fac=function(t){return new(t||a)(_(G),_(Z))}}static{this.\u0275cmp=X({type:a,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],standalone:!0,features:[me,de],attrs:Vs,decls:7,vars:5,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(t,i){t&1&&(L(0,Ps,3,6,"tr",0),kt(1,Ns,4,1,"tr",1,Mt),l(3,"label",2),u(4),d(),l(5,"label",2),u(6),d()),t&2&&(Xe(0,i._firstRowOffset<i.labelMinRequiredCells?0:-1),h(),Et(i.rows),h(2),g("id",i._startDateLabelId),h(),le(" ",i.startDateAccessibleName,`
`),h(),g("id",i._endDateLabelId),h(),le(" ",i.endDateAccessibleName,`
`))},dependencies:[Se],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color)}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size);font-weight:var(--mat-datepicker-calendar-body-label-text-weight);color:var(--mat-datepicker-calendar-body-label-text-color)}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color)}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color);border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color);color:var(--mat-datepicker-calendar-date-selected-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color)}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color)}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color)}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}'],encapsulation:2,changeDetection:0})}}return a})();function Oi(a){return a?.nodeName==="TD"}function Ti(a){let r;return Oi(a)?r=a:Oi(a.parentNode)?r=a.parentNode:Oi(a.parentNode?.parentNode)&&(r=a.parentNode.parentNode),r?.getAttribute("data-mat-row")!=null?r:null}function Li(a,r,e){return e!==null&&r!==e&&a<e&&a===r}function Vi(a,r,e){return r!==null&&r!==e&&a>=r&&a===e}function Pi(a,r,e,t){return t&&r!==null&&e!==null&&r!==e&&a>=r&&a<=e}function $n(a){let r=a.changedTouches[0];return document.elementFromPoint(r.clientX,r.clientY)}var he=class{constructor(r,e){this.start=r,this.end=e}},Jt=(()=>{class a{constructor(e,t){this.selection=e,this._adapter=t,this._selectionChanged=new Q,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,t){let i=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:t,oldValue:i})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static{this.\u0275fac=function(t){ra()}}static{this.\u0275prov=R({token:a,factory:a.\u0275fac})}}return a})(),Js=(()=>{class a extends Jt{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let e=new a(this._adapter);return e.updateSelection(this.selection,this),e}static{this.\u0275fac=function(t){return new(t||a)(y(be))}}static{this.\u0275prov=R({token:a,factory:a.\u0275fac})}}return a})();function eo(a,r){return a||new Js(r)}var to={provide:Jt,deps:[[new ia,new aa,Jt],be],useFactory:eo};var Kn=new re("MAT_DATE_RANGE_SELECTION_STRATEGY");var Bi=7,zn=(()=>{class a{get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate,i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this._hasSameMonthAndYear(t,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){e instanceof he?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,t,i,n,s){this._changeDetectorRef=e,this._dateFormats=t,this._dateAdapter=i,this._dir=n,this._rangeStrategy=s,this._rerenderSubscription=Ce.EMPTY,this.activeDrag=null,this.selectedChange=new O,this._userSelection=new O,this.dragStarted=new O,this.dragEnded=new O,this.activeDateChange=new O,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(wt(null)).subscribe(()=>this._init())}ngOnChanges(e){let t=e.comparisonStart||e.comparisonEnd;t&&!t.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){let t=e.value,i=this._getDateFromDayOfMonth(t),n,s;this._selected instanceof he?(n=this._getDateInCurrentMonth(this._selected.start),s=this._getDateInCurrentMonth(this._selected.end)):n=s=this._getDateInCurrentMonth(this._selected),(n!==t||s!==t)&&this.selectedChange.emit(i),this._userSelection.emit({value:i,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){let t=e.value,i=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(t),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){let t=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&e.preventDefault();return;case 27:this._previewEnd!=null&&!Za(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation());return;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(Bi+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%Bi,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:t}){if(this._rangeStrategy){let i=t?t.rawValue:null,n=this._rangeStrategy.createPreview(i,this.selected,e);if(this._previewStart=this._getCellCompareValue(n.start),this._previewEnd=this._getCellCompareValue(n.end),this.activeDrag&&i){let s=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,i,e);s&&(this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){let t=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:t??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){let e=this._dateAdapter.getFirstDayOfWeek(),t=this._dateAdapter.getDayOfWeekNames("narrow"),n=this._dateAdapter.getDayOfWeekNames("long").map((s,o)=>({long:s,narrow:t[o]}));this._weekdays=n.slice(e).concat(n.slice(0,e))}_createWeekCells(){let e=this._dateAdapter.getNumDaysInMonth(this.activeDate),t=this._dateAdapter.getDateNames();this._weeks=[[]];for(let i=0,n=this._firstWeekOffset;i<e;i++,n++){n==Bi&&(this._weeks.push([]),n=0);let s=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),i+1),o=this._shouldEnableDate(s),c=this._dateAdapter.format(s,this._dateFormats.display.dateA11yLabel),p=this.dateClass?this.dateClass(s,"month"):void 0;this._weeks[this._weeks.length-1].push(new vt(i+1,t[i],c,o,p,this._getCellCompareValue(s),s))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,t){return!!(e&&t&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t)&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t))}_getCellCompareValue(e){if(e){let t=this._dateAdapter.getYear(e),i=this._dateAdapter.getMonth(e),n=this._dateAdapter.getDate(e);return new Date(t,i,n).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(e){e instanceof he?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}static{this.\u0275fac=function(t){return new(t||a)(_(Ae),_(pt,8),_(be,8),_(et,8),_(Kn,8))}}static{this.\u0275cmp=X({type:a,selectors:[["mat-month-view"]],viewQuery:function(t,i){if(t&1&&ee(lt,5),t&2){let n;$(n=z())&&(i._matCalendarBody=n.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],standalone:!0,features:[me,de],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(t,i){t&1&&(l(0,"table",0)(1,"thead",1)(2,"tr"),kt(3,Gs,5,2,"th",2,Mt),d(),l(5,"tr",3),x(6,"th",4),d()(),l(7,"tbody",5),C("selectedValueChange",function(s){return i._dateSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("previewChange",function(s){return i._previewChanged(s)})("dragStarted",function(s){return i.dragStarted.emit(s)})("dragEnded",function(s){return i._dragEnded(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),d()()),t&2&&(h(3),Et(i._weekdays),h(4),g("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1)("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName))},dependencies:[lt],encapsulation:2,changeDetection:0})}}return a})(),ne=24,ji=4,Un=(()=>{class a{get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate,i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),qn(this._dateAdapter,t,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){e instanceof he?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,t,i){this._changeDetectorRef=e,this._dateAdapter=t,this._dir=i,this._rerenderSubscription=Ce.EMPTY,this.selectedChange=new O,this.yearSelected=new O,this.activeDateChange=new O,this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(wt(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let t=this._dateAdapter.getYear(this._activeDate)-yt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let i=0,n=[];i<ne;i++)n.push(t+i),n.length==ji&&(this._years.push(n.map(s=>this._createCellForYear(s))),n=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){let t=e.value,i=this._dateAdapter.createDate(t,0,1),n=this._getDateFromYear(t);this.yearSelected.emit(i),this.selectedChange.emit(n)}_updateActiveDate(e){let t=e.value,i=this._activeDate;this.activeDate=this._getDateFromYear(t),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let t=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-ji);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ji);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-yt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ne-yt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-ne*10:-ne);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?ne*10:ne);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return yt(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){let t=this._dateAdapter.getMonth(this.activeDate),i=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,t,1));return this._dateAdapter.createDate(e,t,Math.min(this._dateAdapter.getDate(this.activeDate),i))}_createCellForYear(e){let t=this._dateAdapter.createDate(e,0,1),i=this._dateAdapter.getYearName(t),n=this.dateClass?this.dateClass(t,"multi-year"):void 0;return new vt(e,i,i,this._shouldEnableYear(e),n)}_shouldEnableYear(e){if(e==null||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let t=this._dateAdapter.createDate(e,0,1);for(let i=t;this._dateAdapter.getYear(i)==e;i=this._dateAdapter.addCalendarDays(i,1))if(this.dateFilter(i))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(e){if(this._selectedYear=null,e instanceof he){let t=e.start||e.end;t&&(this._selectedYear=this._dateAdapter.getYear(t))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}static{this.\u0275fac=function(t){return new(t||a)(_(Ae),_(be,8),_(et,8))}}static{this.\u0275cmp=X({type:a,selectors:[["mat-multi-year-view"]],viewQuery:function(t,i){if(t&1&&ee(lt,5),t&2){let n;$(n=z())&&(i._matCalendarBody=n.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],standalone:!0,features:[de],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(t,i){t&1&&(l(0,"table",0)(1,"thead",1)(2,"tr"),x(3,"th",2),d()(),l(4,"tbody",3),C("selectedValueChange",function(s){return i._yearSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),d()()),t&2&&(h(4),g("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[lt],encapsulation:2,changeDetection:0})}}return a})();function qn(a,r,e,t,i){let n=a.getYear(r),s=a.getYear(e),o=Xn(a,t,i);return Math.floor((n-o)/ne)===Math.floor((s-o)/ne)}function yt(a,r,e,t){let i=a.getYear(r);return io(i-Xn(a,e,t),ne)}function Xn(a,r,e){let t=0;return e?t=a.getYear(e)-ne+1:r&&(t=a.getYear(r)),t}function io(a,r){return(a%r+r)%r}var Wn=(()=>{class a{get activeDate(){return this._activeDate}set activeDate(e){let t=this._activeDate,i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this._dateAdapter.getYear(t)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){e instanceof he?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,t,i,n){this._changeDetectorRef=e,this._dateFormats=t,this._dateAdapter=i,this._dir=n,this._rerenderSubscription=Ce.EMPTY,this.selectedChange=new O,this.monthSelected=new O,this.activeDateChange=new O,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(wt(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){let t=e.value,i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1);this.monthSelected.emit(i);let n=this._getDateFromMonth(t);this.selectedChange.emit(n)}_updateActiveDate(e){let t=e.value,i=this._activeDate;this.activeDate=this._getDateFromMonth(t),this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let t=this._activeDate,i=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,i?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,i?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(t=>t.map(i=>this._createCellForMonth(i,e[i]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),i=this._dateAdapter.getNumDaysInMonth(t);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),i))}_createCellForMonth(e,t){let i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),n=this._dateAdapter.format(i,this._dateFormats.display.monthYearA11yLabel),s=this.dateClass?this.dateClass(i,"year"):void 0;return new vt(e,t.toLocaleUpperCase(),n,this._shouldEnableMonth(e),s)}_shouldEnableMonth(e){let t=this._dateAdapter.getYear(this.activeDate);if(e==null||this._isYearAndMonthAfterMaxDate(t,e)||this._isYearAndMonthBeforeMinDate(t,e))return!1;if(!this.dateFilter)return!0;let i=this._dateAdapter.createDate(t,e,1);for(let n=i;this._dateAdapter.getMonth(n)==e;n=this._dateAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1}_isYearAndMonthAfterMaxDate(e,t){if(this.maxDate){let i=this._dateAdapter.getYear(this.maxDate),n=this._dateAdapter.getMonth(this.maxDate);return e>i||e===i&&t>n}return!1}_isYearAndMonthBeforeMinDate(e,t){if(this.minDate){let i=this._dateAdapter.getYear(this.minDate),n=this._dateAdapter.getMonth(this.minDate);return e<i||e===i&&t<n}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(e){e instanceof he?this._selectedMonth=this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._selectedMonth=this._getMonthInCurrentYear(e)}static{this.\u0275fac=function(t){return new(t||a)(_(Ae),_(pt,8),_(be,8),_(et,8))}}static{this.\u0275cmp=X({type:a,selectors:[["mat-year-view"]],viewQuery:function(t,i){if(t&1&&ee(lt,5),t&2){let n;$(n=z())&&(i._matCalendarBody=n.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],standalone:!0,features:[de],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(t,i){t&1&&(l(0,"table",0)(1,"thead",1)(2,"tr"),x(3,"th",2),d()(),l(4,"tbody",3),C("selectedValueChange",function(s){return i._monthSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),d()()),t&2&&(h(4),g("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[lt],encapsulation:2,changeDetection:0})}}return a})(),ao=1,Zn=(()=>{class a{constructor(e,t,i,n,s){this._intl=e,this.calendar=t,this._dateAdapter=i,this._dateFormats=n,this._id=`mat-calendar-header-${ao++}`,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>s.markForCheck())}get periodButtonText(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return this.calendar.currentView=="month"?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-ne)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:ne)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,t){return this.calendar.currentView=="month"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t):this.calendar.currentView=="year"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t):qn(this._dateAdapter,e,t,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let t=this._dateAdapter.getYear(this.calendar.activeDate)-yt(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),i=t+ne-1,n=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1)),s=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1));return[n,s]}static{this.\u0275fac=function(t){return new(t||a)(_(xt),_(ta(()=>Ni)),_(be,8),_(pt,8),_(Ae))}}static{this.\u0275cmp=X({type:a,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],standalone:!0,features:[de],ngContentSelectors:Hs,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],[1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"]],template:function(t,i){t&1&&(Ze(),l(0,"div",0)(1,"div",1)(2,"label",2),u(3),d(),l(4,"button",3),C("click",function(){return i.currentPeriodClicked()}),l(5,"span",4),u(6),d(),Ke(),l(7,"svg",5),x(8,"polygon",6),d()(),Dt(),x(9,"div",7),Je(10),l(11,"button",8),C("click",function(){return i.previousClicked()}),d(),l(12,"button",9),C("click",function(){return i.nextClicked()}),d()()()),t&2&&(h(2),g("id",i._periodButtonLabelId),h(),B(i.periodButtonDescription),h(),ie("aria-label",i.periodButtonLabel)("aria-describedby",i._periodButtonLabelId),h(2),B(i.periodButtonText),h(),oe("mat-calendar-invert",i.calendar.currentView!=="month"),h(4),g("disabled",!i.previousEnabled()),ie("aria-label",i.prevButtonLabel),h(),g("disabled",!i.nextEnabled()),ie("aria-label",i.nextButtonLabel))},dependencies:[gi,mi],encapsulation:2,changeDetection:0})}}return a})(),Ni=(()=>{class a{get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){e instanceof he?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){let t=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),t&&this.viewChanged.emit(t)}constructor(e,t,i,n){this._dateAdapter=t,this._dateFormats=i,this._changeDetectorRef=n,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new O,this.yearSelected=new O,this.monthSelected=new O,this.viewChanged=new O(!0),this._userSelection=new O,this._userDragDrop=new O,this._activeDrag=null,this.stateChanges=new Q,this._intlChanges=e.changes.subscribe(()=>{n.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new sn(this.headerComponent||Zn),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){let t=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,i=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,n=t||i||e.dateFilter;if(n&&!n.firstChange){let s=this._getCurrentViewComponent();s&&(this._changeDetectorRef.detectChanges(),s._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){let t=e.value;(this.selected instanceof he||t&&!this._dateAdapter.sameDate(t,this.selected))&&this.selectedChange.emit(t),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,t){this.activeDate=e,this.currentView=t}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static{this.\u0275fac=function(t){return new(t||a)(_(xt),_(be,8),_(pt,8),_(Ae))}}static{this.\u0275cmp=X({type:a,selectors:[["mat-calendar"]],viewQuery:function(t,i){if(t&1&&(ee(zn,5),ee(Wn,5),ee(Un,5)),t&2){let n;$(n=z())&&(i.monthView=n.first),$(n=z())&&(i.yearView=n.first),$(n=z())&&(i.multiYearView=n.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],standalone:!0,features:[Vt([to]),me,de],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(t,i){if(t&1&&(L(0,Ys,0,0,"ng-template",0),l(1,"div",1),L(2,$s,1,11)(3,zs,1,6)(4,Us,1,6),d()),t&2){let n;g("cdkPortalOutlet",i._calendarHeaderPortal),h(2),Xe(2,(n=i.currentView)==="month"?2:n==="year"?3:n==="multi-year"?4:-1)}},dependencies:[_i,en,zn,Wn,Un],styles:['.mat-calendar{display:block;font-family:var(--mat-datepicker-calendar-text-font);font-size:var(--mat-datepicker-calendar-text-size)}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size);font-weight:var(--mat-datepicker-calendar-period-button-text-weight);--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color)}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color)}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color)}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color);font-size:var(--mat-datepicker-calendar-header-text-size);font-weight:var(--mat-datepicker-calendar-header-text-weight)}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return a})(),Qn={transformPanel:tt("transformPanel",[Te("void => enter-dropdown",Ye("120ms cubic-bezier(0, 0, 0.2, 1)",di([pe({opacity:0,transform:"scale(1, 0.8)"}),pe({opacity:1,transform:"scale(1, 1)"})]))),Te("void => enter-dialog",Ye("150ms cubic-bezier(0, 0, 0.2, 1)",di([pe({opacity:0,transform:"scale(0.7)"}),pe({transform:"none",opacity:1})]))),Te("* => void",Ye("100ms linear",pe({opacity:0})))]),fadeInCalendar:tt("fadeInCalendar",[li("void",pe({opacity:0})),li("enter",pe({opacity:1})),Te("void => *",Ye("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};var no=new re("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let a=ve(Me);return()=>a.scrollStrategies.reposition()}});function ro(a){return()=>a.scrollStrategies.reposition()}var so={provide:no,deps:[Me],useFactory:ro},oo=(()=>{class a{constructor(e,t,i,n,s,o){this._elementRef=e,this._changeDetectorRef=t,this._globalModel=i,this._dateAdapter=n,this._rangeSelectionStrategy=s,this._subscriptions=new Ce,this._animationDone=new Q,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=o.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){let t=this._model.selection,i=e.value,n=t instanceof he;if(n&&this._rangeSelectionStrategy){let s=this._rangeSelectionStrategy.selectionFinished(i,t,e.event);this._model.updateSelection(s,this)}else i&&(n||!this._dateAdapter.sameDate(i,t))&&this._model.add(i);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(e){this._isAnimating=e.phaseName==="start",this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,t){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,t&&this._changeDetectorRef.detectChanges()}static{this.\u0275fac=function(t){return new(t||a)(_(G),_(Ae),_(Jt),_(be),_(Kn,8),_(xt))}}static{this.\u0275cmp=X({type:a,selectors:[["mat-datepicker-content"]],viewQuery:function(t,i){if(t&1&&ee(Ni,5),t&2){let n;$(n=z())&&(i._calendar=n.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(t,i){t&1&&la("@transformPanel.start",function(s){return i._handleAnimationEvent(s)})("@transformPanel.done",function(s){return i._handleAnimationEvent(s)}),t&2&&(oa("@transformPanel",i._animationState),It(i.color?"mat-"+i.color:""),oe("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],standalone:!0,features:[de],decls:5,vars:27,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(t,i){if(t&1&&(l(0,"div",0)(1,"mat-calendar",1),C("yearSelected",function(s){return i.datepicker._selectYear(s)})("monthSelected",function(s){return i.datepicker._selectMonth(s)})("viewChanged",function(s){return i.datepicker._viewChanged(s)})("_userSelection",function(s){return i._handleUserSelection(s)})("_userDragDrop",function(s){return i._handleUserDragDrop(s)}),d(),L(2,Ws,0,0,"ng-template",2),l(3,"button",3),C("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),u(4),d()()),t&2){let n;oe("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),ie("aria-modal",!0)("aria-labelledby",(n=i._dialogLabelId)!==null&&n!==void 0?n:void 0),h(),It(i.datepicker.panelClass),g("id",i.datepicker.id)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",i.startDateAccessibleName)("endDateAccessibleName",i.endDateAccessibleName),h(),g("cdkPortalOutlet",i._actionsPortal),h(),oe("cdk-visually-hidden",!i._closeButtonFocused),g("color",i.color||"primary"),h(),B(i._closeButtonText)}},dependencies:[Ja,Ni,_i,gi],styles:[".mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color);color:var(--mat-datepicker-calendar-container-text-color);box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-shape)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-touch-shape);position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[Qn.transformPanel,Qn.fadeInCalendar]},changeDetection:0})}}return a})();var lo=(()=>{class a{static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275dir=K({type:a,selectors:[["","matDatepickerToggleIcon",""]],standalone:!0})}}return a})(),co=(()=>{class a{get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=e}constructor(e,t,i){this._intl=e,this._changeDetectorRef=t,this._stateChanges=Ce.EMPTY;let n=Number(i);this.tabIndex=n||n===0?n:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){let e=this.datepicker?this.datepicker.stateChanges:ht(),t=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:ht(),i=this.datepicker?Fe(this.datepicker.openedStream,this.datepicker.closedStream):ht();this._stateChanges.unsubscribe(),this._stateChanges=Fe(this._intl.changes,e,t,i).subscribe(()=>this._changeDetectorRef.markForCheck())}static{this.\u0275fac=function(t){return new(t||a)(_(xt),_(Ae),ai("tabindex"))}}static{this.\u0275cmp=X({type:a,selectors:[["mat-datepicker-toggle"]],contentQueries:function(t,i,n){if(t&1&&Rt(n,lo,5),t&2){let s;$(s=z())&&(i._customIcon=s.first)}},viewQuery:function(t,i){if(t&1&&ee(Qs,5),t&2){let n;$(n=z())&&(i._button=n.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(t,i){t&1&&C("click",function(s){return i._open(s)}),t&2&&(ie("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),oe("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&i.datepicker.color==="accent")("mat-warn",i.datepicker&&i.datepicker.color==="warn"))},inputs:{datepicker:[se.None,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[se.None,"aria-label","ariaLabel"],disabled:[se.HasDecoratorInputTransform,"disabled","disabled",Pt],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],standalone:!0,features:[mt,me,de],ngContentSelectors:qs,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(t,i){t&1&&(Ze(Ks),l(0,"button",1,0),L(2,Xs,2,0,":svg:svg",2),Je(3),d()),t&2&&(g("disabled",i.disabled)("disableRipple",i.disableRipple),ie("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),h(2),Xe(2,i._customIcon?-1:2))},dependencies:[mi],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color)}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color)}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}}return a})();var Jn=(()=>{class a{static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275mod=F({type:a})}static{this.\u0275inj=E({providers:[xt,so],imports:[Re,Ht,Xt,tn,$t,te,oo,co,Zn,Yt]})}}return a})();var ho=new re("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let a=ve(Me);return()=>a.scrollStrategies.reposition()}});function uo(a){return()=>a.scrollStrategies.reposition()}var go={provide:ho,deps:[Me],useFactory:uo};var er=(()=>{class a{static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275mod=F({type:a})}static{this.\u0275inj=E({providers:[go],imports:[Re,Xt,ui,te,Yt,$e,ui,te]})}}return a})();var Nc=(()=>{class a{static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275mod=F({type:a})}static{this.\u0275inj=E({imports:[Re,An,kn,qa,Ta,La,En,nn,Ht,Fn,$e,Tn,Jn,an,er]})}}return a})();export{Nc as PosterModule};
