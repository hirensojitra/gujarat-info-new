import{a as k}from"./chunk-UBCLRJQM.js";import"./chunk-RXSEZ7R6.js";import{a as U}from"./chunk-QTEKMJEM.js";import{A as P,C as D,N as R,g as L,h as p,i as M,j as N,m as C,q as E,t as F,y as j,z as I}from"./chunk-MPTL2HFT.js";import{b as y}from"./chunk-PDKTMBXV.js";import"./chunk-WB2MPHP3.js";import"./chunk-WVD7KDO5.js";import{Ca as v,H as c,Ka as r,M as b,Mb as w,N as u,Nb as x,Ob as f,da as l,ea as s,f as h,qa as d,qb as S,wa as t,xa as o,ya as n}from"./chunk-U3VKK5QX.js";var G=(()=>{class i{constructor(a,e,m,g,V){this.fb=a,this.userService=e,this.authService=m,this.router=g,this.toast=V,this.loginForm=this.fb.group({username:["",[p.required]],password:["",[p.required,p.minLength(6)]]})}ngOnInit(){return h(this,null,function*(){})}onSubmit(){if(this.loginForm.valid){let a=this.loginForm.value;this.authService.loginUser(a.username,a.password).subscribe(e=>{e.token?(this.userService.setUser(e),this.authService.setToken(e.token),this.userService.getUser().subscribe(m=>{console.log(m)}),this.router.navigate(["/dashboard"])):e.error&&this.toast.show(e.error,{class:"bg-danger"})},e=>{console.error("Login error:",e),this.toast.show("An error occurred during login",{class:"bg-danger"})})}}static{this.\u0275fac=function(e){return new(e||i)(s(j),s(y),s(k),s(w),s(U))}}static{this.\u0275cmp=b({type:i,selectors:[["app-login"]],decls:40,vars:4,consts:[[1,"container","d-flex","align-items-center","justify-content-center","min-vh-100"],[1,"card","shadow","p-4",2,"width","400px","border-radius","15px"],[1,"text-center","mb-4"],["src","assets/images/svg/logo.svg","alt","logo",2,"width","60px"],[1,"mt-3"],[1,"d-flex","justify-content-between","mb-3"],[1,"btn","btn-outline-light","border","w-100","me-2"],[1,"fa","fa-apple","text-dark"],[1,"fa","fa-google","text-danger"],[1,"btn","btn-outline-light","border","w-100"],[1,"fa","fa-twitter","text-primary"],[1,"or-container"],[3,"ngSubmit","formGroup"],[1,"form-group","mb-3"],["for","username",1,"form-label"],["type","text","id","username","formControlName","username","placeholder","Enter your username",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","placeholder","Password",1,"form-control"],[1,"invalid-feedback"],[1,"form-group","form-check","mb-3"],["type","checkbox","id","rememberMe",1,"form-check-input"],["for","rememberMe",1,"form-check-label"],[1,"float-end","text-decoration-none",3,"routerLink"],["type","submit",1,"btn","btn-dark","w-100","mb-3",3,"disabled"],[1,"text-center"],[1,"text-decoration-none",3,"routerLink"]],template:function(e,m){e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2),n(3,"img",3),t(4,"h4",4),r(5,"Welcome to PostNew"),o(),t(6,"p"),r(7,"Please enter your details to sign in."),o()(),t(8,"div",5)(9,"button",6),n(10,"i",7),o(),t(11,"button",6),n(12,"i",8),o(),t(13,"button",9),n(14,"i",10),o()(),n(15,"span",11),t(16,"form",12),v("ngSubmit",function(){return m.onSubmit()}),t(17,"div",13)(18,"label",14),r(19,"Username"),o(),n(20,"input",15),o(),t(21,"div",13)(22,"label",16),r(23,"Password"),o(),n(24,"input",17),t(25,"div",18),r(26,"Password must be at least 6 characters."),o()(),t(27,"div",19),n(28,"input",20),t(29,"label",21),r(30,"Remember me"),o(),t(31,"a",22),r(32,"Forgot password?"),o()(),t(33,"button",23),r(34,"Sign in"),o()(),t(35,"div",24)(36,"p"),r(37,"Don't have an account yet? "),t(38,"a",25),r(39,"Sign Up"),o()()()()()),e&2&&(l(16),d("formGroup",m.loginForm),l(15),d("routerLink","/auth/forgot-password"),l(2),d("disabled",m.loginForm.invalid),l(5),d("routerLink","/auth/register"))},dependencies:[x,C,L,M,N,E,F,D]})}}return i})();var _=[{path:"",component:G,data:{title:"PostNew | Authentication",description:"Login or register to PostNew portal for accessing services",keywords:"PostNew, login, register, authentication, portal",robots:"index, follow"}}],T=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275mod=u({type:i})}static{this.\u0275inj=c({imports:[f.forChild(_),f]})}}return i})();var ne=(()=>{class i{static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275mod=u({type:i})}static{this.\u0275inj=c({imports:[S,T,I,P,R]})}}return i})();export{ne as LoginModule};
