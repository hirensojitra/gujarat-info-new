{
  "version": 3,
  "sources": ["src/app/common/services/seo.service.ts"],
  "sourcesContent": ["import { Injectable, Inject, PLATFORM_ID } from '@angular/core';\r\nimport { isPlatformBrowser } from '@angular/common';\r\nimport { Title } from '@angular/platform-browser';\r\nimport { Meta } from '@angular/platform-browser';\r\nimport { ActivatedRoute, Router, NavigationEnd } from '@angular/router';\r\nimport { filter, map } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class SEOService {\r\n  constructor(\r\n    private titleService: Title,\r\n    private metaService: Meta,\r\n    private router: Router,\r\n    private activatedRoute: ActivatedRoute,\r\n    @Inject(PLATFORM_ID) private platformId: Object\r\n  ) { }\r\n\r\n  initSEO() {\r\n    this.router.events\r\n      .pipe(\r\n        filter((event) => event instanceof NavigationEnd),\r\n        map(() => {\r\n          let route = this.activatedRoute;\r\n          while (route.firstChild) {\r\n            route = route.firstChild;\r\n          }\r\n          return route.snapshot.data;\r\n        })\r\n      )\r\n      .subscribe((data) => {\r\n        if (isPlatformBrowser(this.platformId)) {\r\n          this.updateTitle(data['title']);\r\n          this.updateMetaTags(data);\r\n        } else {\r\n          // If server-side, you can set up your meta tags here.\r\n          this.updateTitle(data['title']);\r\n          this.updateMetaTags(data);\r\n        }\r\n      });\r\n  }\r\n\r\n  updateTitle(title: string) {\r\n    if (title) {\r\n      this.titleService.setTitle(title);\r\n    }\r\n  }\r\n\r\n  updateMetaTags(data: any) {\r\n    if (data['description']) {\r\n      this.metaService.updateTag({ name: 'description', content: data['description'] });\r\n    }\r\n    if (data['keywords']) {\r\n      this.metaService.updateTag({ name: 'keywords', content: data['keywords'] });\r\n    }\r\n    if (data['robots']) {\r\n      this.metaService.updateTag({ name: 'robots', content: data['robots'] });\r\n    }\r\n    if (data['image']) {\r\n      this.metaService.updateTag({ property: 'og:image', content: data['image'] });\r\n      this.metaService.updateTag({ property: 'twitter:image', content: data['image'] });\r\n    }\r\n  }\r\n}\r\n"],
  "mappings": ";;;;;;;;;;;;;;;AAUM,IAAO,aAAP,MAAO,YAAU;EACrB,YACU,cACA,aACA,QACA,gBACqB,YAAkB;AAJvC,SAAA,eAAA;AACA,SAAA,cAAA;AACA,SAAA,SAAA;AACA,SAAA,iBAAA;AACqB,SAAA,aAAA;EAC3B;EAEJ,UAAO;AACL,SAAK,OAAO,OACT,KACC,OAAO,CAAC,UAAU,iBAAiB,aAAa,GAChD,IAAI,MAAK;AACP,UAAI,QAAQ,KAAK;AACjB,aAAO,MAAM,YAAY;AACvB,gBAAQ,MAAM;MAChB;AACA,aAAO,MAAM,SAAS;IACxB,CAAC,CAAC,EAEH,UAAU,CAAC,SAAQ;AAClB,UAAI,kBAAkB,KAAK,UAAU,GAAG;AACtC,aAAK,YAAY,KAAK,OAAO,CAAC;AAC9B,aAAK,eAAe,IAAI;MAC1B,OAAO;AAEL,aAAK,YAAY,KAAK,OAAO,CAAC;AAC9B,aAAK,eAAe,IAAI;MAC1B;IACF,CAAC;EACL;EAEA,YAAY,OAAa;AACvB,QAAI,OAAO;AACT,WAAK,aAAa,SAAS,KAAK;IAClC;EACF;EAEA,eAAe,MAAS;AACtB,QAAI,KAAK,aAAa,GAAG;AACvB,WAAK,YAAY,UAAU,EAAE,MAAM,eAAe,SAAS,KAAK,aAAa,EAAC,CAAE;IAClF;AACA,QAAI,KAAK,UAAU,GAAG;AACpB,WAAK,YAAY,UAAU,EAAE,MAAM,YAAY,SAAS,KAAK,UAAU,EAAC,CAAE;IAC5E;AACA,QAAI,KAAK,QAAQ,GAAG;AAClB,WAAK,YAAY,UAAU,EAAE,MAAM,UAAU,SAAS,KAAK,QAAQ,EAAC,CAAE;IACxE;AACA,QAAI,KAAK,OAAO,GAAG;AACjB,WAAK,YAAY,UAAU,EAAE,UAAU,YAAY,SAAS,KAAK,OAAO,EAAC,CAAE;AAC3E,WAAK,YAAY,UAAU,EAAE,UAAU,iBAAiB,SAAS,KAAK,OAAO,EAAC,CAAE;IAClF;EACF;;;uBArDW,aAAU,mBAAA,KAAA,GAAA,mBAAA,IAAA,GAAA,mBAAA,MAAA,GAAA,mBAAA,cAAA,GAAA,mBAMX,WAAW,CAAA;IAAA;EAAA;;4EANV,aAAU,SAAV,YAAU,WAAA,YAFT,OAAM,CAAA;EAAA;;",
  "names": []
}
