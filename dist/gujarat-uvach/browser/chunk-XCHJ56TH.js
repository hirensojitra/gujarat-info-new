import{g as A,r as G}from"./chunk-EG52GER3.js";import"./chunk-WIB4C2YZ.js";import"./chunk-7URJ3TZA.js";import{c as E,d,f as x,g as j,k as I,o as L,r as _,x as k,y as D,z as P}from"./chunk-BCINQI2X.js";import{c as w,u as N,v as R,x as v}from"./chunk-UO3RAHZO.js";import{$b as s,Ib as i,Jb as r,Kb as a,M as C,Pb as M,Yc as F,eb as l,fb as f,ga as g,hd as S,jc as h,qa as y,ra as c,t as b,yb as m}from"./chunk-NIQGYGOG.js";import"./chunk-CWTPBX7D.js";var q=e=>({"is-invalid":e}),T=(()=>{class e{constructor(t,o,n){this.fb=t,this.http=o,this.router=n,this.isLoading=!1,this.errorMessage=""}ngOnInit(){this.registrationForm=this.fb.group({username:["",d.required],email:["",[d.required,d.email]],password:["",d.required],roles:["user"]})}register(){this.registrationForm.invalid||(this.isLoading=!0,this.errorMessage="",this.http.post("/api/auth/register",this.registrationForm.value).pipe(C(t=>(this.errorMessage=t.error?.message||"Registration failed.",this.isLoading=!1,console.log(this.errorMessage),b(null)))).subscribe(t=>{this.isLoading=!1,t&&t.success?this.router.navigate(["/auth/login"]):t&&t.error&&(this.errorMessage=t.error)}))}static{this.\u0275fac=function(o){return new(o||e)(f(k),f(w),f(N))}}static{this.\u0275cmp=y({type:e,selectors:[["app-register"]],decls:28,vars:9,consts:[[1,"text-center","mb-4"],["src","assets/images/svg/logo.svg","alt","logo",2,"width","60px"],[1,"mt-3"],[3,"ngSubmit","formGroup"],["type","hidden","formControlName","roles"],[1,"form-group","mb-3"],["for","username",1,"form-label"],["type","text","id","username","formControlName","username","placeholder","Enter your username",1,"form-control",3,"ngClass"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control",3,"ngClass"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","placeholder","Password",1,"form-control"],["type","submit",1,"btn","btn-dark","w-100","mb-3",3,"disabled"],[1,"text-center"],[1,"text-decoration-none",3,"routerLink"],["id","googleSignInDiv"]],template:function(o,n){if(o&1&&(i(0,"div",0),a(1,"img",1),i(2,"h4",2),s(3,"Create an account"),r(),i(4,"p"),s(5,"Please fill in the details to sign up."),r()(),i(6,"form",3),M("ngSubmit",function(){return n.register()}),a(7,"input",4),i(8,"div",5)(9,"label",6),s(10,"Username"),r(),a(11,"input",7),r(),i(12,"div",5)(13,"label",8),s(14,"E-Mail Address"),r(),a(15,"input",9),r(),i(16,"div",5)(17,"label",10),s(18,"Password"),r(),a(19,"input",11),r(),i(20,"button",12),s(21,"Sign Up"),r()(),i(22,"div",13)(23,"p"),s(24,"Already have an account? "),i(25,"a",14),s(26,"Sign In"),r()()(),a(27,"div",15)),o&2){let p,u;l(6),m("formGroup",n.registrationForm),l(5),m("ngClass",h(5,q,((p=n.registrationForm.get("username"))==null?null:p.invalid)&&((p=n.registrationForm.get("username"))==null?null:p.touched))),l(4),m("ngClass",h(7,q,((u=n.registrationForm.get("email"))==null?null:u.invalid)&&((u=n.registrationForm.get("email"))==null?null:u.touched))),l(5),m("disabled",n.registrationForm.invalid),l(5),m("routerLink","/auth/login")}},dependencies:[F,R,I,E,x,j,L,_,A]})}}return e})();var B=[{path:"",component:T,data:{title:"PostNew | Register",description:"Login or register to PostNew portal for accessing services",keywords:"PostNew, login, register, portal",robots:"index, follow",image:"https://test-ssr-hiren.netlify.app/assets/images/jpg/register.jpg"}}],U=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=c({type:e})}static{this.\u0275inj=g({imports:[v.forChild(B),v]})}}return e})();var ae=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=c({type:e})}static{this.\u0275inj=g({imports:[S,U,D,P,G]})}}return e})();export{ae as RegisterModule};
