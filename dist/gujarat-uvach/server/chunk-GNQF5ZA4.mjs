import './polyfills.server.mjs';
import{a as ae}from"./chunk-5ERTPICF.mjs";import{a as ee}from"./chunk-RK7TH4Q4.mjs";import"./chunk-FW4VF2IF.mjs";import{f as ne,i as oe,n as re}from"./chunk-S2HYAZTJ.mjs";import"./chunk-EJW5OMJX.mjs";import"./chunk-7HDQKCIK.mjs";import{a as Z}from"./chunk-ILF7YMS7.mjs";import{B as te,C as ie}from"./chunk-U6GZNWZS.mjs";import{A as j,v as K,y as X,z as Y}from"./chunk-VQU2SKIF.mjs";import{$b as I,Cd as $,Ea as f,Ed as W,Fa as v,Fb as _,Gb as P,Hb as c,Ib as D,Sa as A,Sb as r,Tb as a,Tc as H,Ub as d,Vb as E,Wb as L,Yb as k,bc as h,hb as F,ic as G,jc as O,kc as U,la as b,mb as m,mc as l,nb as p,nc as R,oc as M,rd as J,sd as Q,tb as V,va as N,wa as y,xc as q}from"./chunk-SNHROY6X.mjs";import{a as B,b as z,h as T}from"./chunk-VVCT4QZE.mjs";var de=["masonryGrid"],pe=()=>[10,20,30];function ge(n,w){if(n&1&&(r(0,"div",22)(1,"div",23),d(2,"img",24),r(3,"div",25),d(4,"div",26),a(),r(5,"b",27),l(6),a()()()),n&2){let e=h();m(4),D("width",e.progress,"%"),P("aria-valuenow",e.progress),m(2),M("",e.progress,"%")}}function he(n,w){if(n&1){let e=k();E(0),r(1,"div",45)(2,"a",46)(3,"div",47)(4,"img",48),I("load",function(i){let o=f(e).$implicit,s=h(3);return v(s.onImgLoad(o,i))}),a(),r(5,"div",49)(6,"h5",50),l(7),a(),r(8,"p",51),l(9),a(),r(10,"p",52),d(11,"i",53),l(12),a()()()()(),L()}if(n&2){let e=w.$implicit;m(2),c("routerLink","/poster/"+e.id),m(2),c("src",e.image,F),P("alt",e.title),m(3),M(" ",e.title," "),m(2),R(e.info),m(3),R(e.download_counter)}}function ue(n,w){if(n&1&&(E(0),r(1,"div",42)(2,"div",43,0),_(4,he,13,6,"ng-container",44),a()(),L()),n&2){let e=h(2);m(4),c("ngForOf",e.posts)}}function fe(n,w){if(n&1){let e=k();r(0,"div",28)(1,"div",29)(2,"a",30),d(3,"img",31),a()(),r(4,"div",32)(5,"div",33)(6,"div",34)(7,"div",35),_(8,ue,5,1,"ng-container",36),a()()()(),r(9,"div",37),I("currentPageChange",function(i){f(e);let o=h();return v(o.changePage(i))})("pageSizeChange",function(i){f(e);let o=h();return v(o.changePageSize(i))}),a(),r(10,"div",38)(11,"div",39)(12,"a",40),I("click",function(){return f(e),h().myInfo.show(),v(!1)}),l(13,"Contact"),a(),r(14,"a",41),l(15,"More Info"),a()()()()}if(n&2){let e=h();m(2),c("routerLink","/latest"),m(6),c("ngIf",e.posts.length),m(),c("currentPage",e.currentPage)("totalItems",e.pagination.totalPosts)("pageSize",e.limit)("pageSizes",q(7,pe)),m(5),c("routerLink","/about-us")}}var le=(()=>{class n{constructor(e,t,i,o,s,g,S,x){this.renderer=e,this.postService=t,this.route=i,this.router=o,this.authService=s,this.platformId=g,this.cdr=S,this.colorService=x,this.posts=[],this.currentPage=1,this.limit=10,this.search="",this.sortBy="created_at",this.order="desc",this.pagination={totalPosts:0,currentPage:1,totalPages:0},this.loading=!1,this.progress=0,this.imgUrl=Z.MasterApi+"/thumb-images/",this.isBrowser=W(this.platformId)}ngOnInit(){this.routeSub=this.route.queryParams.subscribe(e=>{this.currentPage=+e.page||this.currentPage,this.limit=+e.limit||this.limit,this.search=e.search??this.search,this.sortBy=e.sortBy??this.sortBy,this.order=e.order??this.order,this.loadPosts()})}ngAfterViewInit(){this.isBrowser&&(this.myInfo=new bootstrap.Modal(document.getElementById("myInfo"),{focus:!1,keyboard:!1,static:!1}),this.initMasonry(),window.addEventListener("resize",()=>this.masonryInstance?.layout()))}ngOnDestroy(){this.routeSub?.unsubscribe()}initMasonry(){this.masonryGridRef&&this.isBrowser&&(this.masonryInstance=new Masonry(this.masonryGridRef.nativeElement,{itemSelector:".masonry-box",percentPosition:!0}))}loadPosts(){this.loading=!0,this.progress=0,this.postService.getMinimalPosts({page:this.currentPage,limit:this.limit,search:this.search,sortBy:this.sortBy,order:this.order,published:!0,info_show:!0}).subscribe(e=>{let t=e.posts.length,i=0,o=e.posts.map(s=>this.toDataURI(this.imgUrl+s.id).then(g=>(i++,this.progress=Math.round(i/t*100),this.cdr.detectChanges(),z(B({},s),{image:g}))));Promise.all(o).then(s=>{this.posts=s,this.pagination=e.pagination,this.loading=!1,this.progress=100,this.cdr.detectChanges(),this.initMasonry()})})}toDataURI(e){return this.isBrowser?fetch(e,{mode:"cors"}).then(t=>t.blob()).then(t=>new Promise((i,o)=>{let s=new FileReader;s.onloadend=()=>i(s.result),s.onerror=o,s.readAsDataURL(t)})).catch(t=>(console.error("convertImage error",t),"")):Promise.resolve(e)}changePage(e){e!==this.currentPage&&(this.currentPage=e,this.updateUrl())}changePageSize(e){e!==this.limit&&(this.limit=e,this.currentPage=1,this.updateUrl())}updateUrl(){this.router.navigate([],{relativeTo:this.route,queryParams:{page:this.currentPage,limit:this.limit,search:this.search,sortBy:this.sortBy,order:this.order},queryParamsHandling:"merge"})}isAdmin(){return this.authService.hasRole(["admin","master"])}getLuminance({r:e,g:t,b:i}){let o=[e,t,i].map(s=>(s/=255,s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)));return .2126*o[0]+.7152*o[1]+.0722*o[2]}hexToRGB(e){let t=parseInt(e.slice(1,3),16),i=parseInt(e.slice(3,5),16),o=parseInt(e.slice(5,7),16);return{r:t,g:i,b:o}}onImgLoad(e,t){if(!this.isBrowser)return;window.dispatchEvent(new Event("resize"));let i=t?.target?.parentElement;i&&e.image&&this.colorService.getColors(e.image,10).then(o=>{if(!(!o||o.length===0)&&o.length>=3){let g=o.slice(2).map(u=>{let C=this.hexToRGB(u),ce=this.getLuminance(C);return{hex:u,luminance:ce}});g.sort((u,C)=>u.luminance-C.luminance);let S=g[1].hex,x=g[g.length-1].hex;i.style.backgroundColor=S||"",i.style.color=x,i.querySelectorAll("img").forEach(u=>(u.style.boxShadow=`0 0.5rem 1rem ${x}`,"important"))}}).catch(console.error)}getColors(e,t){return T(this,null,function*(){try{return yield this.colorService.getColors(e,t)}catch{return[]}})}static{this.\u0275fac=function(t){return new(t||n)(p(V),p(ae),p(K),p(X),p(ee),p(A),p(H),p(ne))}}static{this.\u0275cmp=N({type:n,selectors:[["app-latest"]],viewQuery:function(t,i){if(t&1&&G(de,5),t&2){let o;O(o=U())&&(i.masonryGridRef=o.first)}},decls:35,vars:2,consts:[["masonryGrid",""],["class","h-100-vh d-flex flex-column align-items-center",4,"ngIf"],["class","h-100-vh d-flex flex-column",4,"ngIf"],["id","myInfo","tabindex","-1","aria-labelledby","myInfoLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header"],["id","myInfoLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-3"],["for","email",1,"form-label"],["href","mailto:hirensojitra007@gmail.com",1,"form-control","text-decoration-none","fw-bold"],["for","mobile",1,"form-label"],["href","tel:+919429558759",1,"form-control","text-decoration-none","fw-bold"],["for","social",1,"form-label"],["href","http://www.facebook.com/SOJITRAHIREN","target","_blank",1,"btn","btn-primary","m-2","text-decoration-none"],[1,"fa","fa-facebook","me-2"],["href","http://www.instagram.com/HIREN_SOJITRA","target","_blank",1,"btn","btn-danger","m-2","text-decoration-none"],[1,"fa","fa-instagram","me-2"],["href","http://www.twitter.com/SOJITRA_HIREN","target","_blank",1,"btn","btn-dark","m-2","text-decoration-none"],[1,"fa","fa-twitter","me-2"],[1,"h-100-vh","d-flex","flex-column","align-items-center"],[1,"flex-grow-1","p-3","position-relative","overflow-hidden","w-100","d-flex","flex-column","justify-content-center","align-items-center"],["src","assets/images/svg/logo.svg","alt","Post New",1,"w-60-px","mb-3"],[1,"progress","w-100",2,"height","5px"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar"],[1,"p-3"],[1,"h-100-vh","d-flex","flex-column"],[1,"d-flex","align-items-center","justify-content-center"],[1,"max-w-50","my-2",3,"routerLink"],["src","assets/images/svg/logo-large.svg","alt","PostNew.in",1,"max-w-300-px","w-100"],[1,"flex-grow-1","position-relative","overflow-hidden"],[1,"position-absolute","h-100","w-100","d-flex","overflow-auto","flex-column"],[1,"container-fluid","h-100","w-100","py-3"],[1,"row","g-3"],[4,"ngIf"],["pagination","",1,"mt-0","mb-0","px-3",3,"currentPageChange","pageSizeChange","currentPage","totalItems","pageSize","pageSizes"],[1,"bg-dark","border-top","p-1","text-light","position-sticky","bottom-0","z-2"],[1,"w-100","mx-auto","d-flex","align-items-center","justify-content-center"],["href","https://www.facebook.com/SOJITRAHIREN","target","_blank",1,"fw-bold","btn","btn-danger","ms-3",3,"click"],[1,"text-danger","fw-bold","text-decoration-none","mx-3","my-1",3,"routerLink"],[1,"col-12","px-md-3","px-2"],["data-masonry","{'percentPosition': true}",1,"row","g-md-4","g-3"],[4,"ngFor","ngForOf"],[1,"col-lg-3","col-xl-2","col-md-6","col-6","masonry-box"],["target","_blank",1,"text-decoration-none","d-block",3,"routerLink"],[1,"card","p-4","pb-0","rounded-4","border-0","shadow-sm"],[1,"w-100","img-fluid","d-block","card-img-top","rounded-3","shadow","shadow-md",3,"load","src"],[1,"card-body","px-0"],[1,"card-title","text-truncate-2"],[1,"card-text","text-truncate-2"],[1,"m-0","fw-bold"],[1,"fa","fa-download","me-2"]],template:function(t,i){t&1&&(_(0,ge,7,4,"div",1)(1,fe,16,8,"div",2),r(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"h5",7),l(7,"Contact Information"),a(),d(8,"button",8),a(),r(9,"div",9)(10,"h5"),l(11,"Hiren Sojitra"),a(),r(12,"div",10)(13,"label",11),l(14,"Email:"),a(),r(15,"a",12),l(16,"hirensojitra007@gmail.com"),a()(),r(17,"div",10)(18,"label",13),l(19,"Mobile:"),a(),r(20,"a",14),l(21,"+919429558759"),a()(),r(22,"div",10)(23,"label",15),l(24,"Social Links:"),a(),d(25,"br"),r(26,"a",16),d(27,"i",17),l(28,"Facebook"),a(),r(29,"a",18),d(30,"i",19),l(31,"Instagram"),a(),r(32,"a",20),d(33,"i",21),l(34,"Twitter"),a()()()()()()),t&2&&(c("ngIf",i.isBrowser&&i.loading),m(),c("ngIf",i.isBrowser&&!i.loading))},dependencies:[J,Q,Y,oe]})}}return n})();var ve=[{path:"",component:le,data:{title:"Proposal for Web Application Poster Generation Service | PostNew",description:"Discover our web application for generating election campaign posters, festival posts, and other promotional activities. Customize posters with photos, names, addresses, designations, and contact details for efficient and personalized promotional material.",keywords:"poster generation, campaign posters, election posters, festival posts, promotional activities, customization, PostNew, web application",robots:"index, follow","og:image":"https://api.postnew.in/api/v1/img/uploads/wLmyK?quality=10","og:image:alt":"PostNew Logo","og:image:type":"image/svg+xml","og:image:width":"1200","og:image:height":"630","og:title":"Web Application Poster Generation Service | PostNew","og:description":"Generate personalized posters for campaigns and festivals with Gujarat Info\u2019s web application. Easily customize with your photos, names, and contact details."}}],me=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=y({type:n})}static{this.\u0275inj=b({imports:[j.forChild(ve),j]})}}return n})();var Ge=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=y({type:n})}static{this.\u0275inj=b({imports:[$,me,re,te,ie]})}}return n})();export{Ge as LatestModule};
