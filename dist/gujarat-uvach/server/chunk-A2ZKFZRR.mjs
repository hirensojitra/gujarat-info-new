import './polyfills.server.mjs';
import{a as y}from"./chunk-POGDKEDL.mjs";import{a as x}from"./chunk-52XCC6EH.mjs";import"./chunk-IGSLI5BI.mjs";import{a as D}from"./chunk-SZ3HQCAL.mjs";import{h as I,r as R}from"./chunk-ZZZTVJUR.mjs";import{c as L,d as p,f as k,g as M,k as N,o as C,r as E,w as F,x as j,y as P}from"./chunk-U7I6TPIW.mjs";import"./chunk-6EWG2IL2.mjs";import"./chunk-ZOQGZUTB.mjs";import{Aa as e,Ba as i,Ca as a,E as c,Ga as b,Gb as v,K as h,L as u,Oa as n,ha as l,ia as s,ic as S,jc as w,kc as f,ua as d}from"./chunk-LNWWKHVG.mjs";import"./chunk-VVCT4QZE.mjs";var A=(()=>{class t{constructor(m,o,r,g,T){this.fb=m,this.userService=o,this.authService=r,this.router=g,this.toast=T,this.isLoading=!1,this.loginForm=this.fb.group({username:["",[p.required]],password:["",[p.required,p.minLength(6)]]})}onSubmit(){if(this.loginForm.invalid)return;this.isLoading=!0;let{username:m,password:o}=this.loginForm.value;this.authService.loginUser(m,o).subscribe({next:r=>{r.token&&(this.userService.setUser(r),this.authService.setToken(r.token),this.router.navigate(["/dashboard"]))},error:r=>{this.isLoading=!1,this.toast.show(r.message||"Login failed",{class:"bg-danger"})},complete:()=>{this.isLoading=!1}})}static{this.\u0275fac=function(o){return new(o||t)(s(F),s(y),s(x),s(S),s(D))}}static{this.\u0275cmp=h({type:t,selectors:[["app-login"]],decls:40,vars:4,consts:[[1,"container","d-flex","align-items-center","justify-content-center","min-vh-100"],[1,"card","shadow","p-4",2,"width","400px","border-radius","15px"],[1,"text-center","mb-4"],["src","assets/images/svg/logo.svg","alt","logo",2,"width","60px"],[1,"mt-3"],[1,"d-flex","justify-content-between","mb-3"],[1,"btn","btn-outline-light","border","w-100","me-2"],[1,"fa","fa-apple","text-dark"],[1,"fa","fa-google","text-danger"],[1,"btn","btn-outline-light","border","w-100"],[1,"fa","fa-twitter","text-primary"],[1,"or-container"],[3,"ngSubmit","formGroup"],[1,"form-group","mb-3"],["for","username",1,"form-label"],["type","text","id","username","formControlName","username","placeholder","Enter your username",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","placeholder","Password",1,"form-control"],[1,"invalid-feedback"],[1,"form-group","form-check","mb-3"],["type","checkbox","id","rememberMe",1,"form-check-input"],["for","rememberMe",1,"form-check-label"],[1,"float-end","text-decoration-none",3,"routerLink"],["type","submit",1,"btn","btn-dark","w-100","mb-3",3,"disabled"],[1,"text-center"],[1,"text-decoration-none",3,"routerLink"]],template:function(o,r){o&1&&(e(0,"div",0)(1,"div",1)(2,"div",2),a(3,"img",3),e(4,"h4",4),n(5,"Welcome to PostNew"),i(),e(6,"p"),n(7,"Please enter your details to sign in."),i()(),e(8,"div",5)(9,"button",6),a(10,"i",7),i(),e(11,"button",6),a(12,"i",8),i(),e(13,"button",9),a(14,"i",10),i()(),a(15,"span",11),e(16,"form",12),b("ngSubmit",function(){return r.onSubmit()}),e(17,"div",13)(18,"label",14),n(19,"Username"),i(),a(20,"input",15),i(),e(21,"div",13)(22,"label",16),n(23,"Password"),i(),a(24,"input",17),e(25,"div",18),n(26,"Password must be at least 6 characters."),i()(),e(27,"div",19),a(28,"input",20),e(29,"label",21),n(30,"Remember me"),i(),e(31,"a",22),n(32,"Forgot password?"),i()(),e(33,"button",23),n(34,"Sign in"),i()(),e(35,"div",24)(36,"p"),n(37,"Don't have an account yet? "),e(38,"a",25),n(39,"Sign Up"),i()()()()()),o&2&&(l(16),d("formGroup",r.loginForm),l(15),d("routerLink","/auth/forgot-password"),l(2),d("disabled",r.loginForm.invalid),l(5),d("routerLink","/auth/register"))},dependencies:[w,N,L,k,M,C,E,I]})}}return t})();var V=[{path:"",component:A,data:{title:"PostNew | Authentication",description:"Login or register to PostNew portal for accessing services",keywords:"PostNew, login, register, authentication, portal",robots:"index, follow"}}],G=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=u({type:t})}static{this.\u0275inj=c({imports:[f.forChild(V),f]})}}return t})();var oe=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=u({type:t})}static{this.\u0275inj=c({imports:[v,G,j,P,R]})}}return t})();export{oe as LoginModule};
