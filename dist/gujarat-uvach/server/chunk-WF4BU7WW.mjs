import './polyfills.server.mjs';
import{a as u}from"./chunk-CAKG2HOS.mjs";import{a as h}from"./chunk-SMRXC6H5.mjs";import{x as n}from"./chunk-6WLKSXTS.mjs";import{B as m,S as c,X as o,k as a,p as s}from"./chunk-34FBJKO2.mjs";var A=(()=>{class t{constructor(r,e,i){this.authService=r,this.router=e,this.platformService=i}canActivate(r,e){return this.platformService.isBrowser()?this.authService.isAuthenticated().pipe(s(i=>i?!0:(this.router.navigate(["/auth/login"],{queryParams:{returnUrl:e.url}}),!1))):!1}static{this.\u0275fac=function(e){return new(e||t)(o(u),o(n),o(h))}}static{this.\u0275prov=c({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var b=(()=>{class t{constructor(r,e,i){this.authService=r,this.router=e,this.platformService=i}canActivate(r,e){let i=r.data.role||[];if(this.platformService.isBrowser())return this.authService.isAuthenticated().pipe(s(f=>f?this.authService.hasRole(i)?!0:(this.router.navigate(["/broken-pages"]),!1):(this.router.navigate(["/auth/login"]),!1)),m(()=>(this.router.navigate(["/auth/login"]),a(!1))));{if(!this.authService.isAuthenticated())return a(!1);let l=this.authService.hasRole(i);return a(l)}}static{this.\u0275fac=function(e){return new(e||t)(o(u),o(n),o(h))}}static{this.\u0275prov=c({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();export{A as a,b};
