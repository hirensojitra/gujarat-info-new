import './polyfills.server.mjs';
import{a as Ga}from"./chunk-X6BEM4HO.mjs";import{a as ka}from"./chunk-QXBOUZ6W.mjs";import{b as Na}from"./chunk-DDJCVZZS.mjs";import{d as va}from"./chunk-FO4EYZVR.mjs";import{b as ba,d as Ia}from"./chunk-FPJP6Y6T.mjs";import{b as Ut,e as Sa}from"./chunk-TV64742C.mjs";import{f as Da}from"./chunk-25AQEAWR.mjs";import{a as Nt,d as Ht,e as _t,g as Fa}from"./chunk-7ZEVCGT6.mjs";import{D as pa,E as fa,F as ft,G as _a,H as xa,J as oe,K as We,L as ya,a as ua,c as pt,da as wa,fa as Ca,h as ma,ja as Yt,ka as Aa,y as ha}from"./chunk-BHC33PMZ.mjs";import{b as Re,d as Gt,e as ze,f as gt,g as jt,h as Qi,l as Xi,m as ut,n as La,o as Oa}from"./chunk-ILHDKIK7.mjs";import{a as Va}from"./chunk-ARG7WTWZ.mjs";import{a as ea,b as Ma,c as Ea,d as Ra,e as Ta,f as ja,g as Pa,n as Ba}from"./chunk-GSLFJGLE.mjs";import{a as Ji}from"./chunk-B63K4NSQ.mjs";import"./chunk-6XMGVEEK.mjs";import"./chunk-7HDQKCIK.mjs";import{a as Zi}from"./chunk-AJBY5M5H.mjs";import{A as ht,B as ca,C as ga,c as ta,e as ve,g as ia,h as aa,i as Pt,k as mt,m as na,q as ra,t as sa,u as oa,v as la,w as da,z as Bt}from"./chunk-U6GZNWZS.mjs";import{c as Ee,d as Ce,f as ne,g as Lt,h as Tt,i as ye,j as $i,k as zi,l as Wi}from"./chunk-BPJ7ZZQW.mjs";import{A as Ot,c as Ni,n as Hi,o as Yi,r as Ui,v as Ki,z as qi}from"./chunk-VQU2SKIF.mjs";import{$b as w,A as Xe,Ab as Me,Bb as Ei,Cd as dt,Da as Fe,Ea as D,Ed as ct,Fa as b,Fb as S,Fd as $e,Ga as Ne,Gb as ae,Ha as Fi,Hb as c,Ia as He,Ib as tt,Ja as ki,Jb as fe,L as Ct,Lb as Mt,Ma as de,Na as F,Nb as Ye,O as wi,Pb as it,Qb as at,Rb as nt,S as Ci,Sa as ke,Sb as s,Tb as l,Tc as _e,Ub as f,Uc as Oi,Vb as ce,Vc as Gi,Wb as ge,Yb as P,_b as Ri,_c as ji,a as Ie,ac as Vi,bc as p,ca as Ze,cc as Et,da as At,dc as Rt,ec as U,fc as rt,g as Be,ga as St,h as Di,hb as Je,hc as Li,hd as Vt,ic as $,ja as Ai,jc as B,ka as ee,kc as N,la as G,mb as o,mc as m,na as It,nb as h,nc as V,ob as Mi,oc as X,pa as te,qa as Ft,qd as xe,ra as Si,rc as st,rd as Pi,sa as Ii,sc as ot,sd as Bi,tb as et,tc as lt,ua as pe,uc as Ti,v as he,va as ie,vb as kt,vc as ue,wa as j,xa as we,yc as Ue,z as bi}from"./chunk-SNHROY6X.mjs";import{a as Y,b as Se,h as C}from"./chunk-VVCT4QZE.mjs";var Cn=(()=>{class n extends ut{constructor(e,i,t,a,r,g,u){super(e,null,i,t),this.ngClassInstance=u,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new xe(a,r,e,g)),this.init(),this.setValue("","")}set klass(e){this.ngClassInstance.klass=e,this.setValue(e,"")}updateWithValue(e){this.ngClassInstance.ngClass=e,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return n.\u0275fac=function(e){return new(e||n)(h(de),h(Qi),h(Xi),h(Oi),h(Gi),h(et),h(xe,10))},n.\u0275dir=we({type:n,inputs:{klass:[pe.None,"class","klass"]},features:[Me]}),n})(),An=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];var Ya=(()=>{class n extends Cn{constructor(){super(...arguments),this.inputs=An}}return n.\u0275fac=(()=>{let d;return function(i){return(d||(d=He(n)))(i||n)}})(),n.\u0275dir=we({type:n,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[Me]}),n})();var $t=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=j({type:n}),n.\u0275inj=G({imports:[Re]}),n})();var zt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=j({type:n}),n.\u0275inj=G({imports:[Re,_a]}),n})();var Wt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=j({type:n}),n.\u0275inj=G({imports:[Re]}),n})();var Ua=(()=>{class n{constructor(e,i){$e(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:ze,useValue:Y(Y({},Gt),e)},{provide:jt,useValue:i,multi:!0},{provide:gt,useValue:!0}]:[{provide:ze,useValue:Y(Y({},Gt),e)},{provide:jt,useValue:i,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(te(gt),te(ke))},n.\u0275mod=j({type:n}),n.\u0275inj=G({imports:[zt,$t,Wt,zt,$t,Wt]}),n})();var $a=(()=>{class n{constructor(e){this.fb=e,this.ReportDate=new Date}getDate(){let e=this.ReportDate.getFullYear(),i=String(this.ReportDate.getMonth()+1).padStart(2,"0"),t=String(this.ReportDate.getDate()).padStart(2,"0");return this.formattedDate=`${e}-${i}-${t}`,this.formattedDate}markFormGroupTouched(e){Object.keys(e.controls).forEach(i=>{let t=e?.get(i);t instanceof mt?t.touched||(t.markAsTouched(),t.updateValueAndValidity()):t instanceof Pt?this.markFormGroupTouched(t):t instanceof Bt&&this.markFormArrayTouched(t)})}markFormArrayTouched(e){e.controls.forEach(i=>{i instanceof Pt?this.markFormGroupTouched(i):i instanceof Bt&&this.markFormArrayTouched(i)})}setControl(e,i,t,a){if(e.get(i))return;let r=this.fb.control(t,a);r.markAsUntouched,e.addControl(i,r)}removeControls(e,i){i.forEach(t=>{e.get(t)&&e.removeControl(t)})}filterAndSetValue(e){let i=e?.value;if(i!=null){let t=i.toString().replace(/^0+(?=\d)/,""),a=parseInt(t,10)||0;a.toString()!==t&&e?.setValue(a)}}calculateWH(e){let i=320,t=320,a=320,r=320,g=e.shape,_={circle:{ratio:1,divisor:1},rect:{ratio:1,divisor:1},ellipse:{ratio:1,divisor:1},rect_3_2:{ratio:3,divisor:2},rect_4_3:{ratio:4,divisor:3},rect_16_9:{ratio:16,divisor:9},rect_1_1:{ratio:1,divisor:1},rect_5_4:{ratio:5,divisor:4},rect_3_1:{ratio:3,divisor:1},rect_7_5:{ratio:7,divisor:5},rect_2_3:{ratio:2,divisor:3},rect_3_4:{ratio:3,divisor:4},rect_9_16:{ratio:9,divisor:16},rect_4_5:{ratio:4,divisor:5},rect_5_7:{ratio:5,divisor:7}}[g];if(_){let y=e.r;i=a,t=i*_.ratio/_.divisor,a=y*2,r=a*_.ratio/_.divisor}else console.error("Aspect ratio not defined for shape:",g);return{w:a,h:r,cW:i,cH:t}}makeCall(e){let i=`tel:+91${e}`;window.location.href=i}sendMail(e,i="",t=""){let a=`mailto:${e}?subject=${encodeURIComponent(i)}&body=${encodeURIComponent(t)}`;window.location.href=a}static{this.\u0275fac=function(i){return new(i||n)(te(ht))}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var za=(()=>{class n{constructor(e,i){this.document=e,this.platformId=i,this.baseUrl=""}getBaseUrl(){if(ct(this.platformId)){let e=this.document.baseURI;e.startsWith("https://")||(e="https://"+e.substring(e.indexOf("://")+3)),this.baseUrl=e}else this.baseUrl="https://postnew.in/";return this.baseUrl}static{this.\u0275fac=function(i){return new(i||n)(te(Vt),te(ke))}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Mn=["imageDraw"],En=["textInput"],Rn=["imageInput"],Vn=n=>({"empty bg-light bg-opacity-25":n}),Wa=n=>({"d-none":n}),Ln=n=>({"d-md-block":n});function Tn(n,d){n&1&&(ce(0),s(1,"div",55)(2,"h2",56),m(3,"Sorry, we couldn\u2019t find that poster."),l(),f(4,"img",57),s(5,"button",58),f(6,"i",59),m(7,"Home "),l()(),ge()),n&2&&(o(),c("@fadeIn",void 0),o(4),c("routerLink","/latest"))}function On(n,d){n&1&&(ce(0),s(1,"div",55)(2,"h2",56),m(3,"This poster isn\u2019t live yet."),l(),f(4,"img",60),s(5,"p"),m(6,"Check back later, or head to the home page."),l(),s(7,"button",58),f(8,"i",59),m(9,"Home "),l()(),ge()),n&2&&(o(),c("@fadeIn",void 0),o(6),c("routerLink","/latest"))}function Gn(n,d){n&1&&(s(0,"div",61)(1,"a",62),f(2,"img",63),l()()),n&2&&(o(),c("routerLink","/latest"),o(),c("maxWPX",200))}function jn(n,d){n&1&&(s(0,"div",55),f(1,"img",57),s(2,"button",58),f(3,"i",59),m(4,"Home "),l()()),n&2&&(c("@fadeIn",void 0),o(2),c("routerLink","/latest"))}function Pn(n,d){if(n&1&&(s(0,"h1",76),m(1),l()),n&2){let e=p(3);o(),V(e.postDetailsDefault.title)}}function Bn(n,d){if(n&1&&(s(0,"h2",77),m(1),l()),n&2){let e=p(3);o(),V(e.postDetailsDefault.info)}}function Nn(n,d){if(n&1&&(s(0,"div",72),S(1,Pn,2,1,"h1",73)(2,Bn,2,1,"h2",74),s(3,"h5",75),m(4,"Downloads "),s(5,"b"),m(6),l()()()),n&2){let e=p(2);o(),c("ngIf",e.postDetailsDefault.title),o(),c("ngIf",e.postDetailsDefault.info),o(4),V(e.postDetailsDefault.download_counter)}}function Hn(n,d){if(n&1&&f(0,"img",78),n&2){let e=p(2);c("src",e.imgUrl+e.postDetailsDefault.id,Je)("alt",e.postDetailsDefault.title)}}function Yn(n,d){if(n&1){let e=P();s(0,"div",64),S(1,Nn,7,3,"div",65)(2,Hn,1,2,"img",66),s(3,"button",67),w("click",function(){D(e);let t=p();return b(t.openInBrowser())}),f(4,"i",68),m(5," DOWNLOAD POSTER "),l(),s(6,"div",69)(7,"strong"),f(8,"i",70),m(9," You're using an in-app browser!"),l(),m(10," For the best experience, please open this page in your default browser. "),f(11,"button",71),l()()}if(n&2){let e=p();o(),c("ngIf",e.postDetailsDefault),o(),c("ngIf",e.postDetailsDefault)}}function Un(n,d){if(n&1&&(s(0,"h1",94),m(1),l()),n&2){let e=p(2);c("@fadeIn",void 0),o(),X(" ",e.postDetails.title," ")}}function $n(n,d){if(n&1&&(s(0,"p",95),m(1),l()),n&2){let e=p(2);c("@fadeIn",void 0),o(),X(" ",e.postDetails.info," ")}}function zn(n,d){if(n&1&&(s(0,"h5",96),m(1,"Downloads "),s(2,"b"),m(3),l()()),n&2){let e=p(2);c("@fadeIn",void 0),o(3),V(e.postDetails.download_counter)}}function Wn(n,d){if(n&1){let e=P();s(0,"img",99,3),w("load",function(t){D(e);let a=p(3);return b(a.onThumbLoad(t))})("error",function(t){D(e);let a=p(3);return b(a.onThumbError(t))}),l()}if(n&2){let e=p(3);c("src",e.thumbnailUrl,Je)("alt",e.postDetailsDefault==null?null:e.postDetailsDefault.title)}}function Kn(n,d){if(n&1&&(s(0,"div",97),S(1,Wn,2,2,"img",98),l()),n&2){let e=p(2);c("@fadeIn",void 0)("ngClass",Ue(3,Wa,!e.colors.length)),o(),c("ngIf",e.thumbnailUrl)}}function qn(n,d){n&1&&f(0,"img",100),n&2&&c("@fadeIn",void 0)("wPX",70)}function Qn(n,d){n&1&&(s(0,"p",101),m(1,"Generating Poster..."),l())}function Xn(n,d){if(n&1){let e=P();s(0,"button",111),w("click",function(){D(e);let t=p(3);return b(t.facebookPhoto())}),f(1,"i",50),m(2,"Facebook "),l()}}function Zn(n,d){if(n&1){let e=P();ce(0),s(1,"h4",102),m(2,"Your Poster is Ready!"),l(),s(3,"div",103)(4,"button",104),w("click",function(){D(e);let t=p(2);return b(t.checkDownload("download"))}),f(5,"i",68),m(6,"Download "),l(),s(7,"button",105),w("click",function(){D(e);let t=p(2);return b(t.resetForm())}),f(8,"i",106),m(9,"Reset"),l(),s(10,"button",107),w("click",function(){D(e);let t=p(2);return b(t.checkDownload("whatsapp"))}),f(11,"i",108),s(12,"span",109),m(13,"WhatsApp"),l()(),S(14,Xn,3,0,"button",110),l(),ge()}if(n&2){let e=p(2);o(),c("@fadeIn",void 0),o(2),c("@fadeIn",void 0),o(11),c("ngIf",e.facebookAccessToken)}}function Jn(n,d){if(n&1&&(s(0,"h1",119),m(1),l()),n&2){let e=p(4);c("@fadeIn",void 0),o(),X(" ",e.postDetails.title,"")}}function er(n,d){if(n&1&&(s(0,"h2",120),m(1),l()),n&2){let e=p(4);c("@fadeIn",void 0),o(),X(" ",e.postDetails.info,"")}}function tr(n,d){if(n&1&&(s(0,"h5",121),m(1,"Downloads "),s(2,"b"),m(3),l()()),n&2){let e=p(4);c("@fadeIn",void 0),o(3),V(e.postDetails.download_counter)}}function ir(n,d){if(n&1&&(ce(0),s(1,"label",135),m(2),l(),f(3,"input",136),ge()),n&2){let e=p().$implicit;o(),U("for",e.id),o(),V(e.title),o(),U("id",e.id),U("name",e.id),U("formControlName",e.id),c("placeholder",e.title)}}function ar(n,d){if(n&1&&(ce(0),s(1,"label",135),m(2),l(),f(3,"input",137),ge()),n&2){let e=p().$implicit;o(),U("for",e.id),o(),V(e.title),o(),U("id",e.id),U("name",e.id),U("formControlName",e.id)}}function nr(n,d){if(n&1){let e=P();ce(0),s(1,"label",138),m(2),l(),f(3,"input",139),s(4,"input",140),w("change",function(t){D(e);let a=p().$implicit,r=p(5);return b(r.onFileChange(t,a.id,a.index))}),l(),ge()}if(n&2){let e=p().$implicit;o(2),V(e.title),o(),U("id",e.id),U("name",e.id),U("formControlName",e.id),o(),rt("id","",e.id,"-file"),rt("name","",e.id,"-file"),rt("formControlName","",e.id,"-file")}}function rr(n,d){if(n&1&&(s(0,"option",145),m(1),l()),n&2){let e=d.$implicit,i=p(2).$implicit;c("value",e.id),o(),V(i.lang=="gu"?e.gu_name:e.name)}}function sr(n,d){if(n&1&&(ce(0),s(1,"label",141),m(2),l(),s(3,"select",142)(4,"option",143),m(5),l(),S(6,rr,2,2,"option",144),l(),ge()),n&2){let e=p().$implicit,i=p(5);o(2),V(e.title),o(),U("formControlName",e.id),o(2),X("-- Select ",e.title," --"),o(),c("ngForOf",i.apiData[e.controlName])}}function or(n,d){if(n&1&&(s(0,"div",134),S(1,ir,4,6,"ng-container",5)(2,ar,4,5,"ng-container",5)(3,nr,5,10,"ng-container",5)(4,sr,7,4,"ng-container",5),l()),n&2){let e=d.$implicit;c("@fadeIn",void 0),o(),c("ngIf",e.type==="text"),o(),c("ngIf",e.type==="date"),o(),c("ngIf",e.type==="image"),o(),c("ngIf",e.type==="select"&&e.controlName)}}function lr(n,d){n&1&&(s(0,"div",134)(1,"label",46),m(2,"Mobile Number"),l(),f(3,"input",146),l()),n&2&&c("@fadeIn",void 0)}function dr(n,d){n&1&&(s(0,"div",147)(1,"a",148),f(2,"i",108),m(3,"Join PostNew Channel"),l(),s(4,"a",149),f(5,"i",50),m(6,"Join PostNew "),l()()),n&2&&c("@fadeIn",void 0)}function cr(n,d){if(n&1){let e=P();s(0,"form",122),w("ngSubmit",function(){D(e);let t=p(4);return b(t.onSubmitFormData())}),S(1,or,5,5,"div",123)(2,lr,4,1,"div",124),s(3,"div",125),f(4,"hr",126),l(),s(5,"div",127)(6,"button",128),f(7,"i",129),m(8,"Generate Poster"),l(),s(9,"button",130),w("click",function(){D(e);let t=p(4);return b(t.resetForm())}),f(10,"i",106),m(11,"Reset"),l()(),s(12,"div",125),f(13,"hr",126),l(),s(14,"div",131)(15,"button",132),w("click",function(){D(e);let t=p(4);return b(t.checkDownload("whatsapp"))}),f(16,"i",108),s(17,"span",109),m(18,"WhatsApp"),l()()(),s(19,"div",131),S(20,dr,7,1,"div",133),l()()}if(n&2){let e=p(4);c("formGroup",e.formData)("@fadeInList",void 0),o(),c("ngForOf",e.dataset)("ngForTrackBy",e.trackByFn),o(),c("ngIf",e.postDetails==null?null:e.postDetails.track),o(),c("@fadeIn",void 0),o(2),c("@fadeIn",void 0),o(7),c("@fadeIn",void 0),o(2),c("@fadeIn",void 0),o(5),c("@fadeIn",void 0),o(),c("ngIf",e.postDetails==null?null:e.postDetails.info_show)}}function gr(n,d){if(n&1&&(s(0,"div",114),S(1,Jn,2,2,"h1",115)(2,er,2,2,"h2",116)(3,tr,4,2,"h5",117)(4,cr,21,11,"form",118),l()),n&2){let e=p(3);c("ngClass",Ue(6,Ln,e.canDownload))("@fadeIn",void 0),o(),c("ngIf",e.postDetails.title),o(),c("ngIf",e.postDetails.info),o(),c("ngIf",e.postDetails.title),o(),c("ngIf",!e.canDownload&&e.dataset.length)}}function ur(n,d){n&1&&(ce(0),s(1,"h5",150)(2,"b"),m(3,"No poster found for this link."),l()(),ge()),n&2&&c("@fadeIn",void 0)}function mr(n,d){if(n&1&&(s(0,"div",112),S(1,gr,5,8,"div",113)(2,ur,4,1,"ng-container",5),l()),n&2){let e=p(2);o(),c("ngIf",e.postDetails),o(),c("ngIf",!e.postStatus)}}function hr(n,d){if(n&1&&(s(0,"div",79)(1,"div",80)(2,"div",81)(3,"div",82),S(4,Un,2,2,"h1",83)(5,$n,2,2,"p",84)(6,zn,4,2,"h5",85),l(),s(7,"div",86)(8,"div",87)(9,"div",88),S(10,Kn,2,5,"div",89),Ne(),f(11,"svg",90,2),S(13,qn,1,2,"img",91)(14,Qn,2,0,"p",92),l()(),S(15,Zn,15,3,"ng-container",5),l()(),S(16,mr,3,2,"div",93),l()()),n&2){let e=p();o(4),c("ngIf",e.postDetails.title),o(),c("ngIf",e.postDetails.info),o(),c("ngIf",e.postDetails.info),o(3),c("ngClass",Ue(12,Vn,!e.colors.length))("@fadeIn",void 0),o(),c("ngIf",e.showThumbnail),o(),c("ngClass",Ue(14,Wa,e.showThumbnail))("@fadeIn",void 0),o(2),c("ngIf",!e.colors.length),o(),c("ngIf",!e.colors.length),o(),c("ngIf",e.canDownload),o(),c("ngIf",!e.isInAppBrowser&&e.colors.length)}}function pr(n,d){if(n&1){let e=P();s(0,"div",151)(1,"div",152),m(2," Created by "),s(3,"a",153),w("click",function(){return D(e),p().myInfo.show(),b(!1)}),m(4,"Hiren Sojitra"),l(),s(5,"a",154),m(6,"More Info"),l()()()}n&2&&(c("@fadeIn",void 0),o(5),c("routerLink","/about-us"))}var Ka=(()=>{class n{constructor(e,i,t,a,r,g,u,_,y,x,A,k,I,L,R,M,W,E,O,T,H,le){this.route=e,this.titleService=i,this.metaService=t,this.PS=a,this.renderer=r,this.Rect=g,this.Circle=u,this.Ellipse=_,this.commonService=y,this.fb=x,this.platformService=A,this.http=k,this.toastService=I,this.loaderService=L,this.fontService=R,this.elementRef=M,this.baseUrlService=W,this.seoService=E,this.platformId=O,this.transferState=T,this.trackService=H,this.colorService=le,this.isNotFound=!1,this.isUnpublished=!1,this.postStatus="loading",this.dataset=[],this.apiData={},this.selectData={},this.selectedIndex=null,this.selectedID=null,this.downloaded=!1,this.canDownload=!1,this.textModalTitle="",this.encodedText=encodeURIComponent(`Hello, Hiren!
I'm interested to create Poster Generate Link`),this.selectedImage="",this.pageLink="",this.imgUrl=Zi.MasterApi+"/thumb-images/",this.imgModalTitle="",this.cropperModalTitle="",this.facebookAccessToken=null,this.isInAppBrowser=!1,this.POST_DETAILS_KEY="postDetails",this.thumbnailUrl=null,this.showThumbnail=!1,this.colors=[],this.facebookSDKLoaded=new Di(!1),this.fallbackUrl="assets/images/svg/logo-large.svg",this.inputTextForm=this.fb.group({text:["",ve.required]}),this.inputImageForm=this.fb.group({image:[""]}),this.formData=this.fb.group({}),this.baseUrl=this.baseUrlService.getBaseUrl(),this.isBrowser=ct(this.platformId)}ngOnInit(){return C(this,null,function*(){if($e(this.platformId)){yield this.seoService.initSEO();let e=yield Xe(this.route.data);this.titleService.setTitle(e.title||"Poster Download"),this.metaService.updateTag({name:"description",content:e.description||"Discover our web app for generating posters\u2026"}),this.metaService.updateTag({name:"keywords",content:e.keywords||"poster generation, campaign, festival, customization\u2026"}),this.metaService.updateTag({name:"robots",content:e.robots||"index, follow"}),this.metaService.updateTag({property:"og:title",content:e["og:title"]||"Default OG title"}),this.metaService.updateTag({property:"og:description",content:e["og:description"]||"Default OG description"}),this.metaService.updateTag({property:"og:image",content:e["og:image"]||"https://api.postnew.in/api/v1/img/uploads/default?quality=30"});let t=(yield Xe(this.route.paramMap)).get("img");t&&(this.postDetailsDefault=yield Xe(this.PS.getPostById(t)),this.postDetailsDefault&&(yield this.changeMetadataDynamically(),this.transferState.set(this.POST_DETAILS_KEY,this.postDetailsDefault)));return}if(this.isBrowser){this.detectInAppBrowser(),yield this.seoService.initSEO();let e=this.transferState.get(this.POST_DETAILS_KEY,null);e&&(this.postDetailsDefault=e,this.transferState.remove(this.POST_DETAILS_KEY)),this.route.paramMap.pipe(St(i=>{this.imgParam=i.get("img"),this.postStatus="loading"}),At(i=>{let t=i.get("img");return this.postDetailsDefault&&!this.postDetailsDefault.deleted&&this.postDetailsDefault.published?he(this.postDetailsDefault):this.PS.getPostById(t)}),St(i=>{this.postDetailsDefault=i,this.isDeleted=i.deleted,this.postStatus=i.deleted?"This image has been deleted":i.published?"loading":"This image is not published",this.isUnpublished=!i.published,!i.deleted&&i.published&&(this.changeMetadataDynamically(),this.setupThumbnail())}),At(i=>!this.isInAppBrowser&&!i.deleted&&i.published?this.getPostById():he(null)),wi(i=>(this.isNotFound=!0,console.error("Error fetching post:",i),this.postStatus="Error loading image",he(null)))).subscribe(),this.myInfo=new bootstrap.Modal(document.getElementById("myInfo"),{focus:!1,keyboard:!1,static:!1})}})}setupThumbnail(){return C(this,null,function*(){this.postDetailsDefault&&(this.thumbnailUrl=this.imgUrl+this.postDetailsDefault.id+"?quality=100",this.showThumbnail=!0)})}detectInAppBrowser(){let e=navigator.userAgent||navigator.vendor;/FBAN|FBAV|Instagram|Twitter|Snapchat|WhatsApp|Messenger|Line/i.test(e)&&(this.isInAppBrowser=!0)}openInBrowser(){let i=`intent://${window.location.href.replace(/^https?:\/\//,"")}#Intent;scheme=https;package=com.android.chrome;end;`;window.location.href=i}changeMetadataDynamically(){return C(this,null,function*(){let{title:e="Default Title",info:i="Default Description",backgroundurl:t="https://api.postnew.in/api/v1/img/uploads/defaultImage",id:a="defaultID"}=this.postDetailsDefault||{},r="Hiren Sojitra",g="PostNew",u="@Sojitra_Hiren",_=`${this.imgUrl}${a}`,y=`https://www.postnew.in/poster/${a}`,x="en_US";this.titleService.setTitle(e),this.metaService.updateTag({name:"description",content:i}),this.metaService.updateTag({property:"og:title",content:e}),this.metaService.updateTag({property:"og:description",content:i}),this.metaService.updateTag({property:"og:image",content:_}),this.metaService.updateTag({property:"og:url",content:y}),this.metaService.updateTag({property:"og:type",content:"poster"}),this.metaService.updateTag({property:"og:site_name",content:g}),this.metaService.updateTag({property:"og:locale",content:x}),this.metaService.updateTag({property:"article:author",content:r}),this.metaService.updateTag({property:"twitter:card",content:"summary_large_image"}),this.metaService.updateTag({property:"twitter:url",content:y}),this.metaService.updateTag({property:"twitter:title",content:e}),this.metaService.updateTag({property:"twitter:description",content:i}),this.metaService.updateTag({property:"twitter:image",content:_}),this.metaService.updateTag({property:"twitter:site",content:u}),this.metaService.updateTag({property:"twitter:creator",content:u}),this.metaService.updateTag({rel:"canonical",href:y})})}getPostById(){return C(this,null,function*(){let e=this.postDetailsDefault;if(e){try{this.postDetails=e;let i=JSON.parse(JSON.stringify(e));if(this.isDeleted=e.deleted,e.deleted)e.deleted&&e.msg&&(this.postStatus=e.msg);else{this.postStatus="loading";try{let t=yield this.getImageDataUrl(e.backgroundurl);e.backgroundurl=t}catch(t){console.error("Error fetching background image URL:",t)}for(let t of e.data)if(t.image&&t.image.imageUrl)try{t.image.imageUrl=yield this.getImageDataUrl(t.image.imageUrl)}catch(a){console.error("Error fetching image URL:",a)}this.postDetails.download_counter?this.postStatus="Total Download: "+this.postDetails.download_counter:this.postStatus="No download counter available"}this.dataProccessed=!0}catch(i){console.error("Error in getPostById:",i),this.postStatus="Error loading post"}this.textModal=new bootstrap.Modal(document.getElementById("textModal"),{focus:!1,keyboard:!1,static:!1}),this.textModal._element.addEventListener("hide.bs.modal",()=>{this.inputTextForm.reset()}),this.textModal._element.addEventListener("show.bs.modal",()=>{}),this.textModal._element.addEventListener("shown.bs.modal",()=>{this.textInput.nativeElement.focus()}),this.cropperModal=new bootstrap.Modal(document.getElementById("cropperModal"),{focus:!1,keyboard:!1,static:!1}),this.cropperModal._element.addEventListener("hide.bs.modal",()=>{this.cropper&&this.cropper.destroy()}),this.cropperModal._element.addEventListener("show.bs.modal",()=>{}),this.imageCropper=new bootstrap.Modal(document.getElementById("imageCropper"),{focus:!1,keyboard:!1,static:!1}),this.imageCropper._element.addEventListener("hide.bs.modal",()=>{this.cropper&&this.cropper.destroy()}),this.imageCropper._element.addEventListener("show.bs.modal",()=>{})}})}getImageDataUrl(e){return C(this,null,function*(){try{let t=yield(yield fetch(e)).blob();return new Promise((a,r)=>{let g=new FileReader;g.onloadend=()=>a(g.result),g.onerror=r,g.readAsDataURL(t)})}catch(i){throw console.error("Error fetching or converting image:",i),i}})}initialize(){return C(this,null,function*(){try{yield Promise.all([this.drawSVG(),this.buildForm()])}catch(e){console.error("An error occurred during initialization:",e)}})}drawSVG(){return C(this,null,function*(){if(this.postDetails){let e=this.postDetails.backgroundurl,i=this.imageDraw.nativeElement,t=document.createElementNS("http://www.w3.org/2000/svg","defs");for(;i.firstChild;)i.removeChild(i.firstChild);let a=document.createElementNS("http://www.w3.org/2000/svg","link");a.setAttribute("rel","stylesheet"),a.setAttribute("href","https://fonts.googleapis.com/css2?family=Anek+Gujarati:wght@100..800&family=Baloo+Bhai+2:wght@400..800&family=Farsan&family=Hind+Vadodara:wght@300;400;500;600;700&family=Kumar+One&family=Kumar+One+Outline&family=Mogra&family=Mukta+Vaani:wght@200;300;400;500;600;700;800&family=Noto+Sans+Gujarati:wght@100..900&family=Noto+Serif+Gujarati:wght@100..900&family=Rasa:ital,wght@0,300..700;1,300..700&family=Shrikhand&display=swap"),t.appendChild(a),i.appendChild(t),this.renderer.setAttribute(i,"viewBox","0 0 "+(this.postDetails.w||0)+" "+(this.postDetails.h||0));let r=this.renderer.createElement("image","http://www.w3.org/2000/svg");this.renderer.setAttribute(r,"x","0"),this.renderer.setAttribute(r,"y","0"),this.renderer.setAttribute(r,"width","100%"),this.renderer.setAttribute(r,"height","100%"),this.renderer.setAttribute(r,"preserveAspectRatio","xMidYMid slice"),this.renderer.setAttribute(r,"href",e),this.renderer.appendChild(i,t),this.renderer.appendChild(i,r);let g=0;this.postDetails?.data.forEach((u,_)=>C(this,null,function*(){let y=u.editable&&this.dataset[g]?.id||Math.random().toString(36).substr(2,9);switch(!0){case!!u.text:if(u.text){let x=this.renderer.createElement("text","http://www.w3.org/2000/svg"),{x:A,y:k,dx:I,dy:L,fs:R,fw:M,text:W,type:E,controlName:O,api:T,lang:H,dependency:le,color:v,fontStyle:Oe,rotate:K,fontFamily:q,textShadow:Q,backgroundColor:Ge,textEffects:vt,textAnchor:je,alignmentBaseline:Dt,letterSpacing:ci,lineHeight:bt,textTransformation:ln,originX:dn,originY:cn,opacity:gi,wordSpacing:ui,fontVariant:mi,direction:gn,writingMode:un,textLength:hi,lengthAdjust:mn,dominantBaseline:hn,baselineShift:pn,unicodeBidi:fn,kerning:pi,whiteSpace:_n,fillOpacity:fi,stroke:xn,strokeWidth:_i,strokeOpacity:xi,fontSizeAdjust:yi,fontStretch:yn,visibility:vn}=u.text;if(W){let J=this.textFormat(W);if(u.editable&&this.renderer.setStyle(x,"pointer-events","none"),J.length===1){let re=this.renderer.createText(W);O&&H&&E&&E=="select"&&(this.selectData[O]={lang:H,value:W,api:T,dependency:le||"none",text:re}),this.renderer.appendChild(x,re)}else{let re=R*(bt||1.5),Ae=0;if(q)switch(je){case"middle":Ae=J.reduce((be,se)=>be+this.getTextWidth(se,R,q),0)/2;break;case"end":Ae=J.reduce((be,se)=>{let vi=this.getTextWidth(se,R,q);return vi>be?vi:be},0);break}J.forEach((Pe,be)=>{let se=this.renderer.createElement("tspan","http://www.w3.org/2000/svg");switch(this.renderer.appendChild(se,this.renderer.createText(Pe)),(be>0||be===0&&Pe.trim()==="")&&this.renderer.setAttribute(se,"dy",`${re}px`),this.renderer.setAttribute(se,"x",A.toString()),je){case"middle":this.renderer.setAttribute(se,"dx",`-${Ae}px`);break;case"end":this.renderer.setAttribute(se,"dx",`-${Ae}px`);break}this.renderer.appendChild(x,se)})}}let wt={"data-type":"text",x:A.toString(),y:k.toString(),dx:I?I.toString():"0",dy:L?L.toString():"0","font-size":R.toString(),fill:v||"#000000","text-anchor":je||"start","alignment-baseline":Dt||"middle","dominant-baseline":hn||"auto","font-family":q?"'"+q+"', sans-serif":"'Hind Vadodara', sans-serif","font-weight":M||"normal","text-decoration":Oe.underline?"underline":"none","font-style":Oe.italic?"italic":"normal",opacity:gi?gi.toString():"1","font-variant":mi||"normal",direction:gn||"ltr","writing-mode":un||"horizontal-tb",textLength:hi?hi.toString():"",lengthAdjust:mn||"spacing","baseline-shift":pn||"0","unicode-bidi":fn||"normal",kerning:pi?pi.toString():"0","white-space":_n||"normal","fill-opacity":fi?fi.toString():"1",stroke:xn||"none","stroke-width":_i?_i.toString():"0","stroke-opacity":xi?xi.toString():"1","font-size-adjust":yi?yi.toString():"0","font-stretch":yn||"normal",visibility:vn||"visible","paint-order":"stroke fill","stroke-linejoin":"round"};Ge&&(wt["background-color"]=Ge);let Dn={"-webkit-user-select":"none","letter-spacing":ci?`${ci}px`:"normal","line-height":bt?`${bt}`:"normal","text-transform":ln||"none","word-spacing":ui?`${ui}px`:"normal","font-variant":mi||"normal"};if(Q.enable&&(wt.filter=`drop-shadow(${Q.offsetX}px ${Q.offsetY}px ${Q.blur}px ${Q.color})`||"none"),Object.entries(wt).forEach(([J,re])=>this.renderer.setAttribute(x,J,re)),Object.entries(Dn).forEach(([J,re])=>this.renderer.setStyle(x,J,re)),this.renderer.setAttribute(x,"data-id",y),this.renderer.appendChild(i,x),K||dn!==void 0&&cn!==void 0){let J=x.getBBox(),re=J.width,Ae=J.height,Pe=`rotate(${K||0} ${A+re/2} ${k+Ae/2})`;this.renderer.setAttribute(x,"transform",Pe)}this.dataset[g]==null&&u.editable&&this.dataset.push({id:y,lang:H||"en",value:W||"Select "+u.title,index:_.toString(),type:E,title:u.title,controlName:O,api:T,dependency:le}),this.renderer.addClass(x,"pointer-events-none"),u.editable&&this.renderer.listen(x,"click",()=>{this.selectedIndex=_,this.selectedID=y,this.setText()}),u.editable&&g++}break;case!!u.rect:if(u.rect){let x=this.Rect.createRect(u.rect);return this.renderer.appendChild(i,x),x}break;case!!u.circle:if(u.circle){let x=this.Circle.createCircle(u.circle);return this.renderer.appendChild(i,x),x}break;case!!u.ellipse:if(u.ellipse){let x=this.Ellipse.createEllipse(u.ellipse);return this.renderer.appendChild(i,x),x}break;case!!u.image:if(u.image){let{x,y:A,r:k,imageUrl:I,borderColor:L,borderWidth:R,shape:M,origin:W,placeholder:E,svgProperties:O,rotate:T}=u.image,{w:H,h:le}=this.commonService.calculateWH(u.image),v;switch(M){case"circle":v=this.renderer.createElement("circle","http://www.w3.org/2000/svg"),this.renderer.setAttribute(v,"cx",String(x)),this.renderer.setAttribute(v,"cy",String(A)),this.renderer.setAttribute(v,"r",String(k)),this.renderer.setAttribute(v,"data-type","circle");break;case"ellipse":v=this.renderer.createElement("ellipse","http://www.w3.org/2000/svg"),this.renderer.setAttribute(v,"cx",String(x)),this.renderer.setAttribute(v,"cy",String(A)),this.renderer.setAttribute(v,"rx",String(k)),this.renderer.setAttribute(v,"ry",String(k)),this.renderer.setAttribute(v,"data-type","ellipse");break;case"rect":case"rect_3_2":case"rect_4_3":case"rect_16_9":case"rect_1_1":case"rect_5_4":case"rect_3_1":case"rect_7_5":case"rect_2_3":case"rect_3_4":case"rect_9_16":case"rect_4_5":case"rect_5_7":v=this.renderer.createElement("rect","http://www.w3.org/2000/svg"),this.renderer.setAttribute(v,"x",String(x)),this.renderer.setAttribute(v,"y",String(A)),this.renderer.setAttribute(v,"width",String(H)),this.renderer.setAttribute(v,"height",String(le)),this.renderer.setAttribute(v,"data-type","rect"),this.renderer.setAttribute(v,"fill","#FFF");break;default:return console.error("Invalid shape"),null}if(v!==null){let Oe=y;this.renderer.addClass(v,"pointer-events-none"),this.renderer.setAttribute(v,"fill","url(#"+Oe+")"),u.editable&&this.renderer.setStyle(v,"pointer-events","none"),this.renderer.setStyle(v,"filter","url(#shadow)");let K=this.renderer.createElement("pattern","http://www.w3.org/2000/svg");this.renderer.setAttribute(K,"id",Oe),this.renderer.setAttribute(K,"x","0"),this.renderer.setAttribute(K,"y","0"),this.renderer.setAttribute(K,"height","100%"),this.renderer.setAttribute(K,"width","100%"),this.renderer.setAttribute(K,"viewBox","0 0 "+String(H)+" "+String(le)),this.renderer.setAttribute(v,"data-id",y),this.dataset[g]==null&&u.editable&&this.dataset.push({id:y,value:"",index:_.toString(),type:"image",title:u.title}),u.editable&&this.renderer.listen(v,"click",()=>{this.selectedIndex=_,this.selectedID=y,this.setImage()});let q=this.renderer.createElement("image","http://www.w3.org/2000/svg");this.renderer.setAttribute(q,"x","0"),this.renderer.setAttribute(q,"y","0"),this.renderer.setAttribute(q,"width",String(H)),this.renderer.setAttribute(q,"height",String(le)),this.renderer.setAttribute(q,"href",I);let Q=this.renderer.createElement("rect","http://www.w3.org/2000/svg");if(this.renderer.setAttribute(Q,"x","0"),this.renderer.setAttribute(Q,"y","0"),this.renderer.setAttribute(Q,"width",String(H)),this.renderer.setAttribute(Q,"height",String(le)),this.renderer.setAttribute(Q,"fill","#FFFFFF"),u.editable&&this.renderer.appendChild(K,Q),this.renderer.appendChild(K,q),this.renderer.appendChild(i,K),R&&L&&(this.renderer.setAttribute(v,"stroke",L),this.renderer.setAttribute(v,"stroke-width",String(R))),this.renderer.appendChild(i,v),T||x!==void 0&&A!==void 0){let Ge=v.getBBox(),vt=Ge.width,je=Ge.height,Dt=`rotate(${T||0} ${x+vt/2} ${A+je/2})`;this.renderer.setAttribute(v,"transform",Dt)}return u.editable&&g++,v}}break;default:console.log("Element data not found");break}}))}this.downloaded=!1,this.canDownload=!1,this.formData.reset({},{emitEvent:!1});for(let e in this.selectData){let i=this.selectData[e];i.dependency==="none"?yield this.loadData(e,i.api):yield this.setupDependency(e,i);let t=this.apiData[e].filter(a=>a.id==i.value);t.length&&this.renderer.setValue(i.text,t[0][i.lang=="gu"?"gu_name":"name"])}})}buildForm(){return C(this,null,function*(){Object.keys(this.formData.controls).forEach(i=>{this.formData.get(i)&&this.formData.removeControl(i)});let e={};this.dataset.forEach(i=>{let t=parseInt(i.index,10);if(!isNaN(t)&&this.postDetails?.data){if(i.type==="text"||i.type==="date"){let a=this.postDetails.data.filter((r,g)=>g===t)[0]?.text;a&&(this.formData.addControl(i.id,this.fb.control("",ve.required)),this.formData.get(i.id)?.valueChanges.subscribe(r=>{a.text=r,i.value=r}))}else if(i.type==="select"){let a=this.postDetails.data.filter((r,g)=>g===t)[0]?.text;if(a){let r=this.formData.addControl(i.id,this.fb.control(i.value,ve.required));this.formData.get(i.id)?.valueChanges.subscribe(g=>{a.text=g,i.value=g}),i.dependency&&i.controlName&&i.api&&(e[i.controlName]={title:i.title,control:this.formData.get(i.id),api:i.api,dependency:i.dependency})}}else if(i.type==="image"){let a=this.postDetails.data.filter((r,g)=>g===t)[0]?.image;a&&(this.formData.addControl(i.id,this.fb.control("",ve.required)),this.formData.addControl(i.id+"-file",this.fb.control("",ve.required)),this.formData.get(i.id)?.valueChanges.subscribe(r=>{a.imageUrl=r,i.value=r}))}}});for(let i in e){let t=e[i];e[i].dependency!=="none"&&e[i].dependency in e&&e[e[i].dependency].control?e[e[i].dependency].control.valueChanges.subscribe(a=>C(this,null,function*(){if(a){let r=`${t.api}${a}`;yield this.fetchDataFromAPI(r,i)}})):console.warn(`Dependency "${e[i].dependency}" for "${i}" is invalid or not found.`)}this.postDetails&&this.postDetails.track&&this.formData.addControl("mobile",new mt("",[ve.required,ve.pattern(/^\+?[0-9]{10,15}$/)]))})}textFormat(e){let t=e.replace(/\n/g,`
`).replace(/\n(?!\*{3})/g,`***
`).split(`
`);for(let a=0;a<t.length;a++)t[a]=t[a].replace(/\*\*\*/g,"\xA0");return t}getTextWidth(e,i,t){let a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("font-size",`${i}px`),a.setAttribute("font-family","fontFamily"),a.textContent=e,document.body.appendChild(a);let r=a.getBBox().width;return document.body.removeChild(a),r}setText(){this.inputTextForm.reset();let e=this.selectedIndex;if(e!==null){let i=this.postDetails?.data[e].text?.text,t=this.postDetailsDefault?.data[e].text?.text,a=i==t?"":i;this.inputTextForm.get("text")?.setValue(a),this.textInput.nativeElement.placeholder=t,this.textModalTitle=this.postDetails?.data[e].title||void 0,this.textModal.show()}}setImage(){this.inputImageForm.reset();let e=this.selectedIndex;if(e!==null){let i=this.postDetails?.data[e].image?.imageUrl,t=this.postDetailsDefault?.data[e].image?.imageUrl,a=i==t?t:i;this.inputImageForm.get("image")?.setValue(a),this.cropperModalTitle=this.postDetails?.data[e].title||void 0,this.cropperModal.show()}}loadData(e,i){return C(this,null,function*(){this.apiData[e]||(yield this.fetchDataFromAPI(i,e))})}setupDependency(e,i){return C(this,null,function*(){i.api.endsWith("/")||(i.api+="/");let t=i.dependency,a=this.selectData[t].value,r=`${i.api}${a}`;yield this.fetchDataFromAPI(r,e)})}fetchDataFromAPI(e,i){return C(this,null,function*(){try{let t=this.getIdByControlName(i),a=yield this.http.get(e).toPromise();i&&a?this.apiData[i]=a:this.apiData[i]=[]}catch(t){console.error("Error fetching data from API:",t)}})}onSubmitFormData(){return C(this,null,function*(){if(this.commonService.markFormGroupTouched(this.formData),this.formData.valid){this.dataset.forEach(i=>{let t=parseInt(i.index,10);if(!isNaN(t)&&this.postDetails?.data){if(i.type==="text"){let a=this.postDetails.data.filter((r,g)=>g===t)[0]?.text;a&&(a.text=i.value,this.canDownload=!1)}else if(i.type==="image"){let a=this.postDetails.data.filter((r,g)=>g===t)[0]?.image;a&&(a.imageUrl=i.value,this.canDownload=!1)}}});let e=Y({},this.formData.value);this.dataset.forEach(i=>{delete e[i.id],delete e[i.id+"-file"],i.type==="image"||i.id&&i.id.endsWith("-file")||(e[i.title]=i.value)}),console.log(e),yield bi(this.trackService.saveData(e,this.imgParam)),yield this.drawSVG(),this.canDownload=!0,this.formData.reset({},{emitEvent:!1})}})}onFileChange(e,i,t){let a=parseInt(t,10);if(e.target.files.length>0){let r=e.target.files[0],g=r.type;if(g.startsWith("image/"))if(g==="image/jpeg"||g==="image/png"||g==="image/gif"||g==="image/bmp"||g==="image/webp"||g==="image/svg+xml"||g==="image/tiff"){let u=new FileReader;u.onload=_=>{let y=_.target?.result;this.imageCropper.show();let x=this.postDetails?.data[a].image,A=320,k=320,I=320,L=320;if(this.postDetails?.data[a].image){let M=this.commonService.calculateWH(x);k=M.w,A=M.h}let R=document.getElementById("imageToCropped");this.cropper=new Cropper(R,{scalable:!0,viewMode:3,crop:M=>{},autoCropArea:1,dragMode:"move",responsive:!0,cropBoxResizable:!1,minCropBoxWidth:L,minCropBoxHeight:I,minContainerWidth:320,minContainerHeight:320,aspectRatio:k/A}),this.cropper.replace(y),this.selectedImage=i},u.readAsDataURL(r)}else this.toastService.show("Please select image type.",{class:"bg-danger",title:"Invalid Image Type"});else this.toastService.show("Please select valid file format.",{class:"bg-danger",title:"Invalid File Format"})}}resetForm(){this.canDownload=!1,this.formData.reset({},{emitEvent:!1})}checkDownload(e){return C(this,null,function*(){let i=`${this.baseUrl}poster/${this.postDetails?.id}`,t=this.postDetails?.title.trim(),a=this.postDetails?.info.trim();switch(e){case"download":this.capturePhoto();break;case"whatsapp":let r=`*${i}*

*${t}*
*_${a}_*

\u0AAA\u0ACB\u0AB8\u0ACD\u0A9F\u0AB0 \u0AAC\u0AA8\u0ABE\u0AB5\u0AB5\u0ABE \u0A89\u0AAA\u0AB0\u0AA8\u0AC0 \u0AB2\u0ABF\u0A82\u0A95 \u0A95\u0ACD\u0AB2\u0ABF\u0A95 \u0A95\u0AB0\u0ACB
\u0A85\u0AA8\u0ACD\u0AAF \u0AB8\u0AAC\u0A82\u0AA7\u0ABF\u0AA4 \u0AB5\u0ACD\u0AAF\u0A95\u0ACD\u0AA4\u0ABF \u0AA8\u0AC7 \u0AAA\u0AA3 \u0AB6\u0AC7\u0AB0 \u0A95\u0AB0\u0ACB.`;window.location.href=`whatsapp://send?text=${encodeURIComponent(r)}`;break;case"facebook":let g=this.postDetails?.title+" "+this.postDetails?.info,u=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(i)}&quote=${encodeURIComponent(g)}`;window.open(u,"_blank");break;default:this.capturePhoto();break}return!0})}capturePhoto(e){return C(this,null,function*(){this.loaderService.show(0);let i=this.imageDraw.nativeElement,a=(i.getAttribute("viewBox")||"").split(" ").map(Number),r=a[2],g=a[3],u=document.createElement("canvas"),_=u.getContext("2d");u.width=r,u.height=g;let y=new Image,x=new XMLSerializer,A=this.getFontStylesFromSVG(i);yield this.loadFonts(A);let k=x.serializeToString(i);y.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(k))),y.onload=()=>C(this,null,function*(){_?.drawImage(y,0,0);let I=u.toDataURL("image/png"),R=`IMG-${new Date().toISOString().replace(/:/g,"-")}.png`,M=document.createElement("a");M.href=I,this.finalImage=I,M.download=R,M.target="_top";let W=i.querySelectorAll("text");_&&W.forEach(E=>{let O=E.getAttribute("font-family")||"Arial",T=parseFloat(E.getAttribute("font-size")||"16");_.font=`${T}px ${O}`}),this.downloaded=!0,M.target="_blank",document.body.appendChild(M),M.click(),yield this.PS.updateDownloadCounter(this.imgParam).subscribe(E=>{if(E){let O=JSON.parse(JSON.stringify(E));this.postStatus="Total Download: "+E.download_counter,this.resetForm()}document.body.removeChild(M)},E=>{document.body.removeChild(M),this.postStatus=void 0,console.error("Error fetching post:",E)}),this.loaderService.hide()})})}facebookPhoto(){return C(this,null,function*(){if(!this.facebookAccessToken){this.loginWithFacebook();return}this.loaderService.show(0);let e=this.imageDraw.nativeElement,t=(e.getAttribute("viewBox")||"").split(" ").map(Number),a=t[2],r=t[3],g=document.createElement("canvas"),u=g.getContext("2d");g.width=a,g.height=r;let _=new Image,y=new XMLSerializer,x=this.getFontStylesFromSVG(e);yield this.loadFonts(x);let A=y.serializeToString(e);_.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(A))),_.onload=()=>C(this,null,function*(){u?.drawImage(_,0,0);let k=g.toDataURL("image/png"),L=`IMG-${new Date().toISOString().replace(/:/g,"-")}.png`,R=document.createElement("a");R.href=k,this.finalImage=k,R.download=L;let M=e.querySelectorAll("text");u&&M.forEach(O=>{let T=O.getAttribute("font-family")||"Arial",H=parseFloat(O.getAttribute("font-size")||"16");u.font=`${H}px ${T}`}),this.downloaded=!0;let W=this.dataURLtoBlob(this.finalImage),E=new FormData;E.append("access_token",this.facebookAccessToken),E.append("message",this.postDetails.info),E.append("source",W,"image.png"),yield this.http.post("https://graph.facebook.com/v14.0/me/photos",E).subscribe(O=>C(this,null,function*(){yield this.PS.updateDownloadCounter(this.imgParam).subscribe(T=>{if(T){let H=JSON.parse(JSON.stringify(T));this.postStatus="Total Download: "+T.download_counter,this.resetForm(),this.facebookAccessToken=null}},T=>{this.postStatus=void 0,console.error("Error fetching post:",T)}),console.log("Successfully posted to Facebook:",O),this.postStatus="Image posted successfully to Facebook!"}),O=>{console.error("Error posting to Facebook:",O),this.postStatus="Failed to post image to Facebook."}),this.loaderService.hide()})})}loginWithFacebook(){this.facebookSDKLoaded.subscribe(e=>{e&&FB.login(i=>{i.authResponse?(this.facebookAccessToken=i.authResponse.accessToken,console.log("Facebook Access Token:",this.facebookAccessToken)):console.error("User cancelled login or did not fully authorize.")},{scope:"public_profile,email"})})}dataURLtoBlob(e){let[i,t]=e.split(","),a=i.match(/:(.*?);/)[1],r=atob(t),g=[];for(let u=0;u<r.length;u++)g.push(r.charCodeAt(u));return new Blob([new Uint8Array(g)],{type:a})}getFontStylesFromSVG(e){let i=e.querySelectorAll("text"),t={};return i.forEach(a=>{let r=a.getAttribute("font-family"),g=a.getAttribute("font-weight")||"normal";if(r){let u=r.split(",")[0].replace(/['"]/g,"").trim();t[u]||(t[u]=new Set),t[u].add(g)}}),t}loadFonts(e){return C(this,null,function*(){let i=this.imageDraw.nativeElement,t=i.querySelector("defs")||i.appendChild(document.createElementNS("http://www.w3.org/2000/svg","defs")),a=t.querySelector("style");a||(a=document.createElementNS("http://www.w3.org/2000/svg","style"),t.appendChild(a));let r=new Set;for(let[g,u]of Object.entries(e))for(let _ of u){let y=this.fontService.getFontPath(g,_),x=yield this.loadFontAsBase64(`assets/fonts/${y}.ttf`),A=`@font-face {
          font-family: '${g}';
          font-style: normal;
          font-weight: ${_};
          font-stretch: 100%;
          font-display: swap;
          src: url(data:font/truetype;base64,${x}) format('truetype');
        }`;r.has(A)||(a.textContent+=A,r.add(A))}})}loadFontAsBase64(e){return C(this,null,function*(){let t=yield(yield fetch(e)).arrayBuffer();return btoa(new Uint8Array(t).reduce((a,r)=>a+String.fromCharCode(r),""))})}shareOnFacebook(){return C(this,null,function*(){this.loaderService.show(0);let e=this.imageDraw.nativeElement,t=(e.getAttribute("viewBox")||"").split(" ").map(Number),a=t[2],r=t[3],g=document.createElement("canvas"),u=g.getContext("2d");g.width=a,g.height=r;let _=new Image,y=new XMLSerializer,x=this.getFontStylesFromSVG(e);yield this.loadFonts(x);let A=y.serializeToString(e);_.src="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(A))),_.onload=()=>C(this,null,function*(){u?.drawImage(_,0,0);let k=g.toDataURL("image/png");this.finalImage=k,this.PS.updateDownloadCounter(this.imgParam).subscribe(I=>{I&&(this.postStatus="Total Download: "+I.download_counter,this.resetForm())},I=>{this.postStatus=void 0,console.error("Error fetching post:",I)}),this.loaderService.hide(),window.FB.ui({method:"feed",link:this.pageLink,picture:this.finalImage,name:"Check out my Poster",caption:"My Poster Creation",description:"I created this poster with awesome features. Take a look!"},I=>{I&&!I.error_message?console.log("Posted successfully."):console.error("Error while posting:",I.error_message)})})})}onTextSubmit(){return C(this,null,function*(){this.selectedIndex!==null&&this.postDetails?.data&&(this.postDetails.data=this.postDetails.data.map((e,i)=>{if(i===this.selectedIndex&&e.text){let t=this.inputTextForm.get("text")?.value;if(this.selectedID&&this.elementRef.nativeElement.querySelector(`[data-id="${this.selectedID}"]`)){let r=this.dataset.filter(g=>g.id===this.selectedID);r[0]&&(r[0].value=t||e.text.text)}return Se(Y({},e),{text:Se(Y({},e.text),{text:t})})}return e})),yield this.drawSVG(),this.textModal.hide()})}handleImageInputChange(e){let t=e.target.files?.[0];if(t){let a=t.type;if(a.startsWith("image/"))if(a==="image/jpeg"||a==="image/png"||a==="image/gif"||a==="image/bmp"||a==="image/webp"||a==="image/svg+xml"||a==="image/tiff"){let r=new FileReader;r.onload=g=>{let u=g.target?.result,_=this.dataset.find(L=>L.id===this.selectedImage),y=320,x=320,A=320,k=320;if(_){let L=parseInt(_.index,10);if(this.postDetails?.data[L].image){let R=this.commonService.calculateWH(this.postDetails?.data[L].image);y=R.w,x=R.h}}this.cropperModal.show();let I=document.getElementById("cropper");this.cropper=new Cropper(I,{scalable:!0,viewMode:3,crop:L=>{},autoCropArea:1,dragMode:"move",responsive:!0,cropBoxResizable:!1,minCropBoxWidth:A,minCropBoxHeight:k,minContainerWidth:320,minContainerHeight:320,aspectRatio:y/x}),this.cropper.replace(u)},r.readAsDataURL(t)}else this.toastService.show("Please select image type.",{class:"bg-danger",title:"Invalid Image Type"});else this.toastService.show("Please select valid file format.",{class:"bg-danger",title:"Invalid File Format"})}t&&(t.type==="image/jpeg"||t.type)}onImageSubmit(){return C(this,null,function*(){this.handleCropEvent(),this.selectedIndex!==null&&this.postDetails?.data&&(this.postDetails.data=this.postDetails.data.map((e,i)=>{if(i===this.selectedIndex&&e.image){let t=this.inputImageForm.get("image")?.value;if(this.selectedID&&this.elementRef.nativeElement.querySelector(`[data-id="${this.selectedID}"]`)){let r=this.dataset.filter(g=>g.id===this.selectedID);r[0]&&(r[0].value=t||e.image.imageUrl)}return Se(Y({},e),{image:Se(Y({},e.image),{imageUrl:t})})}return e})),yield this.drawSVG(),this.cropperModal.hide()})}handleCropEvent(){if(this.cropper){let e=this.dataset.find(_=>_.id===this.selectedImage),i=800,t=800;if(e){let _=parseInt(e.index,10);if(this.postDetails?.data[_].image){let y=this.commonService.calculateWH(this.postDetails?.data[_].image);i=y.w,t=y.h}}let a=this.cropper.getCroppedCanvas(),r=document.createElement("canvas"),g=r.getContext("2d");r.width=i,r.height=t,g.drawImage(a,0,0,i,t);let u=r.toDataURL("image/png");this.inputImageForm.get("image")?.setValue(u)}}openImageCropperDialog(){let e=this.imageInput.nativeElement;e&&(e.click(),e.value=null),this.cropperModal.hide()}handleSelectedEvent(){if(this.cropper){let e=this.dataset.find(_=>_.id===this.selectedImage),i=800,t=800;if(e){let _=parseInt(e.index,10);if(this.postDetails?.data[_].image){let y=this.commonService.calculateWH(this.postDetails?.data[_].image);i=y.w,t=y.h}}let a=this.cropper.getCroppedCanvas(),r=document.createElement("canvas"),g=r.getContext("2d");r.width=i,r.height=t,g.drawImage(a,0,0,i,t);let u=r.toDataURL("image/png");if(e){let _=parseInt(e.index,10);!isNaN(_)&&this.postDetails?.data&&(this.formData.get(this.selectedImage)?.setValue(u),this.imageCropper.hide())}}}getIdByControlName(e){let i=this.dataset.find(t=>t.controlName===e);return i?i.id:null}getLuminance({r:e,g:i,b:t}){let a=[e,i,t].map(r=>(r/=255,r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)));return .2126*a[0]+.7152*a[1]+.0722*a[2]}hexToRGB(e){let i=parseInt(e.slice(1,3),16),t=parseInt(e.slice(3,5),16),a=parseInt(e.slice(5,7),16);return{r:i,g:t,b:a}}onImgLoad(e,i){return C(this,null,function*(){if(!this.isBrowser)return;let a=i.target.closest(".poster-container");if(a)try{let r=yield this.colorService.getColors(e,10);if(!r?.length)return;this.colors=r.slice(2,9);let u=this.colors.map(x=>{let A=this.hexToRGB(x),k=this.getLuminance(A);return{hex:x,luminance:k}});u.sort((x,A)=>x.luminance-A.luminance);let _=u[1].hex,y=u[u.length-1].hex;a.style.backgroundColor=_||"",a.style.color=y,a.querySelectorAll("img").forEach(x=>(x.style.boxShadow=`0 0.5rem 1rem ${y}`,"important"))}catch(r){console.error("Color extraction failed",r)}})}getColors(e,i){return C(this,null,function*(){try{return yield this.colorService.getColors(e,i)}catch{return[]}})}onThumbLoad(e){return C(this,null,function*(){yield this.onImgLoad(this.imgUrl+this.postDetailsDefault.id+"?quality=100",e),yield this.initialize(),this.showThumbnail=!1})}onThumbError(e){return C(this,null,function*(){let i=e.target;i.src!==this.fallbackUrl&&(i.src=this.fallbackUrl,i.classList.remove("opacity-75")),yield this.initialize(),this.showThumbnail=!1,this.colors=["#000000","#FFFFFF","#FFFFFF"]})}trackByFn(e,i){return i.id}static{this.\u0275fac=function(i){return new(i||n)(h(Ki),h(Yi),h(Hi),h(ka),h(et),h(Ma),h(Ea),h(Ra),h($a),h(ht),h(Ji),h(Ni),h(Va),h(La),h(Ta),h(de),h(za),h(Oa),h(ke),h(Ui),h(Ga),h(ja))}}static{this.\u0275cmp=ie({type:n,selectors:[["app-poster"]],viewQuery:function(i,t){if(i&1&&($(Mn,5),$(En,5),$(Rn,5)),i&2){let a;B(a=N())&&(t.imageDraw=a.first),B(a=N())&&(t.textInput=a.first),B(a=N())&&(t.imageInput=a.first)}},decls:96,vars:14,consts:[["textInput",""],["imageInput",""],["imageDraw",""],["thumb",""],[1,"h-100-vh","d-flex","flex-column"],[4,"ngIf"],["class","d-flex align-items-center justify-content-center shadow-sm bg-dark position-sticky top-0 z-2",4,"ngIf"],[1,"flex-grow-1","d-flex","flex-column","justify-content-center","align-items-center"],["class","flex-grow-1 overflow-auto align-items-center d-flex flex-column justify-content-center",4,"ngIf"],["class","container mt-4",4,"ngIf"],["class","flex-grow-1 container-fluid",4,"ngIf"],["class","bg-dark border-top p-1 text-light position-sticky bottom-0 z-2",4,"ngIf"],["id","textModal","tabindex","-1","aria-labelledby","textModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header"],["id","textModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","bg-dark"],[3,"ngSubmit","formGroup"],["type","text","formControlName","text",1,"form-control","form-control-lg","fw-bold"],[1,"d-flex","mt-4"],["type","submit",1,"btn","btn-primary","mx-auto",3,"disabled"],[1,"fa","fa-save"],["id","cropperModal","tabindex","-1","aria-labelledby","cropperModalLabel","aria-hidden","true",1,"modal","fade"],["id","cropperModalLabel",1,"modal-title"],[1,"modal-body"],["id","cropper","alt","Crop",1,"w-100",3,"src"],["type","file",2,"display","none",3,"change"],["type","hidden","formControlName","image"],["type","button",1,"btn","btn-success","mx-auto",3,"click"],[1,"fa","fa-refresh"],[1,"btn","btn-primary","mx-auto",3,"disabled"],["id","imageCropper","tabindex","-1","aria-labelledby","imageCropperLabel","aria-hidden","true",1,"modal","fade"],["id","imageCropperLabel",1,"modal-title"],[1,"text-muted","mb-3"],["id","imageToCropped","alt","Crop",1,"w-100",3,"src"],[1,"modal-footer"],[1,"btn","btn-danger","ms-3",3,"click"],[1,"fa","fa-close"],["type","button",1,"btn","btn-success","ms-3",3,"click"],["id","myInfo","tabindex","-1","aria-labelledby","myInfoLabel","aria-hidden","true",1,"modal","fade"],["id","myInfoLabel",1,"modal-title"],[1,"mb-3"],["for","email",1,"form-label"],["href","mailto:hirensojitra007@gmail.com",1,"form-control","text-decoration-none","fw-bold"],["for","mobile",1,"form-label"],["href","tel:+919429558759",1,"form-control","text-decoration-none","fw-bold"],["for","social",1,"form-label"],["href","http://www.facebook.com/SOJITRAHIREN","target","_blank",1,"btn","btn-primary","m-2","text-decoration-none"],[1,"fa","fa-facebook","me-2"],["href","http://www.instagram.com/HIREN_SOJITRA","target","_blank",1,"btn","btn-danger","m-2","text-decoration-none"],[1,"fa","fa-instagram","me-2"],["href","http://www.twitter.com/SOJITRA_HIREN","target","_blank",1,"btn","btn-dark","m-2","text-decoration-none"],[1,"fa","fa-twitter","me-2"],[1,"flex-grow-1","overflow-auto","align-items-center","d-flex","flex-column","justify-content-center"],[1,"mt-3"],["src","./assets/images/svg/no-post.svg",1,"max-w-100","max-h-100","rounded-4"],[1,"btn","btn-danger","m-3",3,"routerLink"],[1,"fa","fa-home","me-3"],["src","./assets/images/svg/no-post.svg",1,"max-w-100","max-h-100","rounded-4","mb-4"],[1,"d-flex","align-items-center","justify-content-center","shadow-sm","bg-dark","position-sticky","top-0","z-2"],[1,"max-w-100","my-3",3,"routerLink"],["src","assets/images/svg/logo-large.svg","alt","PostNew.in","remSize","",1,"w-100",3,"maxWPX"],[1,"container","mt-4"],["class","px-3",4,"ngIf"],["class","w-100",3,"src","alt",4,"ngIf"],[1,"btn","btn-success","btn-lg","mt-3","mx-auto","d-block",3,"click"],[1,"fa","fa-download","me-2"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","text-center"],[1,"bi","bi-exclamation-triangle"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close"],[1,"px-3"],["class","text-center my-4 fw-b h5",4,"ngIf"],["class","text-center mb-4 lh-base h6",4,"ngIf"],[1,"text-center","mb-4"],[1,"text-center","my-4","fw-b","h5"],[1,"text-center","mb-4","lh-base","h6"],[1,"w-100",3,"src","alt"],[1,"flex-grow-1","container-fluid"],[1,"row","h-100"],[1,"col-lg-6","col-md-7","p-0","position-relative","d-flex","flex-column","justify-content-center","poster-container"],[1,"px-3","bg-light","bg-opacity-10","d-block","d-md-none","text-center"],["class","mt-4 fw-b h5",4,"ngIf"],["class","mb-4 lh-base",4,"ngIf"],["class","mb-4",4,"ngIf"],[1,"d-flex","flex-column","flex-grow-1","w-100","position-relative"],[1,"position-relative","d-flex","flex-column","flex-grow-1","min-h-300-px"],[1,"position-absolute","w-100","h-100","d-flex","align-items-center","justify-content-center","p-3","poster-wrapper",3,"ngClass"],["class","m-3 h-100 w-100 d-flex align-items-center justify-content-center",3,"ngClass",4,"ngIf"],[1,"max-w-100","max-h-100","m-3","shadow","rounded-4",3,"ngClass"],["src","assets/images/svg/loader.svg","alt","loader","remSize","",3,"wPX",4,"ngIf"],["class","text-center text-muted mt-2",4,"ngIf"],["class","col-lg-6 col-md-5 d-flex flex-column justify-content-center",4,"ngIf"],[1,"mt-4","fw-b","h5"],[1,"mb-4","lh-base"],[1,"mb-4"],[1,"m-3","h-100","w-100","d-flex","align-items-center","justify-content-center",3,"ngClass"],["class","max-w-100 max-h-100 shadow rounded-4 img-fluid opacity-75",3,"src","alt","load","error",4,"ngIf"],[1,"max-w-100","max-h-100","shadow","rounded-4","img-fluid","opacity-75",3,"load","error","src","alt"],["src","assets/images/svg/loader.svg","alt","loader","remSize","",3,"wPX"],[1,"text-center","text-muted","mt-2"],[1,"text-center","text-success","mt-3"],[1,"d-flex","flex-column","gap-2","p-3","bg-light","bg-opacity-10"],[1,"btn","btn-lg","btn-primary","text-white",3,"click"],[1,"btn","btn-lg","btn-danger","text-nowrap",3,"click"],[1,"fa","fa-refresh","me-2"],["type","button",1,"btn","btn-success","btn-md","text-nowrap",3,"click"],[1,"fa","fa-whatsapp","me-2"],[1,"d-none-sm"],["class","btn btn-primary btn-md text-nowrap","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-md","text-nowrap",3,"click"],[1,"col-lg-6","col-md-5","d-flex","flex-column","justify-content-center"],["class","p-3 m-4 border border-light rounded-4 shadow-sm bg-white d-flex flex-column gap-3 align-items-center justify-content-center flex-grow-1",3,"ngClass",4,"ngIf"],[1,"p-3","m-4","border","border-light","rounded-4","shadow-sm","bg-white","d-flex","flex-column","gap-3","align-items-center","justify-content-center","flex-grow-1",3,"ngClass"],["class","d-none d-md-block text-center fw-b h5",4,"ngIf"],["class","d-none d-md-block text-center lh-base h6",4,"ngIf"],["class","d-none d-md-block text-center",4,"ngIf"],["class","row g-3",3,"formGroup","ngSubmit",4,"ngIf"],[1,"d-none","d-md-block","text-center","fw-b","h5"],[1,"d-none","d-md-block","text-center","lh-base","h6"],[1,"d-none","d-md-block","text-center"],[1,"row","g-3",3,"ngSubmit","formGroup"],["class","form-group col-12 col-md-6 offset-0 offset-md-3 position-relative",4,"ngFor","ngForOf","ngForTrackBy"],["class","form-group col-12 col-md-6 offset-0 offset-md-3 position-relative",4,"ngIf"],[1,"col-12","col-md-6","offset-0","offset-md-3"],[1,"my-2"],[1,"col-12","col-md-6","offset-0","offset-md-3","d-flex","flex-column","gap-3"],["type","submit",1,"btn","btn-primary","btn-lg","text-nowrap"],[1,"fa","fa-edit","me-2"],["type","button",1,"btn","btn-danger","btn-lg","text-nowrap",3,"click"],[1,"col-12","col-md-6","offset-0","offset-md-3","d-flex","justify-content-center","pb-3"],["type","button",1,"btn","btn-success","btn-md","text-nowrap","me-1",3,"click"],["class","d-flex justify-content-center pb-3",4,"ngIf"],[1,"form-group","col-12","col-md-6","offset-0","offset-md-3","position-relative"],[1,"form-label",3,"for"],["type","text",1,"form-control",3,"id","name","formControlName","placeholder"],["type","date",1,"form-control",3,"id","name","formControlName"],[1,"form-label"],["type","hidden",1,"form-control",3,"id","name","formControlName"],["type","file","accept","image/*",1,"form-control",3,"change","id","name","formControlName"],["for","text",1,"form-label"],["id","type",1,"form-select",3,"formControlName"],["value","null","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","tel","id","mobile","formControlName","mobile","placeholder","Enter your mobile number",1,"form-control"],[1,"d-flex","justify-content-center","pb-3"],["href","https://whatsapp.com/channel/0029VaePspU1iUxd0HOsMA1d","target","_blank",1,"btn","btn-success","btn-md","mx-2"],["href","https://www.facebook.com/postnew","target","_blank",1,"btn","btn-primary","btn-md","mx-2"],[1,"text-center","my-2","text-danger"],[1,"bg-dark","border-top","p-1","text-light","position-sticky","bottom-0","z-2"],[1,"w-100","mx-auto","d-flex","align-items-center","justify-content-center"],["href","https://www.facebook.com/SOJITRAHIREN","target","_blank",1,"fw-bold","btn","btn-danger","ms-3",3,"click"],[1,"text-danger","fw-bold","text-decoration-none","mx-3","my-1",3,"routerLink"]],template:function(i,t){if(i&1){let a=P();s(0,"div",4),S(1,Tn,8,2,"ng-container",5)(2,On,10,2,"ng-container",5)(3,Gn,3,2,"div",6),s(4,"div",7),S(5,jn,5,2,"div",8)(6,Yn,12,2,"div",9)(7,hr,17,16,"div",10),l(),S(8,pr,7,2,"div",11),l(),s(9,"div",12)(10,"div",13)(11,"div",14)(12,"div",15)(13,"h5",16),m(14),l(),f(15,"button",17),l(),s(16,"div",18)(17,"form",19),w("ngSubmit",function(){return D(a),b(t.onTextSubmit())}),f(18,"input",20,0),s(20,"div",21)(21,"button",22),f(22,"i",23),m(23," Save"),l()()()()()()(),s(24,"div",24)(25,"div",13)(26,"div",14)(27,"div",15)(28,"h5",25),m(29),l(),f(30,"button",17),l(),s(31,"div",26),f(32,"img",27),s(33,"input",28,1),w("change",function(g){return D(a),b(t.handleImageInputChange(g))}),l(),s(35,"form",19),w("ngSubmit",function(){return D(a),b(t.onImageSubmit())}),f(36,"input",29),s(37,"div",21)(38,"button",30),w("click",function(){return D(a),b(t.openImageCropperDialog())}),f(39,"i",31),m(40," Change Photo"),l(),s(41,"button",32),f(42,"i",23),m(43," Save"),l()()()()()()(),s(44,"div",33)(45,"div",13)(46,"div",14)(47,"div",15)(48,"h5",34),m(49,"Crop Photo"),l(),f(50,"button",17),l(),s(51,"div",26)(52,"p",35),m(53,"Drag the image to move it within the crop area. Use the corners to resize the crop area."),l(),f(54,"img",36),l(),s(55,"div",37)(56,"div",21)(57,"button",38),w("click",function(){let g;return D(a),t.imageCropper.hide(),b((g=t.formData.get(t.selectedImage+"-file"))==null?null:g.reset())}),f(58,"i",39),m(59," Cancel"),l(),s(60,"button",40),w("click",function(){return D(a),b(t.handleSelectedEvent())}),f(61,"i",23),m(62," Save"),l()()()()()(),s(63,"div",41)(64,"div",13)(65,"div",14)(66,"div",15)(67,"h5",42),m(68,"Contact Information"),l(),f(69,"button",17),l(),s(70,"div",26)(71,"h5"),m(72,"Hiren Sojitra"),l(),s(73,"div",43)(74,"label",44),m(75,"Email:"),l(),s(76,"a",45),m(77,"hirensojitra007@gmail.com"),l()(),s(78,"div",43)(79,"label",46),m(80,"Mobile:"),l(),s(81,"a",47),m(82,"+919429558759"),l()(),s(83,"div",43)(84,"label",48),m(85,"Social Links:"),l(),f(86,"br"),s(87,"a",49),f(88,"i",50),m(89,"Facebook"),l(),s(90,"a",51),f(91,"i",52),m(92,"Instagram"),l(),s(93,"a",53),f(94,"i",54),m(95,"Twitter"),l()()()()()()}if(i&2){let a;o(),c("ngIf",t.isNotFound),o(),c("ngIf",!t.isNotFound&&t.isUnpublished),o(),c("ngIf",t.postDetails==null?null:t.postDetails.info_show),o(2),c("ngIf",!t.postDetailsDefault&&t.dataProccessed),o(),c("ngIf",t.isInAppBrowser),o(),c("ngIf",!t.isInAppBrowser&&t.postDetails),o(),c("ngIf",t.postDetails==null?null:t.postDetails.info_show),o(6),V(t.textModalTitle),o(3),c("formGroup",t.inputTextForm),o(4),c("disabled",t.inputTextForm.invalid),o(8),V(t.cropperModalTitle),o(3),c("src",(a=t.inputImageForm.get("image"))==null?null:a.value,Je),o(3),c("formGroup",t.inputImageForm),o(6),c("disabled",t.inputImageForm.invalid)}},dependencies:[xe,Pi,Bi,Ya,qi,Pa,ea,na,la,da,ta,oa,ia,aa,ra,sa],data:{animation:[Ee("fadeInList",[ye("* => *",[zi("@fadeIn",Wi(200,$i()),{optional:!0})])]),Ee("fadeIn",[ye(":enter",[ne({opacity:0,transform:"translateY(10px)"}),Ce("200ms ease-out",ne({opacity:1,transform:"translateY(0)"}))])])]}})}}return n})();var fr=[{path:"",component:Ka,data:{title:"Proposal for Web Application Poster Generation Service | PostNew",description:"Discover our web application for generating election campaign posters, festival posts, and other promotional activities. Customize posters with photos, names, addresses, designations, and contact details for efficient and personalized promotional material.",keywords:"poster generation, campaign posters, election posters, festival posts, promotional activities, customization, PostNew, web application",robots:"index, follow","og:image":"https://api.postnew.in/api/v1/img/uploads/wLmyK?quality=30","og:image:alt":"PostNew Logo","og:image:type":"image/svg+xml","og:image:width":"1200","og:image:height":"630","og:title":"Web Application Poster Generation Service | PostNew","og:description":"Generate personalized posters for campaigns and festivals with Gujarat Info\u2019s web application. Easily customize with your photos, names, and contact details."}}],qa=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=j({type:n})}static{this.\u0275inj=G({imports:[Ot.forChild(fr),Ot]})}}return n})();var xr=["mat-calendar-body",""];function yr(n,d){if(n&1&&(s(0,"tr",0)(1,"td",3),m(2),l()()),n&2){let e=p();o(),tt("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),ae("colspan",e.numCols),o(),X(" ",e.label," ")}}function vr(n,d){if(n&1&&(s(0,"td",3),m(1),l()),n&2){let e=p(2);tt("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),ae("colspan",e._firstRowOffset),o(),X(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function Dr(n,d){if(n&1){let e=P();s(0,"td",6)(1,"button",7),w("click",function(t){let a=D(e).$implicit,r=p(2);return b(r._cellClicked(a,t))})("focus",function(t){let a=D(e).$implicit,r=p(2);return b(r._emitActiveDateChange(a,t))}),s(2,"span",8),m(3),l(),f(4,"span",9),l()()}if(n&2){let e=d.$implicit,i=d.$index,t=p().$index,a=p();tt("width",a._cellWidth)("padding-top",a._cellPadding)("padding-bottom",a._cellPadding),ae("data-mat-row",t)("data-mat-col",i),o(),fe("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",a._isActiveCell(t,i))("mat-calendar-body-range-start",a._isRangeStart(e.compareValue))("mat-calendar-body-range-end",a._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",a._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",a._isComparisonBridgeStart(e.compareValue,t,i))("mat-calendar-body-comparison-bridge-end",a._isComparisonBridgeEnd(e.compareValue,t,i))("mat-calendar-body-comparison-start",a._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",a._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",a._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",a._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",a._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",a._isInPreview(e.compareValue)),c("ngClass",e.cssClasses)("tabindex",a._isActiveCell(t,i)?0:-1),ae("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",a._isSelected(e.compareValue))("aria-current",a.todayValue===e.compareValue?"date":null)("aria-describedby",a._getDescribedby(e.compareValue)),o(),fe("mat-calendar-body-selected",a._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",a._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",a.todayValue===e.compareValue),o(),X(" ",e.displayValue," ")}}function br(n,d){if(n&1&&(s(0,"tr",1),S(1,vr,2,6,"td",4),at(2,Dr,5,48,"td",5,it),l()),n&2){let e=d.$implicit,i=d.$index,t=p();o(),Ye(1,i===0&&t._firstRowOffset?1:-1),o(),nt(e)}}function wr(n,d){if(n&1&&(s(0,"th",2)(1,"span",6),m(2),l(),s(3,"span",3),m(4),l()()),n&2){let e=d.$implicit;o(2),V(e.long),o(2),V(e.narrow)}}var Cr=["*"];function Ar(n,d){}function Sr(n,d){if(n&1){let e=P();s(0,"mat-month-view",2),lt("activeDateChange",function(t){D(e);let a=p();return ot(a.activeDate,t)||(a.activeDate=t),b(t)}),w("_userSelection",function(t){D(e);let a=p();return b(a._dateSelected(t))})("dragStarted",function(t){D(e);let a=p();return b(a._dragStarted(t))})("dragEnded",function(t){D(e);let a=p();return b(a._dragEnded(t))}),l()}if(n&2){let e=p();st("activeDate",e.activeDate),c("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function Ir(n,d){if(n&1){let e=P();s(0,"mat-year-view",3),lt("activeDateChange",function(t){D(e);let a=p();return ot(a.activeDate,t)||(a.activeDate=t),b(t)}),w("monthSelected",function(t){D(e);let a=p();return b(a._monthSelectedInYearView(t))})("selectedChange",function(t){D(e);let a=p();return b(a._goToDateInView(t,"month"))}),l()}if(n&2){let e=p();st("activeDate",e.activeDate),c("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function Fr(n,d){if(n&1){let e=P();s(0,"mat-multi-year-view",4),lt("activeDateChange",function(t){D(e);let a=p();return ot(a.activeDate,t)||(a.activeDate=t),b(t)}),w("yearSelected",function(t){D(e);let a=p();return b(a._yearSelectedInMultiYearView(t))})("selectedChange",function(t){D(e);let a=p();return b(a._goToDateInView(t,"year"))}),l()}if(n&2){let e=p();st("activeDate",e.activeDate),c("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function kr(n,d){}var Mr=["button"],Er=[[["","matDatepickerToggleIcon",""]]],Rr=["[matDatepickerToggleIcon]"];function Vr(n,d){n&1&&(Ne(),s(0,"svg",2),f(1,"path",3),l())}var Qe=(()=>{class n{constructor(){this.changes=new Be,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),qe=class{constructor(d,e,i,t,a={},r=d,g){this.value=d,this.displayValue=e,this.ariaLabel=i,this.enabled=t,this.cssClasses=a,this.compareValue=r,this.rawValue=g}},Lr=1,Qa=pt({passive:!1,capture:!0}),De=pt({passive:!0,capture:!0}),xt=pt({passive:!0}),Te=(()=>{class n{ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}constructor(e,i){this._elementRef=e,this._ngZone=i,this._platform=Ft(ua),this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new F,this.previewChange=new F,this.activeDateChange=new F,this.dragStarted=new F,this.dragEnded=new F,this._didDragSinceMouseDown=!1,this._enterHandler=t=>{if(this._skipNextFocus&&t.type==="focus"){this._skipNextFocus=!1;return}if(t.target&&this.isRange){let a=this._getCellFromElement(t.target);a&&this._ngZone.run(()=>this.previewChange.emit({value:a.enabled?a:null,event:t}))}},this._touchmoveHandler=t=>{if(!this.isRange)return;let a=Xa(t),r=a?this._getCellFromElement(a):null;a!==t.target&&(this._didDragSinceMouseDown=!0),qt(t.target)&&t.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:r?.enabled?r:null,event:t}))},this._leaveHandler=t=>{this.previewEnd!==null&&this.isRange&&(t.type!=="blur"&&(this._didDragSinceMouseDown=!0),t.target&&this._getCellFromElement(t.target)&&!(t.relatedTarget&&this._getCellFromElement(t.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:t})))},this._mousedownHandler=t=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let a=t.target&&this._getCellFromElement(t.target);!a||!this._isInRange(a.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:a.rawValue,event:t})})},this._mouseupHandler=t=>{if(!this.isRange)return;let a=qt(t.target);if(!a){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:t})});return}a.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let r=this._getCellFromElement(a);this.dragEnded.emit({value:r?.rawValue??null,event:t})})},this._touchendHandler=t=>{let a=Xa(t);a&&this._mouseupHandler({target:a})},this._id=`mat-calendar-body-${Lr++}`,this._startDateLabelId=`${this._id}-start-date`,this._endDateLabelId=`${this._id}-end-date`,i.runOutsideAngular(()=>{let t=e.nativeElement;t.addEventListener("touchmove",this._touchmoveHandler,Qa),t.addEventListener("mouseenter",this._enterHandler,De),t.addEventListener("focus",this._enterHandler,De),t.addEventListener("mouseleave",this._leaveHandler,De),t.addEventListener("blur",this._leaveHandler,De),t.addEventListener("mousedown",this._mousedownHandler,xt),t.addEventListener("touchstart",this._mousedownHandler,xt),this._platform.isBrowser&&(window.addEventListener("mouseup",this._mouseupHandler),window.addEventListener("touchend",this._touchendHandler))})}_cellClicked(e,i){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){let i=e.numCols,{rows:t,numCols:a}=this;(e.rows||i)&&(this._firstRowOffset=t&&t.length&&t[0].length?a-t[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/a}%`),(i||!this._cellWidth)&&(this._cellWidth=`${100/a}%`)}ngOnDestroy(){let e=this._elementRef.nativeElement;e.removeEventListener("touchmove",this._touchmoveHandler,Qa),e.removeEventListener("mouseenter",this._enterHandler,De),e.removeEventListener("focus",this._enterHandler,De),e.removeEventListener("mouseleave",this._leaveHandler,De),e.removeEventListener("blur",this._leaveHandler,De),e.removeEventListener("mousedown",this._mousedownHandler,xt),e.removeEventListener("touchstart",this._mousedownHandler,xt),this._platform.isBrowser&&(window.removeEventListener("mouseup",this._mouseupHandler),window.removeEventListener("touchend",this._touchendHandler))}_isActiveCell(e,i){let t=e*this.numCols+i;return e&&(t-=this._firstRowOffset),t==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ci(1)).subscribe(()=>{setTimeout(()=>{let i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return Qt(e,this.startValue,this.endValue)}_isRangeEnd(e){return Xt(e,this.startValue,this.endValue)}_isInRange(e){return Zt(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return Qt(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,t){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let a=this.rows[i][t-1];if(!a){let r=this.rows[i-1];a=r&&r[r.length-1]}return a&&!this._isRangeEnd(a.compareValue)}_isComparisonBridgeEnd(e,i,t){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let a=this.rows[i][t+1];if(!a){let r=this.rows[i+1];a=r&&r[0]}return a&&!this._isRangeStart(a.compareValue)}_isComparisonEnd(e){return Xt(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return Zt(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return Qt(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return Xt(e,this.previewStart,this.previewEnd)}_isInPreview(e){return Zt(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){return this.isRange?this.startValue===e&&this.endValue===e?`${this._startDateLabelId} ${this._endDateLabelId}`:this.startValue===e?this._startDateLabelId:this.endValue===e?this._endDateLabelId:null:null}_getCellFromElement(e){let i=qt(e);if(i){let t=i.getAttribute("data-mat-row"),a=i.getAttribute("data-mat-col");if(t&&a)return this.rows[parseInt(t)][parseInt(a)]}return null}static{this.\u0275fac=function(i){return new(i||n)(h(de),h(kt))}}static{this.\u0275cmp=ie({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],standalone:!0,features:[Fe,ue],attrs:xr,decls:7,vars:5,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(i,t){i&1&&(S(0,yr,3,6,"tr",0),at(1,br,4,1,"tr",1,it),s(3,"label",2),m(4),l(),s(5,"label",2),m(6),l()),i&2&&(Ye(0,t._firstRowOffset<t.labelMinRequiredCells?0:-1),o(),nt(t.rows),o(2),c("id",t._startDateLabelId),o(),X(" ",t.startDateAccessibleName,`
`),o(),c("id",t._endDateLabelId),o(),X(" ",t.endDateAccessibleName,`
`))},dependencies:[xe],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color)}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size);font-weight:var(--mat-datepicker-calendar-body-label-text-weight);color:var(--mat-datepicker-calendar-body-label-text-color)}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color)}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color)}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color);border-color:var(--mat-datepicker-calendar-date-outline-color)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color)}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color)}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color);color:var(--mat-datepicker-calendar-date-selected-state-text-color)}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color)}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color)}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color)}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color)}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color)}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}'],encapsulation:2,changeDetection:0})}}return n})();function Kt(n){return n?.nodeName==="TD"}function qt(n){let d;return Kt(n)?d=n:Kt(n.parentNode)?d=n.parentNode:Kt(n.parentNode?.parentNode)&&(d=n.parentNode.parentNode),d?.getAttribute("data-mat-row")!=null?d:null}function Qt(n,d,e){return e!==null&&d!==e&&n<e&&n===d}function Xt(n,d,e){return d!==null&&d!==e&&n>=d&&n===e}function Zt(n,d,e,i){return i&&d!==null&&e!==null&&d!==e&&n>=d&&n<=e}function Xa(n){let d=n.changedTouches[0];return document.elementFromPoint(d.clientX,d.clientY)}var Z=class{constructor(d,e){this.start=d,this.end=e}},yt=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new Be,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){let t=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:t})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static{this.\u0275fac=function(i){Mi()}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac})}}return n})(),Tr=(()=>{class n extends yt{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let e=new n(this._adapter);return e.updateSelection(this.selection,this),e}static{this.\u0275fac=function(i){return new(i||n)(te(oe))}}static{this.\u0275prov=ee({token:n,factory:n.\u0275fac})}}return n})();function Or(n,d){return n||new Tr(d)}var Gr={provide:yt,deps:[[new Si,new Ii,yt],oe],useFactory:Or};var an=new It("MAT_DATE_RANGE_SELECTION_STRATEGY");var Jt=7,Za=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate,t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){e instanceof Z?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,t,a,r){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=t,this._dir=a,this._rangeStrategy=r,this._rerenderSubscription=Ie.EMPTY,this.activeDrag=null,this.selectedChange=new F,this._userSelection=new F,this.dragStarted=new F,this.dragEnded=new F,this.activeDateChange=new F,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ze(null)).subscribe(()=>this._init())}ngOnChanges(e){let i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){let i=e.value,t=this._getDateFromDayOfMonth(i),a,r;this._selected instanceof Z?(a=this._getDateInCurrentMonth(this._selected.start),r=this._getDateInCurrentMonth(this._selected.end)):a=r=this._getDateInCurrentMonth(this._selected),(a!==i||r!==i)&&this.selectedChange.emit(t),this._userSelection.emit({value:t,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){let i=e.value,t=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(i),this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){let i=this._activeDate,t=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,t?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,t?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&e.preventDefault();return;case 27:this._previewEnd!=null&&!ma(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation());return;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(Jt+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%Jt,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){let t=i?i.rawValue:null,a=this._rangeStrategy.createPreview(t,this.selected,e);if(this._previewStart=this._getCellCompareValue(a.start),this._previewEnd=this._getCellCompareValue(a.end),this.activeDrag&&t){let r=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,t,e);r&&(this._previewStart=this._getCellCompareValue(r.start),this._previewEnd=this._getCellCompareValue(r.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){let i=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:i??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){let e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow"),a=this._dateAdapter.getDayOfWeekNames("long").map((r,g)=>({long:r,narrow:i[g]}));this._weekdays=a.slice(e).concat(a.slice(0,e))}_createWeekCells(){let e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let t=0,a=this._firstWeekOffset;t<e;t++,a++){a==Jt&&(this._weeks.push([]),a=0);let r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),t+1),g=this._shouldEnableDate(r),u=this._dateAdapter.format(r,this._dateFormats.display.dateA11yLabel),_=this.dateClass?this.dateClass(r,"month"):void 0;this._weeks[this._weeks.length-1].push(new qe(t+1,i[t],u,g,_,this._getCellCompareValue(r),r))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!!(e&&i&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i)&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){let i=this._dateAdapter.getYear(e),t=this._dateAdapter.getMonth(e),a=this._dateAdapter.getDate(e);return new Date(i,t,a).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(e){e instanceof Z?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}static{this.\u0275fac=function(i){return new(i||n)(h(_e),h(We,8),h(oe,8),h(ft,8),h(an,8))}}static{this.\u0275cmp=ie({type:n,selectors:[["mat-month-view"]],viewQuery:function(i,t){if(i&1&&$(Te,5),i&2){let a;B(a=N())&&(t._matCalendarBody=a.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],standalone:!0,features:[Fe,ue],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(i,t){i&1&&(s(0,"table",0)(1,"thead",1)(2,"tr"),at(3,wr,5,2,"th",2,it),l(),s(5,"tr",3),f(6,"th",4),l()(),s(7,"tbody",5),w("selectedValueChange",function(r){return t._dateSelected(r)})("activeDateChange",function(r){return t._updateActiveDate(r)})("previewChange",function(r){return t._previewChanged(r)})("dragStarted",function(r){return t.dragStarted.emit(r)})("dragEnded",function(r){return t._dragEnded(r)})("keyup",function(r){return t._handleCalendarBodyKeyup(r)})("keydown",function(r){return t._handleCalendarBodyKeydown(r)}),l()()),i&2&&(o(3),nt(t._weekdays),o(4),c("label",t._monthLabel)("rows",t._weeks)("todayValue",t._todayDate)("startValue",t._rangeStart)("endValue",t._rangeEnd)("comparisonStart",t._comparisonRangeStart)("comparisonEnd",t._comparisonRangeEnd)("previewStart",t._previewStart)("previewEnd",t._previewEnd)("isRange",t._isRange)("labelMinRequiredCells",3)("activeCell",t._dateAdapter.getDate(t.activeDate)-1)("startDateAccessibleName",t.startDateAccessibleName)("endDateAccessibleName",t.endDateAccessibleName))},dependencies:[Te],encapsulation:2,changeDetection:0})}}return n})(),z=24,ei=4,Ja=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate,t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),nn(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){e instanceof Z?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,t){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=t,this._rerenderSubscription=Ie.EMPTY,this.selectedChange=new F,this.yearSelected=new F,this.activeDateChange=new F,this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ze(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let i=this._dateAdapter.getYear(this._activeDate)-Ke(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let t=0,a=[];t<z;t++)a.push(i+t),a.length==ei&&(this._years.push(a.map(r=>this._createCellForYear(r))),a=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){let i=e.value,t=this._dateAdapter.createDate(i,0,1),a=this._getDateFromYear(i);this.yearSelected.emit(t),this.selectedChange.emit(a)}_updateActiveDate(e){let i=e.value,t=this._activeDate;this.activeDate=this._getDateFromYear(i),this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let i=this._activeDate,t=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-ei);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ei);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Ke(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,z-Ke(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-z*10:-z);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?z*10:z);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return Ke(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){let i=this._dateAdapter.getMonth(this.activeDate),t=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),t))}_createCellForYear(e){let i=this._dateAdapter.createDate(e,0,1),t=this._dateAdapter.getYearName(i),a=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new qe(e,t,t,this._shouldEnableYear(e),a)}_shouldEnableYear(e){if(e==null||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let i=this._dateAdapter.createDate(e,0,1);for(let t=i;this._dateAdapter.getYear(t)==e;t=this._dateAdapter.addCalendarDays(t,1))if(this.dateFilter(t))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Z){let i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}static{this.\u0275fac=function(i){return new(i||n)(h(_e),h(oe,8),h(ft,8))}}static{this.\u0275cmp=ie({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(i,t){if(i&1&&$(Te,5),i&2){let a;B(a=N())&&(t._matCalendarBody=a.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],standalone:!0,features:[ue],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(i,t){i&1&&(s(0,"table",0)(1,"thead",1)(2,"tr"),f(3,"th",2),l()(),s(4,"tbody",3),w("selectedValueChange",function(r){return t._yearSelected(r)})("activeDateChange",function(r){return t._updateActiveDate(r)})("keyup",function(r){return t._handleCalendarBodyKeyup(r)})("keydown",function(r){return t._handleCalendarBodyKeydown(r)}),l()()),i&2&&(o(4),c("rows",t._years)("todayValue",t._todayYear)("startValue",t._selectedYear)("endValue",t._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",t._getActiveCell()))},dependencies:[Te],encapsulation:2,changeDetection:0})}}return n})();function nn(n,d,e,i,t){let a=n.getYear(d),r=n.getYear(e),g=rn(n,i,t);return Math.floor((a-g)/z)===Math.floor((r-g)/z)}function Ke(n,d,e,i){let t=n.getYear(d);return jr(t-rn(n,e,i),z)}function rn(n,d,e){let i=0;return e?i=n.getYear(e)-z+1:d&&(i=n.getYear(d)),i}function jr(n,d){return(n%d+d)%d}var en=(()=>{class n{get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate,t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){e instanceof Z?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}constructor(e,i,t,a){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=t,this._dir=a,this._rerenderSubscription=Ie.EMPTY,this.selectedChange=new F,this.monthSelected=new F,this.activeDateChange=new F,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ze(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){let i=e.value,t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(t);let a=this._getDateFromMonth(i);this.selectedChange.emit(a)}_updateActiveDate(e){let i=e.value,t=this._activeDate;this.activeDate=this._getDateFromMonth(i),this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let i=this._activeDate,t=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,t?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,t?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(t=>this._createCellForMonth(t,e[t]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){let i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),t=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),t))}_createCellForMonth(e,i){let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),a=this._dateAdapter.format(t,this._dateFormats.display.monthYearA11yLabel),r=this.dateClass?this.dateClass(t,"year"):void 0;return new qe(e,i.toLocaleUpperCase(),a,this._shouldEnableMonth(e),r)}_shouldEnableMonth(e){let i=this._dateAdapter.getYear(this.activeDate);if(e==null||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;let t=this._dateAdapter.createDate(i,e,1);for(let a=t;this._dateAdapter.getMonth(a)==e;a=this._dateAdapter.addCalendarDays(a,1))if(this.dateFilter(a))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){let t=this._dateAdapter.getYear(this.maxDate),a=this._dateAdapter.getMonth(this.maxDate);return e>t||e===t&&i>a}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){let t=this._dateAdapter.getYear(this.minDate),a=this._dateAdapter.getMonth(this.minDate);return e<t||e===t&&i<a}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(e){e instanceof Z?this._selectedMonth=this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._selectedMonth=this._getMonthInCurrentYear(e)}static{this.\u0275fac=function(i){return new(i||n)(h(_e),h(We,8),h(oe,8),h(ft,8))}}static{this.\u0275cmp=ie({type:n,selectors:[["mat-year-view"]],viewQuery:function(i,t){if(i&1&&$(Te,5),i&2){let a;B(a=N())&&(t._matCalendarBody=a.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],standalone:!0,features:[ue],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(i,t){i&1&&(s(0,"table",0)(1,"thead",1)(2,"tr"),f(3,"th",2),l()(),s(4,"tbody",3),w("selectedValueChange",function(r){return t._monthSelected(r)})("activeDateChange",function(r){return t._updateActiveDate(r)})("keyup",function(r){return t._handleCalendarBodyKeyup(r)})("keydown",function(r){return t._handleCalendarBodyKeydown(r)}),l()()),i&2&&(o(4),c("label",t._yearLabel)("rows",t._months)("todayValue",t._todayMonth)("startValue",t._selectedMonth)("endValue",t._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",t._dateAdapter.getMonth(t.activeDate)))},dependencies:[Te],encapsulation:2,changeDetection:0})}}return n})(),Pr=1,sn=(()=>{class n{constructor(e,i,t,a,r){this._intl=e,this.calendar=i,this._dateAdapter=t,this._dateFormats=a,this._id=`mat-calendar-header-${Pr++}`,this._periodButtonLabelId=`${this._id}-period-label`,this.calendar.stateChanges.subscribe(()=>r.markForCheck())}get periodButtonText(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return this.calendar.currentView=="month"?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-z)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:z)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return this.calendar.currentView=="month"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):this.calendar.currentView=="year"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):nn(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let i=this._dateAdapter.getYear(this.calendar.activeDate)-Ke(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),t=i+z-1,a=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),r=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1));return[a,r]}static{this.\u0275fac=function(i){return new(i||n)(h(Qe),h(Ai(()=>ti)),h(oe,8),h(We,8),h(_e))}}static{this.\u0275cmp=ie({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],standalone:!0,features:[ue],ngContentSelectors:Cr,decls:13,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],[1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"]],template:function(i,t){i&1&&(Et(),s(0,"div",0)(1,"div",1)(2,"label",2),m(3),l(),s(4,"button",3),w("click",function(){return t.currentPeriodClicked()}),s(5,"span",4),m(6),l(),Ne(),s(7,"svg",5),f(8,"polygon",6),l()(),Fi(),f(9,"div",7),Rt(10),s(11,"button",8),w("click",function(){return t.previousClicked()}),l(),s(12,"button",9),w("click",function(){return t.nextClicked()}),l()()()),i&2&&(o(2),c("id",t._periodButtonLabelId),o(),V(t.periodButtonDescription),o(),ae("aria-label",t.periodButtonLabel)("aria-describedby",t._periodButtonLabelId),o(2),V(t.periodButtonText),o(),fe("mat-calendar-invert",t.calendar.currentView!=="month"),o(4),c("disabled",!t.previousEnabled()),ae("aria-label",t.prevButtonLabel),o(),c("disabled",!t.nextEnabled()),ae("aria-label",t.nextButtonLabel))},dependencies:[Nt,Ht],encapsulation:2,changeDetection:0})}}return n})(),ti=(()=>{class n{get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){e instanceof Z?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){let i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}constructor(e,i,t,a){this._dateAdapter=i,this._dateFormats=t,this._changeDetectorRef=a,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new F,this.yearSelected=new F,this.monthSelected=new F,this.viewChanged=new F(!0),this._userSelection=new F,this._userDragDrop=new F,this._activeDrag=null,this.stateChanges=new Be,this._intlChanges=e.changes.subscribe(()=>{a.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new Ca(this.headerComponent||sn),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){let i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,t=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,a=i||t||e.dateFilter;if(a&&!a.firstChange){let r=this._getCurrentViewComponent();r&&(this._changeDetectorRef.detectChanges(),r._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){let i=e.value;(this.selected instanceof Z||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static{this.\u0275fac=function(i){return new(i||n)(h(Qe),h(oe,8),h(We,8),h(_e))}}static{this.\u0275cmp=ie({type:n,selectors:[["mat-calendar"]],viewQuery:function(i,t){if(i&1&&($(Za,5),$(en,5),$(Ja,5)),i&2){let a;B(a=N())&&(t.monthView=a.first),B(a=N())&&(t.yearView=a.first),B(a=N())&&(t.multiYearView=a.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],standalone:!0,features:[Ti([Gr]),Fe,ue],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(i,t){if(i&1&&(S(0,Ar,0,0,"ng-template",0),s(1,"div",1),S(2,Sr,1,11)(3,Ir,1,6)(4,Fr,1,6),l()),i&2){let a;c("cdkPortalOutlet",t._calendarHeaderPortal),o(2),Ye(2,(a=t.currentView)==="month"?2:a==="year"?3:a==="multi-year"?4:-1)}},dependencies:[Yt,pa,Za,en,Ja],styles:['.mat-calendar{display:block;font-family:var(--mat-datepicker-calendar-text-font);font-size:var(--mat-datepicker-calendar-text-size)}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size);font-weight:var(--mat-datepicker-calendar-period-button-text-weight);--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color)}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color)}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color)}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color);font-size:var(--mat-datepicker-calendar-header-text-size);font-weight:var(--mat-datepicker-calendar-header-text-weight)}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return n})(),tn={transformPanel:Ee("transformPanel",[ye("void => enter-dropdown",Ce("120ms cubic-bezier(0, 0, 0.2, 1)",Tt([ne({opacity:0,transform:"scale(1, 0.8)"}),ne({opacity:1,transform:"scale(1, 1)"})]))),ye("void => enter-dialog",Ce("150ms cubic-bezier(0, 0, 0.2, 1)",Tt([ne({opacity:0,transform:"scale(0.7)"}),ne({transform:"none",opacity:1})]))),ye("* => void",Ce("100ms linear",ne({opacity:0})))]),fadeInCalendar:Ee("fadeInCalendar",[Lt("void",ne({opacity:0})),Lt("enter",ne({opacity:1})),ye("void => *",Ce("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};var Br=new It("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let n=Ft(Ut);return()=>n.scrollStrategies.reposition()}});function Nr(n){return()=>n.scrollStrategies.reposition()}var Hr={provide:Br,deps:[Ut],useFactory:Nr},Yr=(()=>{class n{constructor(e,i,t,a,r,g){this._elementRef=e,this._changeDetectorRef=i,this._globalModel=t,this._dateAdapter=a,this._rangeSelectionStrategy=r,this._subscriptions=new Ie,this._animationDone=new Be,this._isAnimating=!1,this._actionsPortal=null,this._closeButtonText=g.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){let i=this._model.selection,t=e.value,a=i instanceof Z;if(a&&this._rangeSelectionStrategy){let r=this._rangeSelectionStrategy.selectionFinished(t,i,e.event);this._model.updateSelection(r,this)}else t&&(a||!this._dateAdapter.sameDate(t,i))&&this._model.add(t);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_handleAnimationEvent(e){this._isAnimating=e.phaseName==="start",this._isAnimating||this._animationDone.next()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}static{this.\u0275fac=function(i){return new(i||n)(h(de),h(_e),h(yt),h(oe),h(an,8),h(Qe))}}static{this.\u0275cmp=ie({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(i,t){if(i&1&&$(ti,5),i&2){let a;B(a=N())&&(t._calendar=a.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:5,hostBindings:function(i,t){i&1&&Vi("@transformPanel.start",function(r){return t._handleAnimationEvent(r)})("@transformPanel.done",function(r){return t._handleAnimationEvent(r)}),i&2&&(Ri("@transformPanel",t._animationState),Mt(t.color?"mat-"+t.color:""),fe("mat-datepicker-content-touch",t.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],standalone:!0,features:[ue],decls:5,vars:27,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(i,t){if(i&1&&(s(0,"div",0)(1,"mat-calendar",1),w("yearSelected",function(r){return t.datepicker._selectYear(r)})("monthSelected",function(r){return t.datepicker._selectMonth(r)})("viewChanged",function(r){return t.datepicker._viewChanged(r)})("_userSelection",function(r){return t._handleUserSelection(r)})("_userDragDrop",function(r){return t._handleUserDragDrop(r)}),l(),S(2,kr,0,0,"ng-template",2),s(3,"button",3),w("focus",function(){return t._closeButtonFocused=!0})("blur",function(){return t._closeButtonFocused=!1})("click",function(){return t.datepicker.close()}),m(4),l()()),i&2){let a;fe("mat-datepicker-content-container-with-custom-header",t.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",t._actionsPortal),ae("aria-modal",!0)("aria-labelledby",(a=t._dialogLabelId)!==null&&a!==void 0?a:void 0),o(),Mt(t.datepicker.panelClass),c("id",t.datepicker.id)("startAt",t.datepicker.startAt)("startView",t.datepicker.startView)("minDate",t.datepicker._getMinDate())("maxDate",t.datepicker._getMaxDate())("dateFilter",t.datepicker._getDateFilter())("headerComponent",t.datepicker.calendarHeaderComponent)("selected",t._getSelected())("dateClass",t.datepicker.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)("@fadeInCalendar","enter")("startDateAccessibleName",t.startDateAccessibleName)("endDateAccessibleName",t.endDateAccessibleName),o(),c("cdkPortalOutlet",t._actionsPortal),o(),fe("cdk-visually-hidden",!t._closeButtonFocused),c("color",t.color||"primary"),o(),V(t._closeButtonText)}},dependencies:[ha,ti,Yt,Nt],styles:[".mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color);color:var(--mat-datepicker-calendar-container-text-color);box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-shape)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow);border-radius:var(--mat-datepicker-calendar-container-touch-shape);position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[tn.transformPanel,tn.fadeInCalendar]},changeDetection:0})}}return n})();var Ur=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=we({type:n,selectors:[["","matDatepickerToggleIcon",""]],standalone:!0})}}return n})(),$r=(()=>{class n{get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=e}constructor(e,i,t){this._intl=e,this._changeDetectorRef=i,this._stateChanges=Ie.EMPTY;let a=Number(t);this.tabIndex=a||a===0?a:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){let e=this.datepicker?this.datepicker.stateChanges:he(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:he(),t=this.datepicker?Ct(this.datepicker.openedStream,this.datepicker.closedStream):he();this._stateChanges.unsubscribe(),this._stateChanges=Ct(this._intl.changes,e,i,t).subscribe(()=>this._changeDetectorRef.markForCheck())}static{this.\u0275fac=function(i){return new(i||n)(h(Qe),h(_e),ki("tabindex"))}}static{this.\u0275cmp=ie({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(i,t,a){if(i&1&&Li(a,Ur,5),i&2){let r;B(r=N())&&(t._customIcon=r.first)}},viewQuery:function(i,t){if(i&1&&$(Mr,5),i&2){let a;B(a=N())&&(t._button=a.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(i,t){i&1&&w("click",function(r){return t._open(r)}),i&2&&(ae("tabindex",null)("data-mat-calendar",t.datepicker?t.datepicker.id:null),fe("mat-datepicker-toggle-active",t.datepicker&&t.datepicker.opened)("mat-accent",t.datepicker&&t.datepicker.color==="accent")("mat-warn",t.datepicker&&t.datepicker.color==="warn"))},inputs:{datepicker:[pe.None,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[pe.None,"aria-label","ariaLabel"],disabled:[pe.HasDecoratorInputTransform,"disabled","disabled",ji],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],standalone:!0,features:[Ei,Fe,ue],ngContentSelectors:Rr,decls:4,vars:6,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(i,t){i&1&&(Et(Er),s(0,"button",1,0),S(2,Vr,2,0,":svg:svg",2),Rt(3),l()),i&2&&(c("disabled",t.disabled)("disableRipple",t.disableRipple),ae("aria-haspopup",t.datepicker?"dialog":null)("aria-label",t.ariaLabel||t._intl.openCalendarLabel)("tabindex",t.disabled?-1:t.tabIndex),o(2),Ye(2,t._customIcon?-1:2))},dependencies:[Ht],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color)}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color)}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0})}}return n})();var on=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=j({type:n})}static{this.\u0275inj=G({providers:[Qe,Hr],imports:[dt,_t,Sa,fa,Aa,xa,Yr,$r,sn,wa]})}}return n})();var rl=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=j({type:n})}static{this.\u0275inj=G({imports:[dt,Ua,qa,Ba,ca,ga,Na,Fa,_t,va,Da,ba,on,ya,Ia]})}}return n})();export{rl as PosterModule};
