import './polyfills.server.mjs';
import{a as n}from"./chunk-BYMCGR4G.mjs";import{a as u}from"./chunk-IKPEBCM7.mjs";import{a as l}from"./chunk-662JNBOM.mjs";import{Kb as c,e as a,p as s,s as i}from"./chunk-GKTD5S5R.mjs";import{h as f}from"./chunk-VVCT4QZE.mjs";var j=(()=>{class t{constructor(r,e,o){this.authService=r,this.router=e,this.platformService=o}canActivate(r,e){return f(this,null,function*(){return this.platformService.isBrowser()?this.authService.isAuthenticated()?!0:(this.router.navigate(["/auth/login"],{queryParams:{returnUrl:e.url}}),!1):!!this.authService.isAuthenticated()})}static{this.\u0275fac=function(e){return new(e||t)(i(n),i(c),i(u))}}static{this.\u0275prov=s({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var I=(()=>{class t{constructor(r,e,o,h){this.authService=r,this.router=e,this.platformService=o,this.cookieService=h}canActivate(r,e){let o=r.data.role||[];if(this.platformService.isBrowser())return this.authService.isAuthenticated()?this.authService.hasRole(o)?a(!0):(this.router.navigate(["/broken-pages"]),a(!1)):(this.router.navigate(["/auth/login"]),a(!1));{if(!this.authService.isAuthenticated())return a(!1);let m=this.authService.hasRole(o);return a(m)}}static{this.\u0275fac=function(e){return new(e||t)(i(n),i(c),i(u),i(l))}}static{this.\u0275prov=s({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();export{j as a,I as b};
