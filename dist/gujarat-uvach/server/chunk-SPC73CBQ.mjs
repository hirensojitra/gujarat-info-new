import './polyfills.server.mjs';
import{a as S}from"./chunk-QJKMKNYE.mjs";import"./chunk-DGFRUFEO.mjs";import"./chunk-G5X2RPFQ.mjs";import{a as _}from"./chunk-6HKGFU7A.mjs";import{g as q,q as T}from"./chunk-F7GS4BME.mjs";import{c as C,d as g,f as M,g as x,k,o as E,r as R,w as N,x as j,y as I}from"./chunk-YFFLF2UJ.mjs";import"./chunk-FE2KR4FI.mjs";import"./chunk-BHXUZULZ.mjs";import{A as u,Ca as w,Cb as b,G as h,H as c,Ka as s,Ua as v,da as m,ea as d,ec as y,fc as P,gc as f,qa as l,tb as F,wa as r,xa as a,ya as p}from"./chunk-S2DNEDKE.mjs";import"./chunk-VVCT4QZE.mjs";var L=t=>({"is-invalid":t}),D=(()=>{class t{constructor(o,e,i,n){this.fb=o,this.authService=e,this.toast=i,this.router=n,this.forgotPasswordForm=this.fb.group({email:["",[g.required,g.email]]})}ngOnInit(){}submitRequest(){if(this.forgotPasswordForm.valid){let o=this.forgotPasswordForm.get("email")?.value;this.authService.requestPasswordReset(o).subscribe(e=>{e.success?(this.toast.show("Password reset link sent to your email.",{class:"bg-success"}),this.router.navigate(["/auth/login"])):this.toast.show(e.error,{class:"bg-danger"})},e=>{console.error("Error requesting password reset:",e),this.toast.show("Error occurred while processing your request.",{class:"bg-danger"})})}else this.markFormGroupTouched(this.forgotPasswordForm)}markFormGroupTouched(o){Object.keys(o.controls).forEach(e=>{o.controls[e].markAsTouched()})}static{this.\u0275fac=function(e){return new(e||t)(d(N),d(S),d(_),d(y))}}static{this.\u0275cmp=h({type:t,selectors:[["app-forgot-password"]],decls:22,vars:6,consts:[[1,"container","d-flex","align-items-center","justify-content-center","min-vh-100"],[1,"card","shadow","p-4",2,"width","400px","border-radius","15px"],[1,"text-center","mb-4"],["src","assets/images/svg/logo.svg","alt","logo",2,"width","60px"],[1,"mt-3"],[3,"ngSubmit","formGroup"],[1,"form-group","mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],["type","submit",1,"btn","btn-dark","w-100",3,"disabled"],[1,"text-center","mt-3"],[1,"text-decoration-none",3,"routerLink"]],template:function(e,i){if(e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),p(3,"img",3),r(4,"h4",4),s(5,"Forgot Password"),a(),r(6,"p"),s(7,"Enter your registered email address to reset your password."),a()(),r(8,"form",5),w("ngSubmit",function(){return i.submitRequest()}),r(9,"div",6)(10,"label",7),s(11,"E-Mail Address"),a(),p(12,"input",8),r(13,"div",9),s(14,"Please enter a valid email."),a()(),r(15,"button",10),s(16,"Send Reset Link"),a()(),r(17,"div",11)(18,"p"),s(19,"Remember your password? "),r(20,"a",12),s(21,"Sign In"),a()()()()()),e&2){let n;m(8),l("formGroup",i.forgotPasswordForm),m(4),l("ngClass",v(4,L,((n=i.forgotPasswordForm.get("email"))==null?null:n.invalid)&&((n=i.forgotPasswordForm.get("email"))==null?null:n.touched))),m(3),l("disabled",i.forgotPasswordForm.invalid),m(5),l("routerLink","/auth/login")}},dependencies:[F,P,k,C,M,x,E,R,q]})}}return t})();var V=[{path:"",component:D,data:{title:"Forgot Password",description:"Reset your password using email",keywords:"Forgot password, reset password",robots:"noindex, nofollow"}}],G=(()=>{class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275mod=c({type:t})}static{this.\u0275inj=u({imports:[f.forChild(V),f]})}}return t})();var ie=(()=>{class t{static{this.\u0275fac=function(e){return new(e||t)}}static{this.\u0275mod=c({type:t})}static{this.\u0275inj=u({imports:[b,G,j,I,T]})}}return t})();export{ie as ForgotPasswordModule};
