import './polyfills.server.mjs';
import{g as T,r as _}from"./chunk-QEZXZY2B.mjs";import{a as S}from"./chunk-JBQALSAD.mjs";import"./chunk-AJBY5M5H.mjs";import{a as q}from"./chunk-PQHBR4RA.mjs";import"./chunk-ZOSFQCFM.mjs";import{c as C,d as g,f as M,g as k,k as E,o as R,r as x,x as N,y as j,z as I}from"./chunk-DXF4L3C7.mjs";import"./chunk-D7IAKCP3.mjs";import{A as f,y,z as P}from"./chunk-W6Z6YZO4.mjs";import{Bb as d,Lb as r,Mb as a,Nb as p,Sb as w,cc as s,dd as F,ha as u,hb as m,ib as l,mc as v,od as b,ra as h,sa as c}from"./chunk-MA44MDZG.mjs";import"./chunk-VVCT4QZE.mjs";var L=e=>({"is-invalid":e}),D=(()=>{class e{constructor(o,t,i,n){this.fb=o,this.authService=t,this.toast=i,this.router=n,this.forgotPasswordForm=this.fb.group({email:["",[g.required,g.email]]})}ngOnInit(){}submitRequest(){if(this.forgotPasswordForm.valid){let o=this.forgotPasswordForm.get("email")?.value;this.authService.requestPasswordReset(o).subscribe(t=>{t.success?(this.toast.show("Password reset link sent to your email.",{class:"bg-success"}),this.router.navigate(["/auth/login"])):this.toast.show(t.error,{class:"bg-danger"})},t=>{console.error("Error requesting password reset:",t),this.toast.show("Error occurred while processing your request.",{class:"bg-danger"})})}else this.markFormGroupTouched(this.forgotPasswordForm)}markFormGroupTouched(o){Object.keys(o.controls).forEach(t=>{o.controls[t].markAsTouched()})}static{this.\u0275fac=function(t){return new(t||e)(l(N),l(S),l(q),l(y))}}static{this.\u0275cmp=h({type:e,selectors:[["app-forgot-password"]],decls:20,vars:6,consts:[[1,"text-center","mb-4"],["src","assets/images/svg/logo.svg","alt","logo",2,"width","60px"],[1,"mt-3"],[3,"ngSubmit","formGroup"],[1,"form-group","mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],["type","submit",1,"btn","btn-dark","w-100",3,"disabled"],[1,"text-center","mt-3"],[1,"text-decoration-none",3,"routerLink"]],template:function(t,i){if(t&1&&(r(0,"div",0),p(1,"img",1),r(2,"h4",2),s(3,"Forgot Password"),a(),r(4,"p"),s(5,"Enter your registered email address to reset your password."),a()(),r(6,"form",3),w("ngSubmit",function(){return i.submitRequest()}),r(7,"div",4)(8,"label",5),s(9,"E-Mail Address"),a(),p(10,"input",6),r(11,"div",7),s(12,"Please enter a valid email."),a()(),r(13,"button",8),s(14,"Send Reset Link"),a()(),r(15,"div",9)(16,"p"),s(17,"Remember your password? "),r(18,"a",10),s(19,"Sign In"),a()()()),t&2){let n;m(6),d("formGroup",i.forgotPasswordForm),m(4),d("ngClass",v(4,L,((n=i.forgotPasswordForm.get("email"))==null?null:n.invalid)&&((n=i.forgotPasswordForm.get("email"))==null?null:n.touched))),m(3),d("disabled",i.forgotPasswordForm.invalid),m(5),d("routerLink","/auth/login")}},dependencies:[F,P,E,C,M,k,R,x,T]})}}return e})();var V=[{path:"",component:D,data:{title:"Forgot Password",description:"Reset your password using email",keywords:"Forgot password, reset password",robots:"noindex, nofollow"}}],G=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275mod=c({type:e})}static{this.\u0275inj=u({imports:[f.forChild(V),f]})}}return e})();var it=(()=>{class e{static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275mod=c({type:e})}static{this.\u0275inj=u({imports:[b,G,j,I,_]})}}return e})();export{it as ForgotPasswordModule};
