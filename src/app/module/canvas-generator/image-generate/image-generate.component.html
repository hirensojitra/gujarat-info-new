<form class="container-fluid p-0 h-100 d-flex flex-column" [formGroup]="postDetailsForm" *ngIf="postDetailsForm" (ngSubmit)="onSubmit()">
    <div class="d-flex align-items-center w-100 p-3 shadow border-bottom">
        <div class="form-group d-flex">
            <div class="form-label d-none">Name</div>
            <label for="title" class="me-2 h4 m-0"><i class="fa fa-edit"></i></label>
            <input type="text" id="title" class="h4 m-0 border-0 border-secondary w-auto max-w-200-px" formControlName="title" placeholder="Enter Image Name">
        </div>
        <div class="ms-auto text-nowrap d-flex">
            <button class="btn btn-success ms-2" title="Save"><i class="fa fa-save"></i></button>
            <button class="btn btn-success ms-2" *ngIf="postDetailsForm.get('id')?.value" type="button" (click)="onSubmit(true)" title="Copy"><i class="fa fa-copy"></i></button>
            <button class="btn btn-danger ms-2" type="button" title="Cancel"><i class="fa fa-close"></i></button>
            <button class="btn btn-danger ms-2" type="button" title="Delete" *ngIf="postDetailsForm.get('id')?.value" (click)="confirmDelete.show()"><i class="fa fa-trash"></i></button>
        </div>
    </div>
    <div class="d-flex align-items-center w-100 flex-grow-1 flex-column position-relative">
        <div class="w-100 h-100 posistion-absolute overflow-y-auto">
            <div class="row d-flex h-100 g-0 g-md-3">
                <div class="col-md-6 col-lg-7 py-3 position-relative min-h-180-px">
                    <div class="position-absolute w-100 overflow-hidden start-0 top-0 bg-light p-3 svg-container" (touchmove)="onTouch($event)">
                        <!-- <svg version="2" xmlns="https://www.w3.org/2000/svg" svgProcessor class="svg-content max-w-100-p max-h-100-p img-fluid mx-auto d-block" preserveAspectRatio="xMidYMid meet" [style.transform]="'scale(' + scaleFactor + ')'" (dataChanges)="updateValue($event)" (getSelected)="getSelected($event);centerActiveButton()" [postDataSet]="postDetailsForm.value"></svg> -->
                        <svg version="2" xmlns="https://www.w3.org/2000/svg" class="svg-content max-w-100-p max-h-100-p img-fluid mx-auto d-block" preserveAspectRatio="xMidYMid meet" [style.transform]="'scale(' + scaleFactor + ')'" (dataChanges)="updateValue($event)" (getSelected)="getSelected($event);" svgDraw [postDataSet]="postDetailsForm.value"></svg>
                        <!-- <svg version="2" xmlns="https://www.w3.org/2000/svg" class="svg-content max-w-100-p max-h-100-p img-fluid mx-auto d-block" preserveAspectRatio="xMidYMid meet" [style.transform]="'scale(' + scaleFactor + ')'" [svgDraw]="postDetailsForm.value" (dataChanges)="updateValue($event)" (getSelected)="getSelected($event);centerActiveButton()"></svg> -->
                    </div>
                </div>
                <div class="col-md-6 col-lg-5 d-flex flex-column position-relative py-none py-md-3">
                    <div class="flex-grow-1 position-relative mb-2">
                        <div class="position-absolute w-100 px-3 overflow-auto h-100 py-none py-md-3">
                            <div class="row g-3" [class.d-none]="selectedElement==postDetails.data.length">
                                <input type="hidden" id="id" class="form-control" formControlName="id">
                                <input type="hidden" id="deleted" class="form-control" formControlName="deleted">
                                <div class="form-group col-12" [class.d-none]="selectedElement!==-1">
                                    <label for="info" class="form-label">Info</label>
                                    <textarea id="info" class="form-control" formControlName="info"></textarea>
                                </div>
                                <div class="form-group col-12" [class.d-none]="selectedElement!==-1">
                                    <label class="form-label">Personal Info</label>
                                    <input class="form-check-input" type="checkbox" formControlName="info_show">
                                </div>
                                <div class="form-group col-6" [class.d-none]="selectedElement!==-1">
                                    <label for="h" class="form-label">Height</label>
                                    <input type="text" id="h" class="form-control" formControlName="h">
                                </div>
                                <div class="form-group col-6" [class.d-none]="selectedElement!==-1">
                                    <label for="w" class="form-label">Width</label>
                                    <input type="text" id="w" class="form-control" formControlName="w">
                                </div>
                                <div class="form-group col-12" [class.d-none]="selectedElement!==-1">
                                    <label for="backgroundurl" class="form-label">Background URL</label>
                                    <input type="text" id="backgroundurl" class="form-control" formControlName="backgroundurl">
                                </div>
                                <div formArrayName="data" class="col-12">
                                    <!-- Use ngFor to iterate over each element in the data form array -->
                                    <div *ngFor="let item of dataArray.controls; let i = index" class="row g-3" [class.d-none]="selectedElement!==i">
                                        <ng-container [formGroupName]="i">
                                            <div class="form-group col-12" [class.d-none]="!getActiveControl(i,'control')">
                                                <label class="form-label">Title</label>
                                                <input type="text" class="form-control" formControlName="title">
                                            </div>
                                            <div class="col-8 d-flex" [class.d-none]="!getActiveControl(i,'control')">
                                                <div class="form-check form-switch">
                                                    <input class="form-check-input" type="checkbox" [id]="'boxed-'+i" formControlName="boxed">
                                                    <label class="form-check-label" [for]="'boxed-'+i">Boxed</label>
                                                </div>
                                                <div class="form-check form-switch  ms-4">
                                                    <input class="form-check-input" type="checkbox" [id]="'can-edit-'+i" formControlName="editable">
                                                    <label class="form-check-label" [for]="'can-edit-'+i">Can
                                                        Edit</label>
                                                </div>
                                            </div>
                                            <div class="col-4 d-flex" [class.d-none]="!getActiveControl(i,'control')">
                                                <button class="btn btn-sm btn-danger ms-auto" type="button" (click)="removeData(i)"><i class="fa fa-trash"></i></button>
                                            </div>
                                            <div class="form-group col-12 col-md-6 offset-0 offset-md-3" [class.d-none]="!getActiveControl(i,'position')">
                                                <div class="row g-3">
                                                    <div class="col-6">
                                                        <button class="btn btn-flat d-flex align-items-center text-decoration-none text-dark d-block rounded-2 border-dark border-1 border p-2 w-100" type="button" (click)="i>0&&moveDown(i)" [class.disabled]="i==0">
                                                            <i class="fa fa-x-layer-backward fa-2x me-2"></i> Backward
                                                        </button>
                                                    </div>
                                                    <div class="col-6">
                                                        <button class="btn btn-flat d-flex align-items-center text-decoration-none text-dark d-block rounded-2 border-dark border-1 border p-2 w-100" type="button" (click)="i<dataArray.controls.length-1&&moveUp(i)" [class.disabled]="i==dataArray.controls.length-1">
                                                            <i class="fa fa-x-layer-forward fa-2x me-2"></i> Forward
                                                        </button>
                                                    </div>
                                                    <div class="col-6">
                                                        <button class="btn btn-flat d-flex align-items-center text-decoration-none text-dark d-block rounded-2 border-dark border-1 border p-2 w-100" type="button" (click)="i>0&&moveToBack(i)" [class.disabled]="i==0">
                                                            <i class="fa fa-x-back fa-2x me-2"></i> To Back
                                                        </button>
                                                    </div>
                                                    <div class="col-6">
                                                        <button class="btn btn-flat d-flex align-items-center text-decoration-none text-dark d-block rounded-2 border-dark border-1 border p-2 w-100" type="button" (click)="i<dataArray.controls.length-1&&moveToTop(i)" [class.disabled]="i==dataArray.controls.length-1">
                                                            <i class="fa fa-x-front fa-2x me-2"></i> To Top
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <ng-container formGroupName="rect" *ngIf="item.get('rect')">
                                                <div class="row g-3" [class.d-none]="!getActiveControl(i,'position')">
                                                    <div class="form-group col-6">
                                                        <label for="x" class="form-label">X</label>
                                                        <input type="text" id="x" class="form-control" formControlName="x">
                                                    </div>
                                                    <div class="form-group col-6">
                                                        <label for="y" class="form-label">Y</label>
                                                        <input type="text" id="y" class="form-control" formControlName="y">
                                                    </div>
                                                </div>
                                                <div class="row g-3" [class.d-none]="!getActiveControl(i,'dimension')">
                                                    <div class="form-group col-6">
                                                        <label for="width" class="form-label">Width</label>
                                                        <input type="text" id="width" class="form-control" formControlName="width">
                                                    </div>
                                                    <div class="form-group col-6">
                                                        <label for="height" class="form-label">Height</label>
                                                        <input type="text" id="height" class="form-control" formControlName="height">
                                                    </div>
                                                </div>
                                                <div class="row g-3" [class.d-none]="!getActiveControl(i,'fill')">
                                                    <div class="col-12 form-group">
                                                        <label class="form-label d-block">Fill</label>
                                                        <color-picker [colorSet]="colorSet" [getActiveControl]="getActiveControl" formControlName="fill"></color-picker>
                                                    </div>
                                                    <div class="form-group col-12">
                                                        <label [for]="'fillOpacity'+i" class="form-label">Opacity</label>
                                                        <input type="range" [id]="'fillOpacity'+i" class="form-range" min="0" max="1" step="0.01" formControlName="fillOpacity">
                                                    </div>
                                                </div>
                                                <div class="row g-3" [class.d-none]="!getActiveControl(i,'opacity')">
                                                    <div class="form-group col-12">
                                                        <label [for]="'opacity'+i" class="form-label">Opacity</label>
                                                        <input type="range" [id]="'opacity'+i" class="form-range" min="0" max="1" step="0.01" formControlName="opacity">
                                                    </div>
                                                </div>
                                                <div class="row g-3" [class.d-none]="!getActiveControl(i,'origin')">
                                                    <div class="form-group col-12">
                                                        <label for="originX" class="form-label">Origin X</label>
                                                        <input type="text" id="originX" class="form-control" formControlName="originX">
                                                    </div>
                                                    <div class="form-group col-12">
                                                        <label for="originY" class="form-label">Origin Y</label>
                                                        <input type="text" id="originY" class="form-control" formControlName="originY">
                                                    </div>
                                                </div>
                                                <div class="row g-3" [class.d-none]="!getActiveControl(i,'rotate')">
                                                    <div class="form-group col-6">
                                                        <label [for]="'rotate'+i" class="form-label">Rotate</label>
                                                        <input type="range" [id]="'rotate'+i" class="form-range" min="0" max="360" step="1" formControlName="rotate">
                                                    </div>
                                                </div>
                                                <!-- Border Properties -->
                                                <div class="row g-3" [class.d-none]="!getActiveControl(i,'border')">
                                                    <div class="form-group col-12">
                                                        <label [for]="'stroke'+i" class="form-label">Stroke</label>
                                                        <color-picker [colorSet]="colorSet" [getActiveControl]="getActiveControl" formControlName="stroke"></color-picker>
                                                    </div>
                                                    <div class="form-group col-6">
                                                        <label [for]="'strokeWidth'+i" class="form-label">Stroke Width</label>
                                                        <input type="text" [id]="'strokeWidth'+i" class="form-control" formControlName="strokeWidth">
                                                    </div>
                                                    <div class="form-group col-6">
                                                        <label [for]="'rx-'+i" class="form-label">RX({{item.get('rect')?.get('rx')?.value}})</label>
                                                        <input type="range" [id]="'rx-'+i" class="form-range" min="0" [max]="item.get('rect')?.get('width')?.value" step="0.01" formControlName="rx">
                                                    </div>
                                                    <div class="form-group col-6">
                                                        <label [for]="'ry-'+i" class="form-label">RY</label>
                                                        <input type="range" [id]="'ry-'+i" class="form-range" min="0" [max]="item.get('rect')?.get('height')?.value" step="0.01" formControlName="ry">
                                                    </div>
                                                    <div class="form-group col-6">
                                                        <label [for]="'strokeOpacity'+i" class="form-label">Opacity</label>
                                                        <input type="range" [id]="'strokeOpacity'+i" class="form-range" min="0" max="1" step="0.01" formControlName="strokeOpacity">
                                                    </div>
                                                    <div class="form-group col-6">
                                                        <label [for]="'strokeAlignment'+i" class="form-label">Stroke Width</label>
                                                        <select [id]="'strokeAlignment'+i" class="form-select" formControlName="strokeAlignment">
                                                            <option value="inside">Inside</option>
                                                            <option value="outside">Outside</option>
                                                            <option value="center">Center</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </ng-container>

                                            <ng-container formGroupName="circle" *ngIf="item.get('circle')">
                                                <div class="form-group col-6" [class.d-none]="!getActiveControl(i,'position')">
                                                    <label for="cx" class="form-label">CX</label>
                                                    <input type="text" id="cx" class="form-control" formControlName="cx">
                                                </div>
                                                <div class="form-group col-6" [class.d-none]="!getActiveControl(i,'position')">
                                                    <label for="cy" class="form-label">CY</label>
                                                    <input type="text" id="cy" class="form-control" formControlName="cy">
                                                </div>
                                                <div class="form-group col-6" [class.d-none]="!getActiveControl(i,'dimension')">
                                                    <label for="r" class="form-label">Size</label>
                                                    <input type="range" class="form-range" min="0" max="1024" step="0.5" formControlName="r">
                                                </div>
                                                <div class="col-12" [class.d-none]="!getActiveControl(i,'fill')">
                                                    <div class="form-group">
                                                        <label class="form-label d-block">Fill</label>
                                                        <color-picker [colorSet]="colorSet" [getActiveControl]="getActiveControl" formControlName="fill"></color-picker>
                                                    </div>
                                                </div>
                                                <div class="form-group col-6" [class.d-none]="!getActiveControl(i,'fill')">
                                                    <label [for]="'fillOpacity-'+i" class="form-label">Opacity</label>
                                                    <input type="range" [id]="'fillOpacity-'+i" class="form-range" min="0" max="1" step="0.01" formControlName="fillOpacity">
                                                </div>
                                                <div class="form-group col-6" [class.d-none]="!getActiveControl(i,'opacity')">
                                                    <label [for]="'opacity'+i" class="form-label">Opacity</label>
                                                    <input type="range" [id]="'opacity'+i" class="form-range" min="0" max="1" step="0.01" formControlName="opacity">
                                                </div>
                                                <div class="form-group col-6" [class.d-none]="!getActiveControl(i,'origin')">
                                                    <label for="originX" class="form-label">Origin X</label>
                                                    <input type="text" id="originX" class="form-control" formControlName="originX">
                                                </div>
                                                <div class="form-group col-6" [class.d-none]="!getActiveControl(i,'origin')">
                                                    <label for="originY" class="form-label">Origin Y</label>
                                                    <input type="text" id="originY" class="form-control" formControlName="originY">
                                                </div>
                                                <!-- Stroke Properties -->
                                                <div class="form-group col-12" [class.d-none]="!getActiveControl(i,'border')">
                                                    <label [for]="'stroke'+i" class="form-label">Color</label>
                                                    <color-picker [colorSet]="colorSet" [getActiveControl]="getActiveControl" formControlName="stroke"></color-picker>
                                                </div>
                                                <div class="form-group col-6" [class.d-none]="!getActiveControl(i,'border')">
                                                    <label [for]="'strokeWidth-'+i" class="form-label">Width</label>
                                                    <input type="range" [id]="'strokeWidth-'+i" class="form-range" min="0" [max]="item.get('circle')?.get('r')?.value" step="0.1" formControlName="strokeWidth">
                                                </div>
                                                <div class="form-group col-6" [class.d-none]="!getActiveControl(i,'border')">
                                                    <label [for]="'strokeOpacity'+i" class="form-label">Opacity</label>
                                                    <input type="range" [id]="'strokeOpacity'+i" class="form-range" min="0" max="1" step="0.01" formControlName="strokeOpacity">
                                                </div>
                                                <div class="form-group col-6" [class.d-none]="!getActiveControl(i,'border')">
                                                    <label [for]="'strokeAlignment'+i" class="form-label">Width</label>
                                                    <select [id]="'strokeAlignment'+i" class="form-select" formControlName="strokeAlignment">
                                                        <option value="inside">Inside</option>
                                                        <option value="outside">Outside</option>
                                                        <option value="center">Center</option>
                                                    </select>
                                                </div>
                                            </ng-container>

                                            <ng-container formGroupName="ellipse" *ngIf="item.get('ellipse')">
                                                <div class="form-group col-6">
                                                    <label for="cx" class="form-label">CX</label>
                                                    <input type="text" id="cx" class="form-control" formControlName="cx">
                                                </div>
                                                <div class="form-group col-6">
                                                    <label for="cy" class="form-label">CY</label>
                                                    <input type="text" id="cy" class="form-control" formControlName="cy">
                                                </div>
                                                <div class="form-group col-6">
                                                    <label for="rx" class="form-label">RX</label>
                                                    <input type="text" id="rx" class="form-control" formControlName="rx">
                                                </div>
                                                <div class="form-group col-6">
                                                    <label for="ry" class="form-label">RY</label>
                                                    <input type="text" id="ry" class="form-control" formControlName="ry">
                                                </div>
                                                <div class="col-12">
                                                    <div class="form-group">
                                                        <label class="form-label d-block">Fill</label>
                                                        <color-picker [colorSet]="colorSet" [getActiveControl]="getActiveControl" formControlName="fill"></color-picker>
                                                    </div>
                                                </div>

                                                <div class="form-group col-12">
                                                    <label [for]="'opacity'+i" class="form-label">Opacity</label>
                                                    <input type="range" [id]="'opacity'+i" class="form-range" min="0" max="1" step="0.01" formControlName="opacity">
                                                </div>
                                                <div class="form-group col-6">
                                                    <label for="originX" class="form-label">Origin X</label>
                                                    <input type="text" id="originX" class="form-control" formControlName="originX">
                                                </div>
                                                <div class="form-group col-6">
                                                    <label for="originY" class="form-label">Origin Y</label>
                                                    <input type="text" id="originY" class="form-control" formControlName="originY">
                                                </div>
                                                <div class="form-group col-12">
                                                    <label [for]="'rotate'+i" class="form-label">Rotation</label>
                                                    <input type="range" [id]="'rotate'+i" class="form-range" min="0" max="360" step="0.5" formControlName="rotate">
                                                </div>
                                            </ng-container>
                                            <ng-container formGroupName="line" *ngIf="item.get('line')">
                                                <div class="form-group col-6">
                                                    <label for="x1" class="form-label">X1</label>
                                                    <input type="text" id="x1" class="form-control" formControlName="x1">
                                                </div>
                                                <div class="form-group col-6">
                                                    <label for="y1" class="form-label">Y1</label>
                                                    <input type="text" id="y1" class="form-control" formControlName="y1">
                                                </div>
                                                <div class="form-group col-6">
                                                    <label for="x2" class="form-label">X2</label>
                                                    <input type="text" id="x2" class="form-control" formControlName="x2">
                                                </div>
                                                <div class="form-group col-6">
                                                    <label for="y2" class="form-label">Y2</label>
                                                    <input type="text" id="y2" class="form-control" formControlName="y2">
                                                </div>
                                                <div class="form-group col-6">
                                                    <label for="stroke" class="form-label">Stroke</label>
                                                    <input type="text" id="stroke" class="form-control" formControlName="stroke">
                                                </div>
                                                <div class="form-group col-6">
                                                    <label for="strokeWidth" class="form-label">Stroke Width</label>
                                                    <input type="text" id="strokeWidth" class="form-control" formControlName="strokeWidth">
                                                </div>
                                                <div class="form-group col-6">
                                                    <label [for]="'opacity'+i" class="form-label">Opacity</label>
                                                    <input type="range" [id]="'opacity'+i" class="form-range" min="0" max="1" step="0.01" formControlName="opacity">
                                                </div>
                                                <div class="form-group col-6">
                                                    <label for="originX" class="form-label">Origin X</label>
                                                    <input type="text" id="originX" class="form-control" formControlName="originX">
                                                </div>
                                                <div class="form-group col-6">
                                                    <label for="originY" class="form-label">Origin Y</label>
                                                    <input type="text" id="originY" class="form-control" formControlName="originY">
                                                </div>
                                                <div class="form-group col-6">
                                                    <label for="rotate" class="form-label">Rotation</label>
                                                    <input type="text" id="rotate" class="form-control" formControlName="rotate">
                                                </div>
                                            </ng-container>
                                            <ng-container formGroupName="text" *ngIf="item.get('text')">
                                                <div class="form-group col-12" [class.d-none]="!getActiveControl(i,'edit')">
                                                    <label for="text" class="form-label">Type</label>
                                                    <select id="type" class="form-select" formControlName="type">
                                                        <option value="select">Select</option>
                                                        <option value="text">Text</option>
                                                    </select>
                                                </div>
                                                <div class="form-group col-12" [class.d-none]="!getActiveControl(i,'edit')" *ngIf="item.get('text')?.get('api')">
                                                    <label for="text" class="form-label">API</label>
                                                    <div class="input-group mb-3">
                                                        <input type="text" class="form-control" formControlName="api">
                                                        <span class="input-group-text btn btn-success" (click)="syncData(item.get('text'))"><i class="fa fa-refresh me-2"></i>Fetch</span>
                                                    </div>
                                                </div>
                                                <div class="form-group col-12" [class.d-none]="!getActiveControl(i,'edit')" *ngIf="item.get('text')?.get('lang')">
                                                    <label for="text" class="form-label">Language</label>
                                                    <select class="form-select" formControlName="lang">
                                                        <option value="en">English</option>
                                                        <option value="gu">Gujarati</option>
                                                    </select>
                                                </div>
                                                <div class="form-group col-12" [class.d-none]="!getActiveControl(i,'edit')" *ngIf="item.get('text')?.get('dependency')">
                                                    <label for="text" class="form-label">Dependency</label>
                                                    <select class="form-select" formControlName="dependency">
                                                        <option value="none" selected>None</option>
                                                        <!-- <option *ngFor="let option of dependencyList(item.get('text')?.get('controlName')?.value)" [value]="option.value">{{ option.title }}</option> -->
                                                        <option *ngFor="let option of (selectData | dependencyList:item.get('text')?.get('controlName')?.value)" [value]="option.value">{{ option.title }}</option>
                                                    </select>
                                                </div>
                                                <div [ngSwitch]="item.get('text')?.get('type')?.value">
                                                    <div *ngSwitchCase="'select'" class="form-group col-12" [class.d-none]="!getActiveControl(i,'edit')">
                                                        <label for="text" class="form-label">Input Text</label>
                                                        <select id="type" class="form-select" formControlName="text" *ngIf="item.get('text')?.get('controlName')">
                                                            <option [value]="item.get('title')?.value" disabled selected>{{item.get('title')?.value}}</option>
                                                            <option *ngFor="let option of apiData[item.get('text')?.get('controlName')?.value]" [value]="option.id">{{ item.get('text')?.get('lang')?.value=='en'?option.name:option.gu_name }}</option>
                                                        </select>
                                                    </div>
                                                    <div *ngSwitchCase="'anotherType'" class="form-group col-12" [class.d-none]="!getActiveControl(i,'edit')">
                                                        <label for="text" class="form-label">Input Text</label>
                                                        <textarea id="text" class="form-control" formControlName="text"></textarea>
                                                    </div>
                                                    <div *ngSwitchDefault class="form-group col-12" [class.d-none]="!getActiveControl(i,'edit')">
                                                        <label for="text" class="form-label">Input Text</label>
                                                        <textarea id="text" class="form-control" formControlName="text"></textarea>
                                                    </div>
                                                </div>
                                                <input type="hidden" formControlName="x">
                                                <input type="hidden" formControlName="controlName" *ngIf="item.get('text')?.get('controlName')">
                                                <input type="hidden" formControlName="y">
                                                <div class="form-group col-12" [class.d-none]="!getActiveControl(i,'fontSize')">
                                                    <div class="input-group d-flex align-items-center">
                                                        <div class="input-group-prepend">
                                                            <span class="input-group-text b">Font Size</span>
                                                        </div>
                                                        <input type="range" class="form-control border-0 mx-4 form-range" [attr.min]="postDetailsForm.get('w')?.value/90" [attr.max]="postDetailsForm.get('w')?.value/2" step="0.5" formControlName="fs">
                                                        <div class="input-group-append w-60-px">
                                                            <span class="input-group-text text-end d-block">{{
                                                                item.get('text')?.get('fs')?.value | number:
                                                                '1.2-2' }}
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <ng-container>
                                                    <div class="col-12" [class.d-none]="!getActiveControl(i,'fill')">
                                                        <div class="form-group">
                                                            <label class="form-label d-block">Color</label>
                                                            <color-picker [colorSet]="colorSet" [getActiveControl]="getActiveControl" formControlName="color"></color-picker>
                                                        </div>
                                                    </div>
                                                </ng-container>
                                                <div formGroupName="fontStyle" class="col-6" [class.d-none]="!getActiveControl(i,'fontStyle')">
                                                    <div class="form-group">
                                                        <label class="form-label">Font Style</label>
                                                        <div class="btn-group btn-group-toggle w-100" data-toggle="buttons">
                                                            <label class="btn btn-outline-dark" [class.active]="item.get('text')?.get('fontStyle')?.get('italic')?.value">
                                                                <input type="checkbox" autocomplete="off" formControlName="italic" class="d-none"><i class="fa fa-italic"></i>
                                                            </label>
                                                            <label class="btn btn-outline-dark" [class.active]="item.get('text')?.get('fontStyle')?.get('underline')?.value">
                                                                <input type="checkbox" autocomplete="off" formControlName="underline" class="d-none"><i class="fa fa-underline"></i>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-12" [class.d-none]="!getActiveControl(i,'textAlign')">
                                                    <div class="form-group">
                                                        <label class="form-label">Text Align</label>
                                                        <div class="btn-group w-100" role="group" data-toggle="buttons">
                                                            <input type="radio" class="btn-check" [id]="'radioLeft'+i" formControlName="textAnchor" [value]="'start'" autocomplete="off">
                                                            <label class="btn btn-outline-dark" [for]="'radioLeft'+i">
                                                                <i class="fa fa-align-left"></i>
                                                            </label>
                                                            <input type="radio" class="btn-check" [id]="'radioCenter'+i" formControlName="textAnchor" [value]="'middle'" autocomplete="off">
                                                            <label class="btn btn-outline-dark" [for]="'radioCenter'+i">
                                                                <i class="fa fa-align-center"></i>
                                                            </label>
                                                            <input type="radio" class="btn-check" [id]="'radioRight'+i" formControlName="textAnchor" [value]="'end'" autocomplete="off">
                                                            <label class="btn btn-outline-dark" [for]="'radioRight'+i">
                                                                <i class="fa fa-align-right"></i>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-12" [class.d-none]="!getActiveControl(i,'textAlign')">
                                                    <div class="form-group">
                                                        <label class="form-label">Verticle Align</label>
                                                        <div class="btn-group w-100" role="group" data-toggle="buttons">
                                                            <input type="radio" class="btn-check" [id]="'alignmentBaselineSrart'+i" formControlName="alignmentBaseline" [value]="'hanging'" autocomplete="off">
                                                            <label class="btn btn-outline-dark" [for]="'alignmentBaselineSrart'+i">
                                                                <i class="fa fa-arrow-up"></i>
                                                            </label>
                                                            <input type="radio" class="btn-check" [id]="'alignmentBaselineMiddle'+i" formControlName="alignmentBaseline" [value]="'middle'" autocomplete="off">
                                                            <label class="btn btn-outline-dark" [for]="'alignmentBaselineMiddle'+i">
                                                                <i class="fa fa-arrows-v"></i>
                                                            </label>
                                                            <input type="radio" class="btn-check" [id]="'alignmentBaselineEnd'+i" formControlName="alignmentBaseline" [value]="'baseline'" autocomplete="off">
                                                            <label class="btn btn-outline-dark" [for]="'alignmentBaselineEnd'+i">
                                                                <i class="fa fa-arrow-down"></i>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group col-6" [class.d-none]="!getActiveControl(i,'rotate')">
                                                    <label for="rotate" class="form-label">Rotate</label>
                                                    <input type="text" id="rotate" class="form-control" formControlName="rotate">
                                                </div>
                                                <ng-container *ngIf="item.get('text')?.get('fontFamily') as FF">
                                                    <div class="form-group col-6" [class.d-none]="!getActiveControl(i,'fontFamily')">
                                                        <label for="fontFamilySelect">Font Family</label>
                                                        <select class="form-select" id="fontFamilySelect" [value]="item.get('text')?.get('fontFamily')?.value" (change)="updateFontWeights(FF)" formControlName="fontFamily">
                                                            <option value="">Select a font family</option>
                                                            <option *ngFor="let font of fontFamilies" [value]="font.family">{{ font.family }}
                                                            </option>
                                                        </select>
                                                    </div>
                                                    <div class="col-12" [class.d-none]="!getActiveControl(i,'fontWeight')">
                                                        <div class="form-group">
                                                            <label class="form-label">Font Weight</label>
                                                            <div class="btn-group w-100" role="group" data-toggle="buttons" *ngIf="getWeight(FF).length">
                                                                <ng-container *ngFor="let weight of getWeight(FF)">
                                                                    <input type="radio" class="btn-check" [id]="'fw-' + weight + i" formControlName="fw" [value]="weight" autocomplete="off">
                                                                    <label class="btn btn-outline-dark" [for]="'fw-' + weight + i">
                                                                        <span [style]="'font-weight:'+weight">A</span>
                                                                    </label>
                                                                </ng-container>
                                                            </div>
                                                            <input type="text" id="rotate" class="form-control" *ngIf="!getWeight(FF).length" formControlName="fw">
                                                        </div>
                                                    </div>
                                                </ng-container>
                                                <ng-container formGroupName="textShadow">
                                                    <div [class.d-none]="!getActiveControl(i,'textShadow')">
                                                        <div class="col-12">
                                                            <div class="form-check">
                                                                <input class="form-check-input" type="checkbox" value="" formControlName="enable" [id]="'text-shadow-'+i">
                                                                <label class="form-check-label h6 m-0" [for]="'text-shadow-'+i">Text Shadow</label>
                                                            </div>
                                                        </div>
                                                        <ng-container *ngIf="item.get('text')?.get('textShadow')?.get('enable')?.value">
                                                            <div class="form-group col-12 col-sm-6">
                                                                <label for="shadowColor" class="form-label">Shadow Color</label>
                                                                <div class="btn-group rounded-0 d-block" role="group" data-toggle="buttons">
                                                                    <ng-container *ngFor="let color of colorSet">
                                                                        <input type="radio" class="btn-check" [id]="'shadow-color-' + color+i" formControlName="color" [value]="color" autocomplete="off">
                                                                        <label class="btn btn-outline-white p-3 rounded-0 w-50-px h-50-px border-2 rounded-3" [for]="'shadow-color-' + color+i" [class.border-secondary]="item.get('text')?.get('textShadow')?.get('color')?.value == color">
                                                                            <!-- Display a color sample -->
                                                                            <span [style]="'background-color: '+color+'; display: block;'" class="position-absolute w-75 h-75 top-50 start-50 rounded-3 translate-middle" [class]="getColorClass(item.get('text')?.get('textShadow')?.get('color')?.value == color)"></span>
                                                                        </label>
                                                                    </ng-container>
                                                                    <div class="spinner-border" role="status" *ngIf="!colorSet.length">
                                                                        <span class="sr-only">Loading...</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="col-12 col-sm-6 d-flex align-items-end">
                                                                <input type="text" class="form-control" [value]="item.get('text')?.get('textShadow')?.get('color')?.value" (input)="updateColor($event, item.get('text')?.get('textShadow')?.get('color'))">
                                                            </div>
                                                            <div class="form-group col-12">
                                                                <label for="shadowBlur" class="form-label">Shadow Blur</label>
                                                                <input type="range" class="form-range" [attr.min]="0" [attr.max]="item.get('text')?.get('fs')?.value" step="0.1" formControlName="blur">

                                                            </div>
                                                            <div class="form-group col-12">
                                                                <label for="shadowOffsetX" class="form-label">Shadow Offset X</label>
                                                                <input type="range" class="form-range" [attr.min]="-item.get('text')?.get('fs')?.value" [attr.max]="item.get('text')?.get('fs')?.value" step="0.1" formControlName="offsetX">
                                                            </div>
                                                            <div class="form-group col-12">
                                                                <label for="shadowOffsetY" class="form-label">Shadow Offset Y</label>
                                                                <input type="range" class="form-range" [attr.min]="-item.get('text')?.get('fs')?.value" [attr.max]="item.get('text')?.get('fs')?.value" step="0.1" formControlName="offsetY">
                                                            </div>
                                                        </ng-container>
                                                    </div>
                                                </ng-container>
                                                <div class="form-group col-12" [class.d-none]="!getActiveControl(i,'textBackground')">
                                                    <label for="backgroundColor" class="form-label">Background
                                                        Color</label>
                                                    <div class="btn-group rounded-0 d-block" role="group" data-toggle="buttons">
                                                        <ng-container *ngFor="let borderColorOption of colorSet">
                                                            <input type="radio" class="btn-check" [id]="'backgroundColor-group-' + borderColorOption + i" formControlName="backgroundColor" [value]="borderColorOption" autocomplete="off">
                                                            <label class="btn btn-outline-white p-3 rounded-0 w-50-px h-50-px border-2 rounded-3" [for]="'backgroundColor-group-' + borderColorOption + i" [class.border-secondary]="item.get('text')?.get('backgroundColor')?.value == borderColorOption">
                                                                <span [style]="'background-color: '+borderColorOption+'; display: block;'" class="position-absolute w-75 h-75 top-50 start-50 rounded-3 translate-middle" [class]="getColorClass(item.get('text')?.get('backgroundColor')?.value == borderColorOption)"></span>
                                                            </label>
                                                        </ng-container>
                                                        <div class="spinner-border" role="status" *ngIf="!colorSet.length">
                                                            <span class="sr-only">Loading...</span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-6 d-flex align-items-end" [class.d-none]="!getActiveControl(i,'textBackground')">
                                                    <input type="text" class="form-control" [value]="item.get('text')?.get('backgroundColor')?.value" (input)="updateColor($event, item.get('text')?.get('backgroundColor'))">
                                                </div>
                                                <ng-container formGroupName="textEffects">
                                                    <div class="col-12">
                                                        <div class="form-check" [class.d-none]="!getActiveControl(i,'textEffects')">
                                                            <input class="form-check-input" type="checkbox" value="" formControlName="enable" [id]="'text-effect-'+i">
                                                            <label class="form-check-label h5 m-0" [for]="'text-effect-'+i">Text
                                                                Effects</label>
                                                            {{item.get('text')?.get('textEffects')?.get('enable')?.value}}
                                                        </div>
                                                        <ng-container *ngIf="item.get('text')?.get('textEffects')?.get('enable')?.value">
                                                            <div class="p-2" [class.d-none]="!getActiveControl(i,'textEffects')">
                                                                <ng-container formGroupName="gradient">
                                                                    <div class="form-check">
                                                                        <input class="form-check-input" type="checkbox" value="" formControlName="enable" [id]="'text-gradient-'+i">
                                                                        <label class="form-check-label h5 m-0" [for]="'text-gradient-'+i">Gradient</label>
                                                                    </div>
                                                                    <div class="p-2" *ngIf="item.get('text')?.get('textEffects')?.get('gradient')?.get('enable')?.value">

                                                                        <div class="row">
                                                                            <div class="form-group col-6">
                                                                                <label for="gradientStartColor" class="form-label">Gradient
                                                                                    Start
                                                                                    Color</label>
                                                                                <input type="text" id="gradientStartColor" class="form-control" formControlName="startColor">
                                                                            </div>
                                                                            <div class="form-group col-6">
                                                                                <label for="gradientEndColor" class="form-label">Gradient
                                                                                    End
                                                                                    Color</label>
                                                                                <input type="text" id="gradientEndColor" class="form-control" formControlName="endColor">
                                                                            </div>
                                                                            <div class="form-group col-6">
                                                                                <label for="gradientDirection" class="form-label">Gradient
                                                                                    Direction</label>
                                                                                <input type="text" id="gradientDirection" class="form-control" formControlName="direction">
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </ng-container>
                                                                <ng-container formGroupName="outline">
                                                                    <div class="form-check">
                                                                        <input class="form-check-input" type="checkbox" value="" formControlName="enable" [id]="'text-outline-'+i">
                                                                        <label class="form-check-label h5 m-0" [for]="'text-outline-'+i">Outline</label>
                                                                    </div>
                                                                    <div class="p-2" *ngIf="item.get('text')?.get('textEffects')?.get('outline')?.get('enable')?.value">
                                                                        <div class="row">
                                                                            <div class="form-group col-6">
                                                                                <label for="outlineColor" class="form-label">Outline
                                                                                    Color</label>
                                                                                <input type="text" id="outlineColor" class="form-control" formControlName="color">
                                                                            </div>
                                                                            <div class="form-group col-6">
                                                                                <label for="outlineWidth" class="form-label">Outline
                                                                                    Width</label>
                                                                                <input type="text" id="outlineWidth" class="form-control" formControlName="width">
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </ng-container>
                                                                <ng-container formGroupName="glow">
                                                                    <div class="form-check">
                                                                        <input class="form-check-input" type="checkbox" value="" formControlName="enable" [id]="'text-glow-'+i">
                                                                        <label class="form-check-label h5 m-0" [for]="'text-glow-'+i">Glow</label>
                                                                    </div>
                                                                    <div class="p-2" *ngIf="item.get('text')?.get('textEffects')?.get('glow')?.get('enable')?.value">
                                                                        <div class="row">
                                                                            <div class="form-group col-6">
                                                                                <label for="glowColor" class="form-label">Glow
                                                                                    Color</label>
                                                                                <input type="text" id="glowColor" class="form-control" formControlName="color">
                                                                            </div>
                                                                            <div class="form-group col-6">
                                                                                <label for="glowBlur" class="form-label">Glow
                                                                                    Blur</label>
                                                                                <input type="number" id="glowBlur" class="form-control" formControlName="blur">
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </ng-container>
                                                            </div>
                                                        </ng-container>
                                                    </div>
                                                </ng-container>
                                                <div class="form-group col-6" [class.d-none]="!getActiveControl(i,'letterSpacing')">
                                                    <label for="letterSpacing" class="form-label">Letter
                                                        Spacing</label>
                                                    <input type="number" id="letterSpacing" class="form-control" formControlName="letterSpacing">
                                                </div>
                                                <div class="form-group col-12" [class.d-none]="!getActiveControl(i,'lineHeight')">
                                                    <label for="lineHeight" class="form-label">Line Height</label>
                                                    <input type="range" class="border-0 form-range" [attr.min]="0" [attr.max]="5" step="0.1" formControlName="lineHeight">
                                                    <div class="input-group-append w-60-px">
                                                        <span class="input-group-text text-end d-block">{{
                                                            item.get('text')?.get('lineHeight')?.value | number:
                                                            '1.2-2' }}
                                                        </span>
                                                    </div>
                                                </div>
                                                <div class="form-group col-6" [class.d-none]="!getActiveControl(i,'textTransformation')">
                                                    <label for="textTransformation" class="form-label">Text
                                                        Transformation</label>
                                                    <input type="text" id="textTransformation" class="form-control" formControlName="textTransformation">
                                                </div>
                                                <div class="form-group col-6" [class.d-none]="!getActiveControl(i,'opacity')">
                                                    <label [for]="'opacity'+i" class="form-label">Opacity</label>
                                                    <input type="range" [id]="'opacity'+i" class="form-range" min="0" max="1" step="0.01" formControlName="opacity">
                                                </div>
                                            </ng-container>
                                            <ng-container formGroupName="image" *ngIf="item.get('image')">
                                                <div class="form-group col-12" [class.d-none]="!getActiveControl(i,'dimension')" *ngIf="item.get('image')?.get('r')">
                                                    <label for="r" class="form-label">Radius (r)</label>
                                                    <input type="range" class="form-range" [attr.min]="postDetailsForm.get('w')?.value/20||80" [attr.max]="postDetailsForm.get('w')?.value/2-30" step="0.5" formControlName="r">
                                                </div>
                                                <div class="form-group col-6" [class.d-none]="!getActiveControl(i,'position')">
                                                    <label for="x" class="form-label">X Position</label>
                                                    <input type="number" id="x" class="form-control" formControlName="x">
                                                </div>
                                                <div class="form-group col-6" [class.d-none]="!getActiveControl(i,'position')">
                                                    <label for="y" class="form-label">Y Position</label>
                                                    <input type="number" id="y" class="form-control" formControlName="y">
                                                </div>
                                                <div class="form-group col-6" [class.d-none]="!getActiveControl(i,'url')">
                                                    <label for="imageUrl" class="form-label">Image
                                                        URL</label>
                                                    <input type="text" id="imageUrl" class="form-control" formControlName="imageUrl">
                                                </div>
                                                <div class="col-12" [class.d-none]="!getActiveControl(i,'fill')">
                                                    <div class="row g-3">
                                                        <div class="col-12">
                                                            <div class="form-group">
                                                                <label class="form-label d-block">Color</label>
                                                                <color-picker [colorSet]="colorSet" [getActiveControl]="getActiveControl" formControlName="borderColor"></color-picker>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group col-6" [class.d-none]="!getActiveControl(i,'fill')">
                                                    <label for="borderWidth" class="form-label">Border
                                                        Width</label>
                                                    <input type="number" id="borderWidth" class="form-control" formControlName="borderWidth">
                                                </div>
                                                <div class="form-group col-6" [class.d-none]="!getActiveControl(i,'dimension')">
                                                    <label for="shape" class="form-label">Shape</label>
                                                    <select class="form-select" formControlName="shape">
                                                        <option value="circle">Circle</option>
                                                        <option value="rect">Rectangle</option>
                                                        <option value="rect_1_1">1:1</option>
                                                        <option value="rect_3_2">3:2</option>
                                                        <option value="rect_2_3">2:3</option>
                                                        <option value="rect_4_3">4:3</option>
                                                        <option value="rect_3_4">3:4</option>
                                                        <option value="rect_16_9">16:9</option>
                                                        <option value="rect_9_16">9:16</option>
                                                        <option value="rect_5_4">5:4</option>
                                                        <option value="rect_4_5">4:5</option>
                                                        <option value="rect_7_5">7:5</option>
                                                        <option value="rect_5_7">5:7</option>
                                                    </select>
                                                </div>
                                                <div class="form-group col-6" [class.d-none]="!getActiveControl(i,'origin')">
                                                    <label for="origin" class="form-label">Origin</label>
                                                    <input type="text" id="origin" class="form-control" formControlName="origin">
                                                </div>
                                                <div class="form-group col-6" [class.d-none]="!getActiveControl(i,'edit')">
                                                    <label for="placeholder" class="form-label">Placeholder</label>
                                                    <input type="text" id="placeholder" class="form-control" formControlName="placeholder">
                                                </div>
                                                <div class="form-group col-6" [class.d-none]="!getActiveControl(i,'rotate')">
                                                    <label [for]="'rotate'+i" class="form-label">Rotate</label>
                                                    <input type="range" [id]="'rotate'+i" class="form-range" min="0" max="360" step="1" formControlName="rotate">
                                                </div>
                                                <ng-container formGroupName="svgProperties">
                                                    <div class="col-6 d-none">
                                                        <div class="form-group">
                                                            <label class="form-label d-block">Fill</label>
                                                            <div class="btn-group rounded-0 d-block" role="group" data-toggle="buttons">
                                                                <ng-container *ngFor="let fillOption of colorSet">
                                                                    <input type="radio" class="btn-check" [id]="'fill-group-' + fillOption + i" formControlName="fill" [value]="fillOption" autocomplete="off">
                                                                    <label class="btn btn-outline-white p-3 rounded-0 w-50-px h-50-px border-2 rounded-3" [for]="'fill-group-' + fillOption + i" [class.border-secondary]="item.get('image')?.get('svgProperties')?.get('fill')?.value == fillOption">
                                                                        <!-- Display a color sample or gradient -->
                                                                        <span [style]="'background-color: '+fillOption+'; display: block;'" class="position-absolute w-75 h-75 top-50 start-50 rounded-3 translate-middle" [class]="getColorClass(item.get('image')?.get('svgProperties')?.get('fill')?.value == fillOption)"></span>
                                                                    </label>
                                                                </ng-container>
                                                                <div class="spinner-border" role="status" *ngIf="!colorSet.length">
                                                                    <span class="sr-only">Loading...</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-6 d-flex align-items-end d-none">
                                                        <input type="text" class="form-control" [value]="item.get('image')?.get('svgProperties')?.get('fill')?.value" (input)="updateColor($event, item.get('image')?.get('svgProperties')?.get('fill'))">
                                                    </div>
                                                    <div class="form-group col-6 d-none">
                                                        <label for="stroke" class="form-label">Stroke Color</label>
                                                        <input type="text" id="stroke" class="form-control" formControlName="stroke">
                                                    </div>
                                                    <div class="form-group col-6 d-none">
                                                        <label for="strokeWidth" class="form-label">Stroke
                                                            Width</label>
                                                        <input type="number" id="strokeWidth" class="form-control" formControlName="strokeWidth">
                                                    </div>
                                                </ng-container>
                                            </ng-container>
                                        </ng-container>
                                    </div>
                                </div>
                            </div>
                            <div cdkDropList [cdkDropListData]="postDetails.data" (cdkDropListDropped)="drop($event)" *ngIf="selectedElement==postDetails.data.length">
                                <div *ngFor="let item of postDetails.data; let i = index" cdkDrag class="drag-item h-40-px pe-5 position-relative d-flex rounded-3 overflow-hidden">
                                    <div cdkDragHandle class=" position-absolute h-100 w-40-px end-0 top-0 d-flex align-items-center justify-content-center bg-secondary text-white">
                                        <i class="fa fa-arrows"></i>
                                    </div>
                                    <button *ngIf="item.title" class="btn btn-flat outline-0 min-h-100-p w-100 p-2 d-flex align-items-center" (click)="selectedElement=i">{{ item.title }}</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex align-item-center justify-content-stretch position-static w-100-p shadow start-0 bottom-0 p-2 bg-white">
                        <button type="button" class="add-container min-w-40-px min-h-40-px rounded-circle btn btn-secondary p-0" (click)="toggleExpand($event)" *ngIf="selectedElement==postDetails.data.length">
                            <i class="fa w-40-px h-40-px d-flex align-items-center justify-content-center" [class.fa-plus]="!isExpanded" [class.fa-close]="isExpanded"></i>
                        </button>
                        <button type="button" class="add-container min-w-40-px min-h-40-px rounded-0 border-0 btn btn-flat border-end p-0" *ngIf="selectedElement!==postDetails.data.length" (click)="selectedElement=postDetails.data.length">
                            <i class="fa w-40-px h-40-px d-flex align-items-center justify-content-center fa-close"></i>
                        </button>
                        <div class="control-container flex-grow-1 px-0 overflow-auto">
                            <ng-container *ngFor="let item of dataArray.controls; let i = index" class="row g-3" [class.d-none]="selectedElement!==i">
                                <div class="position-relative" *ngIf="selectedElement==i">
                                    <div class="btn-group btn-group-toggle w-100 rounded-0 control-group" #controlGroup scrollCenter [activeIndexSet]="activeControlIndex" [selectedIndexSet]="selectedElement||-1">
                                        <ng-container *ngFor="let control of controlSet[i]; let j = index">
                                            <span class="p-0 fw-bold min-w-80-px" [ngClass]="{'pe-none': control.active}">
                                                <input type="radio" class="btn-check" [id]="'control-' + i + '-' + j" [value]="control.id" [checked]="control.active" (change)="setActiveControl(i, j);">
                                                <label class="d-flex flex-column align-items-center justify-content-center px-2 py-1 link" [for]="'control-' + i + '-' + j" [title]="control.id">
                                                    <i [class]="'d-flex align-items-center justify-content-center rounded-2 mt-1 w-25-px h-25-px fa ' + control.icon" [ngClass]="{
                                                'bg-secondary': control.active,
                                                'text-light': control.active,
                                                }"></i>

                                                    <small class="d-block text-nowrap mt-1">{{control.title}}</small></label>
                                            </span>
                                        </ng-container>
                                    </div>
                                </div>
                            </ng-container>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="fab-container" [class.expanded]="isExpanded" (click)="toggleExpand($event)">
        <div class="sub-button">
            <a href="#" class="shadow" (click)="addData('rect');false;">
                <i class="fa fa-square"></i><span class="shadow">Rect</span>
            </a>
        </div>
        <div class="sub-button">
            <a href="#" class="shadow" (click)="addData('circle');false;">
                <i class="fa fa-circle"></i><span class="shadow">Circle</span>
            </a>
        </div>
        <div class="sub-button">
            <a href="#" class="shadow" (click)="addData('ellipse');false;">
                <i class="fa fa-circle"></i><span class="shadow">Ellipse</span>
            </a>
        </div>
        <div class="sub-button">
            <a href="#" class="shadow" (click)="addData('line');false;">
                <i class="fa fa-minus"></i><span class="shadow">Line</span>
            </a>
        </div>
        <div class="sub-button">
            <a href="#" class="shadow" (click)="addData('text');false;">
                <i class="fa fa-font"></i><span class="shadow">Text</span>
            </a>
        </div>
        <div class="sub-button">
            <a href="#" class="shadow" (click)="addData('image');false;">
                <i class="fa fa-image"></i><span class="shadow">Image</span>
            </a>
        </div>
    </div>
</form>
<div id="confirmDelete" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Confirm Delete</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-danger" id="btnDelete" (click)="softDelete()">Delete</button>
            </div>
        </div>
    </div>
</div>