<!-- src/app/file-manager/details/details.component.html -->

<div class="p-4" *ngIf="image; else notFound">

    <!-- Preview -->
    <mat-card class="mb-4">
        <div class="ratio ratio-1x1 bg-light bg-opacity-25" role="img" [ngStyle]="{
            'background-image': 'url('+apiUrl+'/user-img/uploads/'+image.id+'?thumb=medium)',
            'background-size': 'contain',
            'background-position': 'center',
            'background-repeat': 'no-repeat'
         }">
        </div>
    </mat-card>

    <!-- Metadata -->
    <mat-card class="mb-4">
        <mat-card-title>{{ image.image_url || 'Unnamed' }}</mat-card-title>
        <mat-card-subtitle>{{ image.metadata || 'No metadata' }}</mat-card-subtitle>
        <mat-divider class="my-2"></mat-divider>
        <div class="d-flex flex-column gap-2">
            <div><strong>ID:</strong> {{ image.id }}</div>
            <div><strong>Description:</strong> {{ image.description || 'N/A' }}</div>
            <div><strong>Size:</strong> {{ image.size || 'Unknown' }}</div>
            <div><strong>Created At:</strong> {{ image.created_at || 'N/A' }}</div>
        </div>
    </mat-card>

    <!-- Actions -->
    <div class="d-flex gap-2">
        <a mat-flat-button color="primary" [href]="getImageUrl()" target="_blank">
            <mat-icon>open_in_new</mat-icon>
            <span>Open</span>
        </a>

        <a mat-stroked-button [href]="getImageUrl()" download>
            <mat-icon>download</mat-icon>
            <span>Download</span>
        </a>
    </div>

</div>

<!-- Not Found -->
<ng-template #notFound>
    <mat-card class="p-4 text-center">
        <mat-icon class="mb-2" style="font-size: 48px;">image_not_supported</mat-icon>
        <div class="text-lg font-medium">Image not found</div>
        <div class="text-secondary">Make sure the image ID is correct.</div>
    </mat-card>
</ng-template>